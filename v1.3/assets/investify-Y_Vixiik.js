var Xg=Object.defineProperty;var Zg=(y,a,i)=>a in y?Xg(y,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):y[a]=i;var Jn=(y,a,i)=>(Zg(y,typeof a!="symbol"?a+"":a,i),i);import{p as Nu,o as $e,c as Ve,a as O,t as Kn,n as on,b as J,d as Ot,w as Qg,e as Bi,u as Ht,F as Tn,r as ar,f as ep,g as tp,K as np,m as Lr}from"./index-RgUgKNee.js";var Qr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rp(y){return y&&y.__esModule&&Object.prototype.hasOwnProperty.call(y,"default")?y.default:y}var Wu={};(function(y){(()=>{var a={541:(f,x,N)=>{var j=N(353),ye=ce(j),le=N(37),Q=ce(le),M=N(630),P=ce(M),k=function(){function q(Y,A){for(var I=0;I<A.length;I++){var W=A[I];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Y,W.key,W)}}return function(Y,A,I){return A&&q(Y.prototype,A),I&&q(Y,I),Y}}(),z=N(457),D=ce(z),ee=N(729),B=ce(ee),l=N(702);N(303);var K=N(248),c=ce(K),ue=N(249),pe=ce(ue);function ce(q){return q&&q.__esModule?q:{default:q}}function ze(q,Y){if(!(q instanceof Y))throw new TypeError("Cannot call a class as a function")}function De(q,Y){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y&&(typeof Y=="object"||typeof Y=="function")?Y:q}function ot(q,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);q.prototype=Object.create(Y&&Y.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(q,Y):q.__proto__=Y)}window.iFrameResizer=pe.default;var be=function(q){ot(Y,q);function Y(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ze(this,Y);var I=De(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this));return I.options=A,I.api=new c.default(I),I.channel=D.default.build({window:A.window||window.parent,origin:"*",scope:A.id||location.origin,postMessageObserver:function(ae,de){I.emit("postMessage",ae,de)},gotMessageObserver:function(ae,de){I.emit("gotMessage",ae,de)}}),["init","update","reload","_event"].forEach(function(W){I.channel.bind(W,function(ae,de){var ne=W,re=de;return W==="_event"&&(ne=de.eventName,re=de.eventData),I.emit(ne,re),"success"})}),I}return k(Y,[{key:"request",value:function(I){var W=this;return new l.Promise(function(ae,de){if(!(0,P.default)(I))throw new Error("Params must be an object");var ne=I.method,re=I.endpoint,Pe=I.query,Le=I.body;if(!ne||!re||!(0,Q.default)(ne)||!(0,Q.default)(re))throw new Error("Invalid method or endpoint");if(!(0,ye.default)(Pe)&&!(0,P.default)(Pe))throw new Error("Query must be an object");if(!(0,ye.default)(Le)&&!(0,P.default)(Le))throw new Error("Body must be an object");W.effectiveUser&&(I.effectiveUser=W.effectiveUser),W.channel.call({method:"request",params:I,success:function(Me){ae(Me)},error:function(Me){de(Me)}})})}},{key:"setEffectiveUser",value:function(I){this.effectiveUser=I}},{key:"saveData",value:function(I){var W=this;return new l.Promise(function(ae,de){if(!(0,P.default)(I))throw new Error("Data must be an object");W.channel.call({method:"saveData",params:I,success:function(){ae()},error:function(re){de(re)}})})}},{key:"addTransaction",value:function(I){var W=this;return new l.Promise(function(ae,de){if(!(0,ye.default)(I)&&!(0,P.default)(I))throw new Error("Attrs must be an object");W.channel.call({method:"addTransaction",params:I,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"editTransaction",value:function(I){var W=this;return new l.Promise(function(ae,de){if(!I||!(0,Q.default)(I))throw new Error("Invalid id");W.channel.call({method:"editTransaction",params:I,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"addInstitution",value:function(I){var W=this;return new l.Promise(function(ae,de){if(!(0,ye.default)(I)&&!(0,P.default)(I))throw new Error("Attrs must be an object");W.channel.call({method:"addInstitution",params:I,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"addInvestment",value:function(){var I=this;return new l.Promise(function(W,ae){I.channel.call({method:"addInvestment",success:function(ne){W(ne)},error:function(ne){ae(ne)}})})}},{key:"editInstitution",value:function(I){var W=this;return new l.Promise(function(ae,de){if(!I||!(0,Q.default)(I))throw new Error("Invalid id");W.channel.call({method:"editInstitution",params:I,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"editAsset",value:function(I){var W=this;return new l.Promise(function(ae,de){if(!I||!(0,Q.default)(I))throw new Error("Invalid id");W.channel.call({method:"editAsset",params:I,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"editLiability",value:function(I){var W=this;return new l.Promise(function(ae,de){if(!I||!(0,Q.default)(I))throw new Error("Invalid id");W.channel.call({method:"editLiability",params:I,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"deleteInstitution",value:function(I){var W=this;return new l.Promise(function(ae,de){if(!I||!(0,Q.default)(I))throw new Error("Invalid id");W.channel.call({method:"deleteInstitution",params:I,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"deleteAsset",value:function(I){var W=this;return new l.Promise(function(ae,de){if(!I||!(0,Q.default)(I))throw new Error("Invalid id");W.channel.call({method:"deleteAsset",params:I,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"deleteLiability",value:function(I){var W=this;return new l.Promise(function(ae,de){if(!I||!(0,Q.default)(I))throw new Error("Invalid id");W.channel.call({method:"deleteLiability",params:I,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"downloadDocument",value:function(I){var W=this;return new l.Promise(function(ae,de){if(!I||!(0,Q.default)(I))throw new Error("Invalid id");W.channel.call({method:"downloadDocument",params:I,success:function(){ae()},error:function(re){de(re)}})})}},{key:"upgradePremium",value:function(){var I=this;return new l.Promise(function(W,ae){I.channel.call({method:"upgradePremium",success:function(){W()},error:function(ne){ae(ne)}})})}},{key:"getSharings",value:function(){var I=this;return new l.Promise(function(W,ae){I.channel.call({method:"getSharings",success:function(ne){W(ne)},error:function(ne){ae(ne)}})})}},{key:"switchUser",value:function(I){var W=this;return new l.Promise(function(ae,de){if(!I||!(0,Q.default)(I))throw new Error("Invalid id");W.channel.call({method:"switchUser",params:I,success:function(){ae()},error:function(re){de(re)}})})}},{key:"destroy",value:function(){this.channel.destroy()}}]),Y}(B.default);f.exports=be},248:f=>{var x=function(){function ye(le,Q){for(var M=0;M<Q.length;M++){var P=Q[M];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(le,P.key,P)}}return function(le,Q,M){return Q&&ye(le.prototype,Q),M&&ye(le,M),le}}();function N(ye,le){if(!(ye instanceof le))throw new TypeError("Cannot call a class as a function")}var j=function(){function ye(le){N(this,ye),this.addon=le}return x(ye,[{key:"getAssets",value:function(Q){return this.addon.request({method:"GET",endpoint:"assets",query:Q})}},{key:"getCurrencies",value:function(Q){return this.addon.request({method:"GET",endpoint:"currencies",query:Q})}},{key:"getInstitutions",value:function(Q){return this.addon.request({method:"GET",endpoint:"institutions",query:Q})}},{key:"getInstitution",value:function(Q){return this.addon.request({method:"GET",endpoint:"institutions/"+Q})}},{key:"pollInstitution",value:function(Q,M){return this.addon.request({method:"GET",endpoint:"institutions/"+Q+"/poll?v="+M})}},{key:"syncInstitution",value:function(Q){return this.addon.request({method:"POST",endpoint:"institutions/"+Q+"/sync"})}},{key:"addInstitution",value:function(Q){return console.warn("DEPRECATED: `addon.api.addInstitution`. Use `addon.addInstitution instead.`"),this.addon.request({method:"POST",endpoint:"institutions",body:Q})}},{key:"getLiabilities",value:function(Q){return this.addon.request({method:"GET",endpoint:"liabilities",query:Q})}},{key:"getPositions",value:function(Q){return this.addon.request({method:"GET",endpoint:"positions",query:Q})}},{key:"getTransactions",value:function(Q){return this.addon.request({method:"GET",endpoint:"transactions",query:Q})}},{key:"updateTransaction",value:function(Q){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.addon.request({method:"PUT",endpoint:"transactions/"+Q,body:M})}},{key:"getUser",value:function(){return this.addon.request({method:"GET",endpoint:"users/me"})}}]),ye}();f.exports=j},249:(f,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.default={heightCalculationMethod:function(){var j=document,ye=j.body,le=j.documentElement;return Math.max.apply(null,[ye.scrollHeight,ye.offsetHeight,le.offsetHeight])}}},702:function(f,x,N){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(j,ye){f.exports=ye()})(this,function(){function j(p){var F=typeof p;return p!==null&&(F==="object"||F==="function")}function ye(p){return typeof p=="function"}var le=void 0;Array.isArray?le=Array.isArray:le=function(p){return Object.prototype.toString.call(p)==="[object Array]"};var Q=le,M=0,P=void 0,k=void 0,z=function(F,w){be[M]=F,be[M+1]=w,M+=2,M===2&&(k?k(q):A())};function D(p){k=p}function ee(p){z=p}var B=typeof window<"u"?window:void 0,l=B||{},K=l.MutationObserver||l.WebKitMutationObserver,c=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",ue=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function pe(){return function(){return process.nextTick(q)}}function ce(){return typeof P<"u"?function(){P(q)}:ot()}function ze(){var p=0,F=new K(q),w=document.createTextNode("");return F.observe(w,{characterData:!0}),function(){w.data=p=++p%2}}function De(){var p=new MessageChannel;return p.port1.onmessage=q,function(){return p.port2.postMessage(0)}}function ot(){var p=setTimeout;return function(){return p(q,1)}}var be=new Array(1e3);function q(){for(var p=0;p<M;p+=2){var F=be[p],w=be[p+1];F(w),be[p]=void 0,be[p+1]=void 0}M=0}function Y(){try{var p=Function("return this")().require("vertx");return P=p.runOnLoop||p.runOnContext,ce()}catch{return ot()}}var A=void 0;c?A=pe():K?A=ze():ue?A=De():B===void 0?A=Y():A=ot();function I(p,F){var w=this,L=new this.constructor(de);L[ae]===void 0&&H(L);var $=w._state;if($){var X=arguments[$-1];z(function(){return Wt($,L,X,w._result)})}else Ut(w,L,p,F);return L}function W(p){var F=this;if(p&&typeof p=="object"&&p.constructor===F)return p;var w=new F(de);return ft(w,p),w}var ae=Math.random().toString(36).substring(2);function de(){}var ne=void 0,re=1,Pe=2;function Le(){return new TypeError("You cannot resolve a promise with itself")}function yt(){return new TypeError("A promises callback cannot return that same promise.")}function Me(p,F,w,L){try{p.call(F,w,L)}catch($){return $}}function Ge(p,F,w){z(function(L){var $=!1,X=Me(w,F,function(Je){$||($=!0,F!==Je?ft(L,Je):wt(L,Je))},function(Je){$||($=!0,at(L,Je))},"Settle: "+(L._label||" unknown promise"));!$&&X&&($=!0,at(L,X))},p)}function Ye(p,F){F._state===re?wt(p,F._result):F._state===Pe?at(p,F._result):Ut(F,void 0,function(w){return ft(p,w)},function(w){return at(p,w)})}function He(p,F,w){F.constructor===p.constructor&&w===I&&F.constructor.resolve===W?Ye(p,F):w===void 0?wt(p,F):ye(w)?Ge(p,F,w):wt(p,F)}function ft(p,F){if(p===F)at(p,Le());else if(j(F)){var w=void 0;try{w=F.then}catch(L){at(p,L);return}He(p,F,w)}else wt(p,F)}function lt(p){p._onerror&&p._onerror(p._result),bt(p)}function wt(p,F){p._state===ne&&(p._result=F,p._state=re,p._subscribers.length!==0&&z(bt,p))}function at(p,F){p._state===ne&&(p._state=Pe,p._result=F,z(lt,p))}function Ut(p,F,w,L){var $=p._subscribers,X=$.length;p._onerror=null,$[X]=F,$[X+re]=w,$[X+Pe]=L,X===0&&p._state&&z(bt,p)}function bt(p){var F=p._subscribers,w=p._state;if(F.length!==0){for(var L=void 0,$=void 0,X=p._result,Je=0;Je<F.length;Je+=3)L=F[Je],$=F[Je+w],L?Wt(w,L,$,X):$(X);p._subscribers.length=0}}function Wt(p,F,w,L){var $=ye(w),X=void 0,Je=void 0,ct=!0;if($){try{X=w(L)}catch(zt){ct=!1,Je=zt}if(F===X){at(F,yt());return}}else X=L;F._state!==ne||($&&ct?ft(F,X):ct===!1?at(F,Je):p===re?wt(F,X):p===Pe&&at(F,X))}function T(p,F){try{F(function(L){ft(p,L)},function(L){at(p,L)})}catch(w){at(p,w)}}var he=0;function m(){return he++}function H(p){p[ae]=he++,p._state=void 0,p._result=void 0,p._subscribers=[]}function _e(){return new Error("Array Methods must be provided an Array")}var fe=function(){function p(F,w){this._instanceConstructor=F,this.promise=new F(de),this.promise[ae]||H(this.promise),Q(w)?(this.length=w.length,this._remaining=w.length,this._result=new Array(this.length),this.length===0?wt(this.promise,this._result):(this.length=this.length||0,this._enumerate(w),this._remaining===0&&wt(this.promise,this._result))):at(this.promise,_e())}return p.prototype._enumerate=function(w){for(var L=0;this._state===ne&&L<w.length;L++)this._eachEntry(w[L],L)},p.prototype._eachEntry=function(w,L){var $=this._instanceConstructor,X=$.resolve;if(X===W){var Je=void 0,ct=void 0,zt=!1;try{Je=w.then}catch(Ft){zt=!0,ct=Ft}if(Je===I&&w._state!==ne)this._settledAt(w._state,L,w._result);else if(typeof Je!="function")this._remaining--,this._result[L]=w;else if($===C){var fn=new $(de);zt?at(fn,ct):He(fn,w,Je),this._willSettleAt(fn,L)}else this._willSettleAt(new $(function(Ft){return Ft(w)}),L)}else this._willSettleAt(X(w),L)},p.prototype._settledAt=function(w,L,$){var X=this.promise;X._state===ne&&(this._remaining--,w===Pe?at(X,$):this._result[L]=$),this._remaining===0&&wt(X,this._result)},p.prototype._willSettleAt=function(w,L){var $=this;Ut(w,void 0,function(X){return $._settledAt(re,L,X)},function(X){return $._settledAt(Pe,L,X)})},p}();function Ae(p){return new fe(this,p).promise}function Ne(p){var F=this;return Q(p)?new F(function(w,L){for(var $=p.length,X=0;X<$;X++)F.resolve(p[X]).then(w,L)}):new F(function(w,L){return L(new TypeError("You must pass an array to race."))})}function gt(p){var F=this,w=new F(de);return at(w,p),w}function Te(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Ct(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var C=function(){function p(F){this[ae]=m(),this._result=this._state=void 0,this._subscribers=[],de!==F&&(typeof F!="function"&&Te(),this instanceof p?T(this,F):Ct())}return p.prototype.catch=function(w){return this.then(null,w)},p.prototype.finally=function(w){var L=this,$=L.constructor;return ye(w)?L.then(function(X){return $.resolve(w()).then(function(){return X})},function(X){return $.resolve(w()).then(function(){throw X})}):L.then(w,w)},p}();C.prototype.then=I,C.all=Ae,C.race=Ne,C.resolve=W,C.reject=gt,C._setScheduler=D,C._setAsap=ee,C._asap=z;function ie(){var p=void 0;if(typeof N.g<"u")p=N.g;else if(typeof self<"u")p=self;else try{p=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var F=p.Promise;if(F){var w=null;try{w=Object.prototype.toString.call(F.resolve())}catch{}if(w==="[object Promise]"&&!F.cast)return}p.Promise=C}return C.polyfill=ie,C.Promise=C,C})},729:f=>{var x=Object.prototype.hasOwnProperty,N="~";function j(){}Object.create&&(j.prototype=Object.create(null),new j().__proto__||(N=!1));function ye(P,k,z){this.fn=P,this.context=k,this.once=z||!1}function le(P,k,z,D,ee){if(typeof z!="function")throw new TypeError("The listener must be a function");var B=new ye(z,D||P,ee),l=N?N+k:k;return P._events[l]?P._events[l].fn?P._events[l]=[P._events[l],B]:P._events[l].push(B):(P._events[l]=B,P._eventsCount++),P}function Q(P,k){--P._eventsCount===0?P._events=new j:delete P._events[k]}function M(){this._events=new j,this._eventsCount=0}M.prototype.eventNames=function(){var k=[],z,D;if(this._eventsCount===0)return k;for(D in z=this._events)x.call(z,D)&&k.push(N?D.slice(1):D);return Object.getOwnPropertySymbols?k.concat(Object.getOwnPropertySymbols(z)):k},M.prototype.listeners=function(k){var z=N?N+k:k,D=this._events[z];if(!D)return[];if(D.fn)return[D.fn];for(var ee=0,B=D.length,l=new Array(B);ee<B;ee++)l[ee]=D[ee].fn;return l},M.prototype.listenerCount=function(k){var z=N?N+k:k,D=this._events[z];return D?D.fn?1:D.length:0},M.prototype.emit=function(k,z,D,ee,B,l){var K=N?N+k:k;if(!this._events[K])return!1;var c=this._events[K],ue=arguments.length,pe,ce;if(c.fn){switch(c.once&&this.removeListener(k,c.fn,void 0,!0),ue){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,z),!0;case 3:return c.fn.call(c.context,z,D),!0;case 4:return c.fn.call(c.context,z,D,ee),!0;case 5:return c.fn.call(c.context,z,D,ee,B),!0;case 6:return c.fn.call(c.context,z,D,ee,B,l),!0}for(ce=1,pe=new Array(ue-1);ce<ue;ce++)pe[ce-1]=arguments[ce];c.fn.apply(c.context,pe)}else{var ze=c.length,De;for(ce=0;ce<ze;ce++)switch(c[ce].once&&this.removeListener(k,c[ce].fn,void 0,!0),ue){case 1:c[ce].fn.call(c[ce].context);break;case 2:c[ce].fn.call(c[ce].context,z);break;case 3:c[ce].fn.call(c[ce].context,z,D);break;case 4:c[ce].fn.call(c[ce].context,z,D,ee);break;default:if(!pe)for(De=1,pe=new Array(ue-1);De<ue;De++)pe[De-1]=arguments[De];c[ce].fn.apply(c[ce].context,pe)}}return!0},M.prototype.on=function(k,z,D){return le(this,k,z,D,!1)},M.prototype.once=function(k,z,D){return le(this,k,z,D,!0)},M.prototype.removeListener=function(k,z,D,ee){var B=N?N+k:k;if(!this._events[B])return this;if(!z)return Q(this,B),this;var l=this._events[B];if(l.fn)l.fn===z&&(!ee||l.once)&&(!D||l.context===D)&&Q(this,B);else{for(var K=0,c=[],ue=l.length;K<ue;K++)(l[K].fn!==z||ee&&!l[K].once||D&&l[K].context!==D)&&c.push(l[K]);c.length?this._events[B]=c.length===1?c[0]:c:Q(this,B)}return this},M.prototype.removeAllListeners=function(k){var z;return k?(z=N?N+k:k,this._events[z]&&Q(this,z)):(this._events=new j,this._eventsCount=0),this},M.prototype.off=M.prototype.removeListener,M.prototype.addListener=M.prototype.on,M.prefixed=N,M.EventEmitter=M,f.exports=M},303:(f,x,N)=>{f.exports=N(683)},402:f=>{(function(x){if(typeof window>"u")return;var N=!0,j=10,ye="",le=0,Q="",M=null,P="",k=!1,z={resize:1,click:1},D=128,ee=!0,B=1,l="bodyOffset",K=l,c=!0,ue="",pe={},ce=32,ze=null,De=!1,ot="[iFrameSizer]",be=ot.length,q="",Y={max:1,min:1,bodyScroll:1,documentElementScroll:1},A="child",I=!0,W=window.parent,ae="*",de=0,ne=!1,re=null,Pe=16,Le=1,yt="scroll",Me=yt,Ge=window,Ye=function(){H("MessageCallback function not defined")},He=function(){},ft=function(){},lt={height:function(){return H("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return H("Custom width calculation function not defined"),document.body.scrollWidth}},wt={};function at(g,S,oe){"addEventListener"in window?g.addEventListener(S,oe,!1):"attachEvent"in window&&g.attachEvent("on"+S,oe)}function Ut(g,S,oe){"removeEventListener"in window?g.removeEventListener(S,oe,!1):"detachEvent"in window&&g.detachEvent("on"+S,oe)}function bt(g){return g.charAt(0).toUpperCase()+g.slice(1)}function Wt(g){var S,oe,xe,Ie=null,je=0,Qe=function(){je=T(),Ie=null,xe=g.apply(S,oe),Ie||(S=oe=null)};return function(){var et=T();je||(je=et);var Re=Pe-(et-je);return S=this,oe=arguments,Re<=0||Re>Pe?(Ie&&(clearTimeout(Ie),Ie=null),je=et,xe=g.apply(S,oe),Ie||(S=oe=null)):Ie||(Ie=setTimeout(Qe,Re)),xe}}var T=Date.now||function(){return new Date().getTime()};function he(g){return ot+"["+q+"] "+g}function m(g){De&&typeof window.console=="object"&&console.log(he(g))}function H(g){typeof window.console=="object"&&console.warn(he(g))}function _e(){fe(),m("Initialising iFrame ("+location.href+")"),Ae(),Te(),gt("background",ye),gt("padding",P),fn(),F(),w(),Ct(),xt(),L(),pe=Ft(),mn("init","Init message from host page"),He()}function fe(){function g(oe){return oe==="true"}var S=ue.substr(be).split(":");q=S[0],le=x!==S[1]?Number(S[1]):le,k=x!==S[2]?g(S[2]):k,De=x!==S[3]?g(S[3]):De,ce=x!==S[4]?Number(S[4]):ce,N=x!==S[6]?g(S[6]):N,Q=S[7],K=x!==S[8]?S[8]:K,ye=S[9],P=S[10],de=x!==S[11]?Number(S[11]):de,pe.enable=x!==S[12]?g(S[12]):!1,A=x!==S[13]?S[13]:A,Me=x!==S[14]?S[14]:Me}function Ae(){function g(){var oe=window.iFrameResizer;m("Reading data from page: "+JSON.stringify(oe)),Ye="messageCallback"in oe?oe.messageCallback:Ye,He="readyCallback"in oe?oe.readyCallback:He,ae="targetOrigin"in oe?oe.targetOrigin:ae,K="heightCalculationMethod"in oe?oe.heightCalculationMethod:K,Me="widthCalculationMethod"in oe?oe.widthCalculationMethod:Me}function S(oe,xe){return typeof oe=="function"&&(m("Setup custom "+xe+"CalcMethod"),lt[xe]=oe,oe="custom"),oe}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(g(),K=S(K,"height"),Me=S(Me,"width")),m("TargetOrigin for parent set to: "+ae)}function Ne(g,S){return S.indexOf("-")!==-1&&(H("Negative CSS value ignored for "+g),S=""),S}function gt(g,S){x!==S&&S!==""&&S!=="null"&&(document.body.style[g]=S,m("Body "+g+' set to "'+S+'"'))}function Te(){x===Q&&(Q=le+"px"),gt("margin",Ne("margin",Q))}function Ct(){document.documentElement.style.height="",document.body.style.height="",m('HTML & body height set to "auto"')}function C(g){var S={add:function(oe){function xe(){mn(g.eventName,g.eventType)}wt[oe]=xe,at(window,oe,xe)},remove:function(oe){var xe=wt[oe];delete wt[oe],Ut(window,oe,xe)}};g.eventNames&&Array.prototype.map?(g.eventName=g.eventNames[0],g.eventNames.map(S[g.method])):S[g.method](g.eventName),m(bt(g.method)+" event listener: "+g.eventType)}function ie(g){C({method:g,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),C({method:g,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),C({method:g,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),C({method:g,eventType:"Input",eventName:"input"}),C({method:g,eventType:"Mouse Up",eventName:"mouseup"}),C({method:g,eventType:"Mouse Down",eventName:"mousedown"}),C({method:g,eventType:"Orientation Change",eventName:"orientationchange"}),C({method:g,eventType:"Print",eventName:["afterprint","beforeprint"]}),C({method:g,eventType:"Ready State Change",eventName:"readystatechange"}),C({method:g,eventType:"Touch Start",eventName:"touchstart"}),C({method:g,eventType:"Touch End",eventName:"touchend"}),C({method:g,eventType:"Touch Cancel",eventName:"touchcancel"}),C({method:g,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),C({method:g,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),C({method:g,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),A==="child"&&C({method:g,eventType:"IFrame Resized",eventName:"resize"})}function p(g,S,oe,xe){return S!==g&&(g in oe||(H(g+" is not a valid option for "+xe+"CalculationMethod."),g=S),m(xe+' calculation method set to "'+g+'"')),g}function F(){K=p(K,l,Pt,"height")}function w(){Me=p(Me,yt,Vt,"width")}function L(){N===!0?(ie("add"),ge()):m("Auto Resize disabled")}function $(){m("Disable outgoing messages"),I=!1}function X(){m("Remove event listener: Message"),Ut(window,"message",R)}function Je(){M!==null&&M.disconnect()}function ct(){ie("remove"),Je(),clearInterval(ze)}function zt(){$(),X(),N===!0&&ct()}function fn(){var g=document.createElement("div");g.style.clear="both",g.style.display="block",document.body.appendChild(g)}function Ft(){function g(){return{x:window.pageXOffset!==x?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==x?window.pageYOffset:document.documentElement.scrollTop}}function S(Re){var Fe=Re.getBoundingClientRect(),Xe=g();return{x:parseInt(Fe.left,10)+parseInt(Xe.x,10),y:parseInt(Fe.top,10)+parseInt(Xe.y,10)}}function oe(Re){function Fe(Qt){var Ln=S(Qt);m("Moving to in page link (#"+Xe+") at x: "+Ln.x+" y: "+Ln.y),an(Ln.y,Ln.x,"scrollToOffset")}var Xe=Re.split("#")[1]||Re,Ke=decodeURIComponent(Xe),Dt=document.getElementById(Ke)||document.getElementsByName(Ke)[0];x!==Dt?Fe(Dt):(m("In page link (#"+Xe+") not found in iFrame, so sending to parent"),an(0,0,"inPageLink","#"+Xe))}function xe(){location.hash!==""&&location.hash!=="#"&&oe(location.href)}function Ie(){function Re(Fe){function Xe(Ke){Ke.preventDefault(),oe(this.getAttribute("href"))}Fe.getAttribute("href")!=="#"&&at(Fe,"click",Xe)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),Re)}function je(){at(window,"hashchange",xe)}function Qe(){setTimeout(xe,D)}function et(){Array.prototype.forEach&&document.querySelectorAll?(m("Setting up location.hash handlers"),Ie(),je(),Qe()):H("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return pe.enable?et():m("In page linking not enabled"),{findTarget:oe}}function xt(){m("Enable public methods"),Ge.parentIFrame={autoResize:function(S){return S===!0&&N===!1?(N=!0,L()):S===!1&&N===!0&&(N=!1,ct()),N},close:function(){an(0,0,"close"),zt()},getId:function(){return q},getPageInfo:function(S){typeof S=="function"?(ft=S,an(0,0,"pageInfo")):(ft=function(){},an(0,0,"pageInfoStop"))},moveToAnchor:function(S){pe.findTarget(S)},reset:function(){lr("parentIFrame.reset")},scrollTo:function(S,oe){an(oe,S,"scrollTo")},scrollToOffset:function(S,oe){an(oe,S,"scrollToOffset")},sendMessage:function(S,oe){an(0,0,"message",JSON.stringify(S),oe)},setHeightCalculationMethod:function(S){K=S,F()},setWidthCalculationMethod:function(S){Me=S,w()},setTargetOrigin:function(S){m("Set targetOrigin: "+S),ae=S},size:function(S,oe){var xe=""+(S||"")+(oe?","+oe:"");mn("size","parentIFrame.size("+xe+")",S,oe)}}}function Ce(){ce!==0&&(m("setInterval: "+ce+"ms"),ze=setInterval(function(){mn("interval","setInterval: "+ce)},Math.abs(ce)))}function ve(){function g(Ke){function Dt(Qt){Qt.complete===!1&&(m("Attach listeners to "+Qt.src),Qt.addEventListener("load",Ie,!1),Qt.addEventListener("error",je,!1),Re.push(Qt))}Ke.type==="attributes"&&Ke.attributeName==="src"?Dt(Ke.target):Ke.type==="childList"&&Array.prototype.forEach.call(Ke.target.querySelectorAll("img"),Dt)}function S(Ke){Re.splice(Re.indexOf(Ke),1)}function oe(Ke){m("Remove listeners from "+Ke.src),Ke.removeEventListener("load",Ie,!1),Ke.removeEventListener("error",je,!1),S(Ke)}function xe(Ke,Dt,Qt){oe(Ke.target),mn(Dt,Qt+": "+Ke.target.src,x,x)}function Ie(Ke){xe(Ke,"imageLoad","Image loaded")}function je(Ke){xe(Ke,"imageLoadFailed","Image load failed")}function Qe(Ke){mn("mutationObserver","mutationObserver: "+Ke[0].target+" "+Ke[0].type),Ke.forEach(g)}function et(){var Ke=document.querySelector("body"),Dt={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return Xe=new Fe(Qe),m("Create body MutationObserver"),Xe.observe(Ke,Dt),Xe}var Re=[],Fe=window.MutationObserver||window.WebKitMutationObserver,Xe=et();return{disconnect:function(){"disconnect"in Xe&&(m("Disconnect body MutationObserver"),Xe.disconnect(),Re.forEach(oe))}}}function ge(){var g=0>ce;window.MutationObserver||window.WebKitMutationObserver?g?Ce():M=ve():(m("MutationObserver not supported in this browser!"),Ce())}function me(g,S){function oe(Ie){var je=/^\d+(px)?$/i;if(je.test(Ie))return parseInt(Ie,j);var Qe=S.style.left,et=S.runtimeStyle.left;return S.runtimeStyle.left=S.currentStyle.left,S.style.left=Ie||0,Ie=S.style.pixelLeft,S.style.left=Qe,S.runtimeStyle.left=et,Ie}var xe=0;return S=S||document.body,"defaultView"in document&&"getComputedStyle"in document.defaultView?(xe=document.defaultView.getComputedStyle(S,null),xe=xe!==null?xe[g]:0):xe=oe(S.currentStyle[g]),parseInt(xe,j)}function Se(g){g>Pe/2&&(Pe=2*g,m("Event throttle increased to "+Pe+"ms"))}function Ze(g,S){for(var oe=S.length,xe=0,Ie=0,je=bt(g),Qe=T(),et=0;et<oe;et++)xe=S[et].getBoundingClientRect()[g]+me("margin"+je,S[et]),xe>Ie&&(Ie=xe);return Qe=T()-Qe,m("Parsed "+oe+" HTML elements"),m("Element position calculated in "+Qe+"ms"),Se(Qe),Ie}function qe(g){return[g.bodyOffset(),g.bodyScroll(),g.documentElementOffset(),g.documentElementScroll()]}function rt(g,S){function oe(){return H("No tagged elements ("+S+") found on page"),document.querySelectorAll("body *")}var xe=document.querySelectorAll("["+S+"]");return xe.length===0&&oe(),Ze(g,xe)}function vt(){return document.querySelectorAll("body *")}var Pt={bodyOffset:function(){return document.body.offsetHeight+me("marginTop")+me("marginBottom")},offset:function(){return Pt.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return lt.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,qe(Pt))},min:function(){return Math.min.apply(null,qe(Pt))},grow:function(){return Pt.max()},lowestElement:function(){return Math.max(Pt.bodyOffset(),Ze("bottom",vt()))},taggedElement:function(){return rt("bottom","data-iframe-height")}},Vt={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return lt.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(Vt.bodyScroll(),Vt.documentElementScroll())},max:function(){return Math.max.apply(null,qe(Vt))},min:function(){return Math.min.apply(null,qe(Vt))},rightMostElement:function(){return Ze("right",vt())},taggedElement:function(){return rt("right","data-iframe-width")}};function Sn(g,S,oe,xe){function Ie(){B=Xe,Le=Ke,an(B,Le,g)}function je(){function Dt(Qt,Ln){var ei=Math.abs(Qt-Ln)<=de;return!ei}return Xe=x!==oe?oe:Pt[K](),Ke=x!==xe?xe:Vt[Me](),Dt(B,Xe)||k&&Dt(Le,Ke)}function Qe(){return!(g in{init:1,interval:1,size:1})}function et(){return K in Y||k&&Me in Y}function Re(){m("No change in size detected")}function Fe(){Qe()&&et()?lr(S):g in{interval:1}||Re()}var Xe,Ke;je()||g==="init"?(ur(),Ie()):Fe()}var Vn=Wt(Sn);function mn(g,S,oe,xe){function Ie(){g in{reset:1,resetPage:1,init:1}||m("Trigger event: "+S)}function je(){return ne&&g in z}je()?m("Trigger event cancelled: "+g):(Ie(),Vn(g,S,oe,xe))}function ur(){ne||(ne=!0,m("Trigger event lock on")),clearTimeout(re),re=setTimeout(function(){ne=!1,m("Trigger event lock off"),m("--")},D)}function Zt(g){B=Pt[K](),Le=Vt[Me](),an(B,Le,g)}function lr(g){var S=K;K=l,m("Reset trigger event: "+g),ur(),Zt("reset"),K=S}function an(g,S,oe,xe,Ie){function je(){x===Ie?Ie=ae:m("Message targetOrigin: "+Ie)}function Qe(){var et=g+":"+S,Re=q+":"+et+":"+oe+(x!==xe?":"+xe:"");m("Sending message to host page ("+Re+")"),W.postMessage(ot+Re,Ie)}I===!0&&(je(),Qe())}function R(g){var S={init:function(){function Xe(){ue=g.data,W=g.source,_e(),ee=!1,setTimeout(function(){c=!1},D)}document.readyState==="interactive"||document.readyState==="complete"?Xe():(m("Waiting for page ready"),at(window,"readystatechange",S.initFromParent))},reset:function(){c?m("Page reset ignored by init"):(m("Page size reset by host page"),Zt("resetPage"))},resize:function(){mn("resizeParent","Parent window requested size check")},moveToAnchor:function(){pe.findTarget(Ie())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var Xe=Ie();m("PageInfoFromParent called from parent: "+Xe),ft(JSON.parse(Xe)),m(" --")},message:function(){var Xe=Ie();m("MessageCallback called from parent: "+Xe),Ye(JSON.parse(Xe)),m(" --")}};function oe(){return ot===(""+g.data).substr(0,be)}function xe(){return g.data.split("]")[1].split(":")[0]}function Ie(){return g.data.substr(g.data.indexOf(":")+1)}function je(){return!f.exports&&"iFrameResize"in window}function Qe(){return g.data.split(":")[2]in{true:1,false:1}}function et(){var Fe=xe();Fe in S?S[Fe]():!je()&&!Qe()&&H("Unexpected message ("+g.data+")")}function Re(){ee===!1?et():Qe()?S.init():m('Ignored message of type "'+xe()+'". Received before initialization.')}oe()&&Re()}function V(){document.readyState!=="loading"&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}at(window,"message",R),V()})()},28:(f,x)=>{var N,j,ye;(function(le){if(typeof window>"u")return;var Q=0,M=!1,P=!1,k="message",z=k.length,D="[iFrameSizer]",ee=D.length,B=null,l=window.requestAnimationFrame,K={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},c={},ue=null,pe={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){I("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};function ce(m,H,_e){"addEventListener"in window?m.addEventListener(H,_e,!1):"attachEvent"in window&&m.attachEvent("on"+H,_e)}function ze(m,H,_e){"removeEventListener"in window?m.removeEventListener(H,_e,!1):"detachEvent"in window&&m.detachEvent("on"+H,_e)}function De(){var m=["moz","webkit","o","ms"],H;for(H=0;H<m.length&&!l;H+=1)l=window[m[H]+"RequestAnimationFrame"];l||Y("setup","RequestAnimationFrame not supported")}function ot(m){var H="Host page: "+m;return window.top!==window.self&&(window.parentIFrame&&window.parentIFrame.getId?H=window.parentIFrame.getId()+": "+m:H="Nested host page: "+m),H}function be(m){return D+"["+ot(m)+"]"}function q(m){return c[m]?c[m].log:M}function Y(m,H){W("log",m,H,q(m))}function A(m,H){W("info",m,H,q(m))}function I(m,H){W("warn",m,H,!0)}function W(m,H,_e,fe){fe===!0&&typeof window.console=="object"&&console[m](be(H),_e)}function ae(m){function H(){function me(){Me(ve),Pe(ge),ct("resizedCallback",ve)}fe("Height"),fe("Width"),Ge(me,ve,"init")}function _e(){var me=Ce.substr(ee).split(":");return{iframe:c[me[0]]&&c[me[0]].iframe,id:me[0],height:me[1],width:me[2],type:me[3]}}function fe(me){var Se=Number(c[ge]["max"+me]),Ze=Number(c[ge]["min"+me]),qe=me.toLowerCase(),rt=Number(ve[qe]);Y(ge,"Checking "+qe+" is in range "+Ze+"-"+Se),rt<Ze&&(rt=Ze,Y(ge,"Set "+qe+" to min value")),rt>Se&&(rt=Se,Y(ge,"Set "+qe+" to max value")),ve[qe]=""+rt}function Ae(){function me(){function qe(){var vt=0,Pt=!1;for(Y(ge,"Checking connection is from allowed list of origins: "+Ze);vt<Ze.length;vt++)if(Ze[vt]===Se){Pt=!0;break}return Pt}function rt(){var vt=c[ge]&&c[ge].remoteHost;return Y(ge,"Checking connection is from: "+vt),Se===vt}return Ze.constructor===Array?qe():rt()}var Se=m.origin,Ze=c[ge]&&c[ge].checkOrigin;if(Ze&&""+Se!="null"&&!me())throw new Error("Unexpected message received from: "+Se+" for "+ve.iframe.id+". Message was: "+m.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function Ne(){return D===(""+Ce).substr(0,ee)&&Ce.substr(ee).split(":")[0]in c}function gt(){var me=ve.type in{true:1,false:1,undefined:1};return me&&Y(ge,"Ignoring init message from meta parent page"),me}function Te(me){return Ce.substr(Ce.indexOf(":")+z+me)}function Ct(me){Y(ge,"MessageCallback passed: {iframe: "+ve.iframe.id+", message: "+me+"}"),ct("messageCallback",{iframe:ve.iframe,message:JSON.parse(me)}),Y(ge,"--")}function C(){var me=document.body.getBoundingClientRect(),Se=ve.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:Se.height,iframeWidth:Se.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(Se.top-me.top,10),offsetLeft:parseInt(Se.left-me.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})}function ie(me,Se){function Ze(){Ye("Send Page Info","pageInfo:"+C(),me,Se)}lt(Ze,32)}function p(){function me(rt,vt){function Pt(){c[qe]?ie(c[qe].iframe,qe):Se()}["scroll","resize"].forEach(function(Vt){Y(qe,rt+Vt+" listener for sendPageInfo"),vt(window,Vt,Pt)})}function Se(){me("Remove ",ze)}function Ze(){me("Add ",ce)}var qe=ge;Ze(),c[qe]&&(c[qe].stopPageInfo=Se)}function F(){c[ge]&&c[ge].stopPageInfo&&(c[ge].stopPageInfo(),delete c[ge].stopPageInfo)}function w(){var me=!0;return ve.iframe===null&&(I(ge,"IFrame ("+ve.id+") not found"),me=!1),me}function L(me){var Se=me.getBoundingClientRect();return re(ge),{x:Math.floor(Number(Se.left)+Number(B.x)),y:Math.floor(Number(Se.top)+Number(B.y))}}function $(me){function Se(){B=vt,X(),Y(ge,"--")}function Ze(){return{x:Number(ve.width)+rt.x,y:Number(ve.height)+rt.y}}function qe(){window.parentIFrame?window.parentIFrame["scrollTo"+(me?"Offset":"")](vt.x,vt.y):I(ge,"Unable to scroll to requested position, window.parentIFrame not found")}var rt=me?L(ve.iframe):{x:0,y:0},vt=Ze();Y(ge,"Reposition requested from iFrame (offset x:"+rt.x+" y:"+rt.y+")"),window.top!==window.self?qe():Se()}function X(){ct("scrollCallback",B)!==!1?Pe(ge):Le()}function Je(me){function Se(){var Pt=L(vt);Y(ge,"Moving to in page link (#"+qe+") at x: "+Pt.x+" y: "+Pt.y),B={x:Pt.x,y:Pt.y},X(),Y(ge,"--")}function Ze(){window.parentIFrame?window.parentIFrame.moveToAnchor(qe):Y(ge,"In page link #"+qe+" not found and window.parentIFrame not found")}var qe=me.split("#")[1]||"",rt=decodeURIComponent(qe),vt=document.getElementById(rt)||document.getElementsByName(rt)[0];vt?Se():window.top!==window.self?Ze():Y(ge,"In page link #"+qe+" not found")}function ct(me,Se){return de(ge,me,Se)}function zt(){switch(c[ge]&&c[ge].firstRun&&xt(),ve.type){case"close":c[ge].closeRequestCallback?de(ge,"closeRequestCallback",c[ge].iframe):ne(ve.iframe);break;case"message":Ct(Te(6));break;case"scrollTo":$(!1);break;case"scrollToOffset":$(!0);break;case"pageInfo":ie(c[ge]&&c[ge].iframe,ge),p();break;case"pageInfoStop":F();break;case"inPageLink":Je(Te(9));break;case"reset":yt(ve);break;case"init":H(),ct("initCallback",ve.iframe);break;default:H()}}function fn(me){var Se=!0;return c[me]||(Se=!1,I(ve.type+" No settings for "+me+". Message was: "+Ce)),Se}function Ft(){for(var me in c)Ye("iFrame requested init",He(me),document.getElementById(me),me)}function xt(){c[ge]&&(c[ge].firstRun=!1)}var Ce=m.data,ve={},ge=null;Ce==="[iFrameResizerChild]Ready"?Ft():Ne()?(ve=_e(),ge=ve.id,c[ge]&&(c[ge].loaded=!0),!gt()&&fn(ge)&&(Y(ge,"Received: "+Ce),w()&&Ae()&&zt())):A(ge,"Ignored: "+Ce)}function de(m,H,_e){var fe=null,Ae=null;if(c[m])if(fe=c[m][H],typeof fe=="function")Ae=fe(_e);else throw new TypeError(H+" on iFrame["+m+"] is not a function");return Ae}function ne(m){var H=m.id;Y(H,"Removing iFrame: "+H),m.parentNode&&m.parentNode.removeChild(m),de(H,"closedCallback",H),Y(H,"--"),delete c[H]}function re(m){B===null&&(B={x:window.pageXOffset!==le?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==le?window.pageYOffset:document.documentElement.scrollTop},Y(m,"Get page position: "+B.x+","+B.y))}function Pe(m){B!==null&&(window.scrollTo(B.x,B.y),Y(m,"Set page position: "+B.x+","+B.y),Le())}function Le(){B=null}function yt(m){function H(){Me(m),Ye("reset","reset",m.iframe,m.id)}Y(m.id,"Size reset requested by "+(m.type==="init"?"host page":"iFrame")),re(m.id),Ge(H,m,"reset")}function Me(m){function H(Ne){m.iframe.style[Ne]=m[Ne]+"px",Y(m.id,"IFrame ("+Ae+") "+Ne+" set to "+m[Ne]+"px")}function _e(Ne){!P&&m[Ne]==="0"&&(P=!0,Y(Ae,"Hidden iFrame detected, creating visibility listener"),wt())}function fe(Ne){H(Ne),_e(Ne)}var Ae=m.iframe.id;c[Ae]&&(c[Ae].sizeHeight&&fe("height"),c[Ae].sizeWidth&&fe("width"))}function Ge(m,H,_e){_e!==H.type&&l?(Y(H.id,"Requesting animation frame"),l(m)):m()}function Ye(m,H,_e,fe,Ae){function Ne(){var ie=c[fe]&&c[fe].targetOrigin;Y(fe,"["+m+"] Sending msg to iframe["+fe+"] ("+H+") targetOrigin: "+ie),_e.contentWindow.postMessage(D+H,ie)}function gt(){I(fe,"["+m+"] IFrame("+fe+") not found")}function Te(){_e&&"contentWindow"in _e&&_e.contentWindow!==null?Ne():gt()}function Ct(){function ie(){c[fe]&&!c[fe].loaded&&!C&&(C=!0,I(fe,"IFrame has not responded within "+c[fe].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ingored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}Ae&&c[fe]&&c[fe].warningTimeout&&(c[fe].msgTimeout=setTimeout(ie,c[fe].warningTimeout))}var C=!1;fe=fe||_e.id,c[fe]&&(Te(),Ct())}function He(m){return m+":"+c[m].bodyMarginV1+":"+c[m].sizeWidth+":"+c[m].log+":"+c[m].interval+":"+c[m].enablePublicMethods+":"+c[m].autoResize+":"+c[m].bodyMargin+":"+c[m].heightCalculationMethod+":"+c[m].bodyBackground+":"+c[m].bodyPadding+":"+c[m].tolerance+":"+c[m].inPageLinks+":"+c[m].resizeFrom+":"+c[m].widthCalculationMethod}function ft(m,H){function _e(){function X(ct){c[$][ct]!==1/0&&c[$][ct]!==0&&(m.style[ct]=c[$][ct]+"px",Y($,"Set "+ct+" = "+c[$][ct]+"px"))}function Je(ct){if(c[$]["min"+ct]>c[$]["max"+ct])throw new Error("Value for min"+ct+" can not be greater than max"+ct)}Je("Height"),Je("Width"),X("maxHeight"),X("minHeight"),X("maxWidth"),X("minWidth")}function fe(){var X=H&&H.id||pe.id+Q++;return document.getElementById(X)!==null&&(X=X+Q++),X}function Ae(X){return X===""&&(m.id=X=fe(),M=(H||{}).log,Y(X,"Added missing iframe ID: "+X+" ("+m.src+")")),X}function Ne(){switch(Y($,"IFrame scrolling "+(c[$]&&c[$].scrolling?"enabled":"disabled")+" for "+$),m.style.overflow=(c[$]&&c[$].scrolling)===!1?"hidden":"auto",c[$]&&c[$].scrolling){case!0:m.scrolling="yes";break;case!1:m.scrolling="no";break;default:m.scrolling=c[$]?c[$].scrolling:"no"}}function gt(){(typeof(c[$]&&c[$].bodyMargin)=="number"||(c[$]&&c[$].bodyMargin)==="0")&&(c[$].bodyMarginV1=c[$].bodyMargin,c[$].bodyMargin=""+c[$].bodyMargin+"px")}function Te(){var X=c[$]&&c[$].firstRun,Je=c[$]&&c[$].heightCalculationMethod in K;!X&&Je&&yt({iframe:m,height:0,width:0,type:"init"})}function Ct(){Function.prototype.bind&&c[$]&&(c[$].iframe.iFrameResizer={close:ne.bind(null,c[$].iframe),resize:Ye.bind(null,"Window resize","resize",c[$].iframe),moveToAnchor:function(X){Ye("Move to anchor","moveToAnchor:"+X,c[$].iframe,$)},sendMessage:function(X){X=JSON.stringify(X),Ye("Send Message","message:"+X,c[$].iframe,$)}})}function C(X){function Je(){Ye("iFrame.onload",X,m,le,!0),Te()}ce(m,"load",Je),Ye("init",X,m,le,!0)}function ie(X){if(typeof X!="object")throw new TypeError("Options is not an object")}function p(X){for(var Je in pe)pe.hasOwnProperty(Je)&&(c[$][Je]=X.hasOwnProperty(Je)?X[Je]:pe[Je])}function F(X){return X===""||X==="file://"?"*":X}function w(X){X=X||{},c[$]={firstRun:!0,iframe:m,remoteHost:m.src.split("/").slice(0,3).join("/")},ie(X),p(X),c[$]&&(c[$].targetOrigin=c[$].checkOrigin===!0?F(c[$].remoteHost):"*")}function L(){return $ in c&&"iFrameResizer"in m}var $=Ae(m.id);L()?I($,"Ignored iFrame, already setup."):(w(H),Ne(),_e(),gt(),C(He($)),Ct())}function lt(m,H){ue===null&&(ue=setTimeout(function(){ue=null,m()},H))}function wt(){function m(){function Ae(gt){function Te(C){return(c[gt]&&c[gt].iframe.style[C])==="0px"}function Ct(C){return C.offsetParent!==null}c[gt]&&Ct(c[gt].iframe)&&(Te("height")||Te("width"))&&Ye("Visibility change","resize",c[gt].iframe,gt)}for(var Ne in c)Ae(Ne)}function H(Ae){Y("window","Mutation observed: "+Ae[0].target+" "+Ae[0].type),lt(m,16)}function _e(){var Ae=document.querySelector("body"),Ne={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},gt=new fe(H);gt.observe(Ae,Ne)}var fe=window.MutationObserver||window.WebKitMutationObserver;fe&&_e()}function at(m){function H(){bt("Window "+m,"resize")}Y("window","Trigger event: "+m),lt(H,16)}function Ut(){function m(){bt("Tab Visable","resize")}document.visibilityState!=="hidden"&&(Y("document","Trigger event: Visiblity change"),lt(m,16))}function bt(m,H){function _e(Ae){return c[Ae]&&c[Ae].resizeFrom==="parent"&&c[Ae].autoResize&&!c[Ae].firstRun}for(var fe in c)_e(fe)&&Ye(m,H,document.getElementById(fe),fe)}function Wt(){ce(window,"message",ae),ce(window,"resize",function(){at("resize")}),ce(document,"visibilitychange",Ut),ce(document,"-webkit-visibilitychange",Ut),ce(window,"focusin",function(){at("focus")}),ce(window,"focus",function(){at("focus")})}function T(){function m(fe,Ae){function Ne(){if(Ae.tagName){if(Ae.tagName.toUpperCase()!=="IFRAME")throw new TypeError("Expected <IFRAME> tag, found <"+Ae.tagName+">")}else throw new TypeError("Object is not a valid DOM element")}Ae&&(Ne(),ft(Ae,fe),_e.push(Ae))}function H(fe){fe&&fe.enablePublicMethods&&I("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var _e;return De(),Wt(),function(Ae,Ne){switch(_e=[],H(Ae),typeof Ne){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(Ne||"iframe"),m.bind(le,Ae));break;case"object":m(Ae,Ne);break;default:throw new TypeError("Unexpected data type ("+typeof Ne+")")}return _e}}function he(m){m.fn?m.fn.iFrameResize||(m.fn.iFrameResize=function(_e){function fe(Ae,Ne){ft(Ne,_e)}return this.filter("iframe").each(fe).end()}):A("","Unable to bind to jQuery, it is not fully loaded.")}window.jQuery&&he(window.jQuery),j=[],N=T,ye=typeof N=="function"?N.apply(x,j):N,ye!==le&&(f.exports=ye)})()},683:(f,x,N)=>{x.iframeResizer=N(28),x.iframeResizerContentWindow=N(402)},457:f=>{var x=function(){var N=Math.floor(Math.random()*1000001),j={};function ye(k,z,D,ee){function B(c){for(var ue=0;ue<c.length;ue++)if(c[ue].win===k)return!0;return!1}var l=!1;if(z==="*"){for(var K in j)if(j.hasOwnProperty(K)&&K!=="*"&&typeof j[K][D]=="object"&&(l=B(j[K][D]),l))break}else j["*"]&&j["*"][D]&&(l=B(j["*"][D])),!l&&j[z]&&j[z][D]&&(l=B(j[z][D]));if(l)throw"A channel is already bound to the same window which overlaps with origin '"+z+"' and has scope '"+D+"'";typeof j[z]!="object"&&(j[z]={}),typeof j[z][D]!="object"&&(j[z][D]=[]),j[z][D].push({win:k,handler:ee})}function le(k,z,D){for(var ee=j[z][D],B=0;B<ee.length;B++)ee[B].win===k&&ee.splice(B,1);j[z][D].length===0&&delete j[z][D]}function Q(k){return Array.isArray?Array.isArray(k):k.constructor.toString().indexOf("Array")!=-1}var M={},P=function(k){try{var z=JSON.parse(k.data);if(typeof z!="object"||z===null)throw"malformed"}catch{return}var D=k.source,ee=k.origin,B,l,K;if(typeof z.method=="string"){var c=z.method.split("::");c.length==2?(B=c[0],K=c[1]):K=z.method}if(typeof z.id<"u"&&(l=z.id),typeof K=="string"){var ue=!1;if(j[ee]&&j[ee][B]){for(var pe=0;pe<j[ee][B].length;pe++)if(j[ee][B][pe].win===D){j[ee][B][pe].handler(ee,K,z),ue=!0;break}}if(!ue&&j["*"]&&j["*"][B]){for(var pe=0;pe<j["*"][B].length;pe++)if(j["*"][B][pe].win===D){j["*"][B][pe].handler(ee,K,z);break}}}else typeof l<"u"&&M[l]&&M[l](ee,K,z)};return window.addEventListener?window.addEventListener("message",P,!1):window.attachEvent&&window.attachEvent("onmessage",P),{build:function(k){var z=function(A){if(k.debugOutput&&window.console&&window.console.log){try{typeof A!="string"&&(A=JSON.stringify(A))}catch{}console.log("["+B+"] "+A)}};if(!window.postMessage)throw"jschannel cannot run this browser, no postMessage";if(!window.JSON||!window.JSON.stringify||!window.JSON.parse)throw"jschannel cannot run this browser, no JSON parsing/serialization";if(typeof k!="object")throw"Channel build invoked without a proper object argument";if(!k.window||!k.window.postMessage)throw"Channel.build() called without a valid window argument";if(window===k.window)throw"target window is same as present window -- not allowed";var D=!1;if(typeof k.origin=="string"){var ee;k.origin==="*"?D=!0:(ee=k.origin.match(/^https?:\/\/(?:[-a-zA-Z0-9_\.])+(?::\d+)?/))!==null&&(k.origin=ee[0].toLowerCase(),D=!0)}if(!D)throw"Channel.build() called with an invalid origin";if(typeof k.scope<"u"){if(typeof k.scope!="string")throw"scope, when specified, must be a string";if(k.scope.split("::").length>1)throw"scope may not contain double colons: '::'"}var B=function(){for(var A="",I="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",W=0;W<5;W++)A+=I.charAt(Math.floor(Math.random()*I.length));return A}(),l={},K={},c={},ue=!1,pe=[],ce=function(A,I,W){var ae=!1,de=!1;return{origin:I,invoke:function(ne,re){if(!c[A])throw"attempting to invoke a callback of a nonexistent transaction: "+A;for(var Pe=!1,Le=0;Le<W.length;Le++)if(ne===W[Le]){Pe=!0;break}if(!Pe)throw"request supports no such callback '"+ne+"'";be({id:A,callback:ne,params:re})},error:function(ne,re){if(de=!0,!c[A])throw"error called for nonexistent message: "+A;delete c[A],be({id:A,error:ne,message:re})},complete:function(ne){if(de=!0,!c[A])throw"complete called for nonexistent message: "+A;delete c[A],be({id:A,result:ne})},delayReturn:function(ne){return typeof ne=="boolean"&&(ae=ne===!0),ae},completed:function(){return de}}},ze=function(A,I,W){return window.setTimeout(function(){if(K[A]){var ae="timeout ("+I+"ms) exceeded on method '"+W+"'";(0,K[A].error)("timeout_error",ae),delete K[A],delete M[A]}},I)},De=function(A,I,W){if(typeof k.gotMessageObserver=="function")try{k.gotMessageObserver(A,W)}catch(He){z("gotMessageObserver() raised an exception: "+He.toString())}if(W.id&&I){if(l[I]){var ae=ce(W.id,A,W.callbacks?W.callbacks:[]);c[W.id]={};try{if(W.callbacks&&Q(W.callbacks)&&W.callbacks.length>0)for(var de=0;de<W.callbacks.length;de++){for(var ne=W.callbacks[de],re=W.params,Pe=ne.split("/"),Le=0;Le<Pe.length-1;Le++){var yt=Pe[Le];typeof re[yt]!="object"&&(re[yt]={}),re=re[yt]}re[Pe[Pe.length-1]]=function(){var He=ne;return function(ft){return ae.invoke(He,ft)}}()}var Me=l[I](ae,W.params);!ae.delayReturn()&&!ae.completed()&&ae.complete(Me)}catch(He){var Ge="runtime_error",Ye=null;if(typeof He=="string"?Ye=He:typeof He=="object"&&(He&&Q(He)&&He.length==2?(Ge=He[0],Ye=He[1]):typeof He.error=="string"&&(Ge=He.error,He.message?typeof He.message=="string"?Ye=He.message:He=He.message:Ye="")),Ye===null)try{Ye=JSON.stringify(He),typeof Ye>"u"&&(Ye=He.toString())}catch{Ye=He.toString()}ae.error(Ge,Ye)}}}else W.id&&W.callback?!K[W.id]||!K[W.id].callbacks||!K[W.id].callbacks[W.callback]?z("ignoring invalid callback, id:"+W.id+" ("+W.callback+")"):K[W.id].callbacks[W.callback](W.params):W.id?K[W.id]?(W.error?(0,K[W.id].error)(W.error,W.message):W.result!==void 0?(0,K[W.id].success)(W.result):(0,K[W.id].success)(),delete K[W.id],delete M[W.id]):z("ignoring invalid response: "+W.id):I&&l[I]&&l[I]({origin:A},W.params)};ye(k.window,k.origin,typeof k.scope=="string"?k.scope:"",De);var ot=function(A){return typeof k.scope=="string"&&k.scope.length&&(A=[k.scope,A].join("::")),A},be=function(A,I){if(!A)throw"postMessage called with null message";var W=ue?"post  ":"queue ";if(z(W+" message: "+JSON.stringify(A)),!I&&!ue)pe.push(A);else{if(typeof k.postMessageObserver=="function")try{k.postMessageObserver(k.origin,A)}catch(ae){z("postMessageObserver() raised an exception: "+ae.toString())}k.window.postMessage(JSON.stringify(A),k.origin)}},q=function(A,I){if(z("ready msg received"),ue)throw"received ready message while in ready state.  help!";for(I==="ping"?B+="-R":B+="-L",Y.unbind("__ready"),ue=!0,z("ready msg accepted."),I==="ping"&&Y.notify({method:"__ready",params:"pong"});pe.length;)be(pe.pop());typeof k.onReady=="function"&&k.onReady(Y)},Y={unbind:function(A){if(l[A]){if(!delete l[A])throw"can't delete method: "+A;return!0}return!1},bind:function(A,I){if(!A||typeof A!="string")throw"'method' argument to bind must be string";if(!I||typeof I!="function")throw"callback missing from bind params";if(l[A])throw"method '"+A+"' is already bound!";return l[A]=I,this},call:function(A){if(!A)throw"missing arguments to call function";if(!A.method||typeof A.method!="string")throw"'method' argument to call must be string";if(!A.success||typeof A.success!="function")throw"'success' callback missing from call";var I={},W=[],ae=[],de=function(re,Pe){if(ae.indexOf(Pe)>=0)throw"params cannot be a recursive data structure";if(ae.push(Pe),typeof Pe=="object"){for(var Le in Pe)if(Pe.hasOwnProperty(Le)){var yt=re+(re.length?"/":"")+Le;typeof Pe[Le]=="function"?(I[yt]=Pe[Le],W.push(yt),delete Pe[Le]):typeof Pe[Le]=="object"&&Pe[Le]!==null&&de(yt,Pe[Le])}}};de("",A.params);var ne={id:N,method:ot(A.method),params:A.params};W.length&&(ne.callbacks=W),A.timeout&&ze(N,A.timeout,ot(A.method)),K[N]={callbacks:I,error:A.error,success:A.success},M[N]=De,N++,be(ne)},notify:function(A){if(!A)throw"missing arguments to notify function";if(!A.method||typeof A.method!="string")throw"'method' argument to notify must be string";be({method:ot(A.method),params:A.params})},destroy:function(){le(k.window,k.origin,typeof k.scope=="string"?k.scope:""),window.removeEventListener?window.removeEventListener("message",De,!1):window.detachEvent&&window.detachEvent("onmessage",De),ue=!1,l={},c={},K={},k.origin=null,pe=[],z("channel destroyed"),B=""}};return Y.bind("__ready",q),setTimeout(function(){be({method:ot("__ready"),params:"ping"},!0)},0),Y}}}();f.exports=x},705:(f,x,N)=>{var j=N(639),ye=j.Symbol;f.exports=ye},239:(f,x,N)=>{var j=N(705),ye=N(607),le=N(333),Q="[object Null]",M="[object Undefined]",P=j?j.toStringTag:void 0;function k(z){return z==null?z===void 0?M:Q:P&&P in Object(z)?ye(z):le(z)}f.exports=k},957:(f,x,N)=>{var j=typeof N.g=="object"&&N.g&&N.g.Object===Object&&N.g;f.exports=j},924:(f,x,N)=>{var j=N(569),ye=j(Object.getPrototypeOf,Object);f.exports=ye},607:(f,x,N)=>{var j=N(705),ye=Object.prototype,le=ye.hasOwnProperty,Q=ye.toString,M=j?j.toStringTag:void 0;function P(k){var z=le.call(k,M),D=k[M];try{k[M]=void 0;var ee=!0}catch{}var B=Q.call(k);return ee&&(z?k[M]=D:delete k[M]),B}f.exports=P},333:f=>{var x=Object.prototype,N=x.toString;function j(ye){return N.call(ye)}f.exports=j},569:f=>{function x(N,j){return function(ye){return N(j(ye))}}f.exports=x},639:(f,x,N)=>{var j=N(957),ye=typeof self=="object"&&self&&self.Object===Object&&self,le=j||ye||Function("return this")();f.exports=le},469:f=>{var x=Array.isArray;f.exports=x},5:f=>{function x(N){return N!=null&&typeof N=="object"}f.exports=x},630:(f,x,N)=>{var j=N(239),ye=N(924),le=N(5),Q="[object Object]",M=Function.prototype,P=Object.prototype,k=M.toString,z=P.hasOwnProperty,D=k.call(Object);function ee(B){if(!le(B)||j(B)!=Q)return!1;var l=ye(B);if(l===null)return!0;var K=z.call(l,"constructor")&&l.constructor;return typeof K=="function"&&K instanceof K&&k.call(K)==D}f.exports=ee},37:(f,x,N)=>{var j=N(239),ye=N(469),le=N(5),Q="[object String]";function M(P){return typeof P=="string"||!ye(P)&&le(P)&&j(P)==Q}f.exports=M},353:f=>{function x(N){return N===void 0}f.exports=x}},i={};function h(f){var x=i[f];if(x!==void 0)return x.exports;var N=i[f]={exports:{}};return a[f].call(N.exports,N,N.exports,h),N.exports}h.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var _=h(541);y.Addon=_})()})(Wu);(()=>{var y={669:(h,_,f)=>{var x=f(218),N=z(x),j=function(){function K(c,ue){for(var pe=0;pe<ue.length;pe++){var ce=ue[pe];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(c,ce.key,ce)}}return function(c,ue,pe){return ue&&K(c.prototype,ue),pe&&K(c,pe),c}}(),ye=f(457),le=z(ye),Q=f(729),M=z(Q),P=f(702),k=f(303);function z(K){return K&&K.__esModule?K:{default:K}}function D(K,c){if(!(K instanceof c))throw new TypeError("Cannot call a class as a function")}function ee(K,c){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:K}function B(K,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);K.prototype=Object.create(c&&c.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(K,c):K.__proto__=c)}var l=function(K){B(c,K);function c(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};D(this,c);var pe=ee(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));if(pe.options=ue,!ue.iframe)throw new Error("Iframe not defined");return(0,k.iframeResizer)({checkOrigin:!0,heightCalculationMethod:window.ieVersion<=10?"max":"lowestElement",resizeFrom:"child",resizedCallback:function(ze){pe.emit("iframeResized",ze)}},ue.iframe),pe.channel=le.default.build({window:ue.iframe.contentWindow,origin:ue.origin||"*",scope:ue.id||ue.iframe.contentWindow.location.origin,postMessageObserver:function(ze,De){pe.emit("postMessage",ze,De)},gotMessageObserver:function(ze,De){pe.emit("gotMessage",ze,De)}}),["saveData","request","addTransaction","editTransaction","addInstitution","addInvestment","editInstitution","editAsset","editLiability","deleteInstitution","deleteAsset","deleteLiability","downloadDocument","upgradePremium","getSharings","switchUser"].forEach(function(ce){pe.channel.bind(ce,function(ze,De){var ot=ce,be=De;ze.delayReturn(!0);var q=function(A,I){return A?ze.error(A):ze.complete(I)};pe.emit(ot,be||q,be?q:void 0)})}),pe.channel.call({method:"init",params:ue.options,success:function(ze){pe.emit("init",ze)}}),pe}return j(c,[{key:"trigger",value:function(pe,ce){var ze=this,De={eventName:pe};return ce&&(De.eventData=ce),new P.Promise(function(ot,be){ze.channel.call({method:"_event",params:De,success:ot,error:be})})}},{key:"update",value:function(pe){var ce=this;return new P.Promise(function(ze,De){if(!(0,N.default)(pe))throw new Error("Data must be an object");ce.channel.call({method:"update",params:pe,success:ze,error:De})})}},{key:"reload",value:function(){var pe=this;return new P.Promise(function(ce,ze){pe.channel.call({method:"reload",success:ce,error:ze})})}},{key:"destroy",value:function(){this.channel.destroy()}}]),c}(M.default);h.exports=l},702:function(h,_,f){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(x,N){h.exports=N()})(this,function(){function x(C){var ie=typeof C;return C!==null&&(ie==="object"||ie==="function")}function N(C){return typeof C=="function"}var j=void 0;Array.isArray?j=Array.isArray:j=function(C){return Object.prototype.toString.call(C)==="[object Array]"};var ye=j,le=0,Q=void 0,M=void 0,P=function(ie,p){De[le]=ie,De[le+1]=p,le+=2,le===2&&(M?M(ot):q())};function k(C){M=C}function z(C){P=C}var D=typeof window<"u"?window:void 0,ee=D||{},B=ee.MutationObserver||ee.WebKitMutationObserver,l=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",K=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function c(){return function(){return process.nextTick(ot)}}function ue(){return typeof Q<"u"?function(){Q(ot)}:ze()}function pe(){var C=0,ie=new B(ot),p=document.createTextNode("");return ie.observe(p,{characterData:!0}),function(){p.data=C=++C%2}}function ce(){var C=new MessageChannel;return C.port1.onmessage=ot,function(){return C.port2.postMessage(0)}}function ze(){var C=setTimeout;return function(){return C(ot,1)}}var De=new Array(1e3);function ot(){for(var C=0;C<le;C+=2){var ie=De[C],p=De[C+1];ie(p),De[C]=void 0,De[C+1]=void 0}le=0}function be(){try{var C=Function("return this")().require("vertx");return Q=C.runOnLoop||C.runOnContext,ue()}catch{return ze()}}var q=void 0;l?q=c():B?q=pe():K?q=ce():D===void 0?q=be():q=ze();function Y(C,ie){var p=this,F=new this.constructor(W);F[I]===void 0&&he(F);var w=p._state;if(w){var L=arguments[w-1];P(function(){return Ut(w,F,L,p._result)})}else wt(p,F,C,ie);return F}function A(C){var ie=this;if(C&&typeof C=="object"&&C.constructor===ie)return C;var p=new ie(W);return Ye(p,C),p}var I=Math.random().toString(36).substring(2);function W(){}var ae=void 0,de=1,ne=2;function re(){return new TypeError("You cannot resolve a promise with itself")}function Pe(){return new TypeError("A promises callback cannot return that same promise.")}function Le(C,ie,p,F){try{C.call(ie,p,F)}catch(w){return w}}function yt(C,ie,p){P(function(F){var w=!1,L=Le(p,ie,function($){w||(w=!0,ie!==$?Ye(F,$):ft(F,$))},function($){w||(w=!0,lt(F,$))},"Settle: "+(F._label||" unknown promise"));!w&&L&&(w=!0,lt(F,L))},C)}function Me(C,ie){ie._state===de?ft(C,ie._result):ie._state===ne?lt(C,ie._result):wt(ie,void 0,function(p){return Ye(C,p)},function(p){return lt(C,p)})}function Ge(C,ie,p){ie.constructor===C.constructor&&p===Y&&ie.constructor.resolve===A?Me(C,ie):p===void 0?ft(C,ie):N(p)?yt(C,ie,p):ft(C,ie)}function Ye(C,ie){if(C===ie)lt(C,re());else if(x(ie)){var p=void 0;try{p=ie.then}catch(F){lt(C,F);return}Ge(C,ie,p)}else ft(C,ie)}function He(C){C._onerror&&C._onerror(C._result),at(C)}function ft(C,ie){C._state===ae&&(C._result=ie,C._state=de,C._subscribers.length!==0&&P(at,C))}function lt(C,ie){C._state===ae&&(C._state=ne,C._result=ie,P(He,C))}function wt(C,ie,p,F){var w=C._subscribers,L=w.length;C._onerror=null,w[L]=ie,w[L+de]=p,w[L+ne]=F,L===0&&C._state&&P(at,C)}function at(C){var ie=C._subscribers,p=C._state;if(ie.length!==0){for(var F=void 0,w=void 0,L=C._result,$=0;$<ie.length;$+=3)F=ie[$],w=ie[$+p],F?Ut(p,F,w,L):w(L);C._subscribers.length=0}}function Ut(C,ie,p,F){var w=N(p),L=void 0,$=void 0,X=!0;if(w){try{L=p(F)}catch(Je){X=!1,$=Je}if(ie===L){lt(ie,Pe());return}}else L=F;ie._state!==ae||(w&&X?Ye(ie,L):X===!1?lt(ie,$):C===de?ft(ie,L):C===ne&&lt(ie,L))}function bt(C,ie){try{ie(function(F){Ye(C,F)},function(F){lt(C,F)})}catch(p){lt(C,p)}}var Wt=0;function T(){return Wt++}function he(C){C[I]=Wt++,C._state=void 0,C._result=void 0,C._subscribers=[]}function m(){return new Error("Array Methods must be provided an Array")}var H=function(){function C(ie,p){this._instanceConstructor=ie,this.promise=new ie(W),this.promise[I]||he(this.promise),ye(p)?(this.length=p.length,this._remaining=p.length,this._result=new Array(this.length),this.length===0?ft(this.promise,this._result):(this.length=this.length||0,this._enumerate(p),this._remaining===0&&ft(this.promise,this._result))):lt(this.promise,m())}return C.prototype._enumerate=function(p){for(var F=0;this._state===ae&&F<p.length;F++)this._eachEntry(p[F],F)},C.prototype._eachEntry=function(p,F){var w=this._instanceConstructor,L=w.resolve;if(L===A){var $=void 0,X=void 0,Je=!1;try{$=p.then}catch(zt){Je=!0,X=zt}if($===Y&&p._state!==ae)this._settledAt(p._state,F,p._result);else if(typeof $!="function")this._remaining--,this._result[F]=p;else if(w===Te){var ct=new w(W);Je?lt(ct,X):Ge(ct,p,$),this._willSettleAt(ct,F)}else this._willSettleAt(new w(function(zt){return zt(p)}),F)}else this._willSettleAt(L(p),F)},C.prototype._settledAt=function(p,F,w){var L=this.promise;L._state===ae&&(this._remaining--,p===ne?lt(L,w):this._result[F]=w),this._remaining===0&&ft(L,this._result)},C.prototype._willSettleAt=function(p,F){var w=this;wt(p,void 0,function(L){return w._settledAt(de,F,L)},function(L){return w._settledAt(ne,F,L)})},C}();function _e(C){return new H(this,C).promise}function fe(C){var ie=this;return ye(C)?new ie(function(p,F){for(var w=C.length,L=0;L<w;L++)ie.resolve(C[L]).then(p,F)}):new ie(function(p,F){return F(new TypeError("You must pass an array to race."))})}function Ae(C){var ie=this,p=new ie(W);return lt(p,C),p}function Ne(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function gt(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Te=function(){function C(ie){this[I]=T(),this._result=this._state=void 0,this._subscribers=[],W!==ie&&(typeof ie!="function"&&Ne(),this instanceof C?bt(this,ie):gt())}return C.prototype.catch=function(p){return this.then(null,p)},C.prototype.finally=function(p){var F=this,w=F.constructor;return N(p)?F.then(function(L){return w.resolve(p()).then(function(){return L})},function(L){return w.resolve(p()).then(function(){throw L})}):F.then(p,p)},C}();Te.prototype.then=Y,Te.all=_e,Te.race=fe,Te.resolve=A,Te.reject=Ae,Te._setScheduler=k,Te._setAsap=z,Te._asap=P;function Ct(){var C=void 0;if(typeof f.g<"u")C=f.g;else if(typeof self<"u")C=self;else try{C=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ie=C.Promise;if(ie){var p=null;try{p=Object.prototype.toString.call(ie.resolve())}catch{}if(p==="[object Promise]"&&!ie.cast)return}C.Promise=Te}return Te.polyfill=Ct,Te.Promise=Te,Te})},729:h=>{var _=Object.prototype.hasOwnProperty,f="~";function x(){}Object.create&&(x.prototype=Object.create(null),new x().__proto__||(f=!1));function N(Q,M,P){this.fn=Q,this.context=M,this.once=P||!1}function j(Q,M,P,k,z){if(typeof P!="function")throw new TypeError("The listener must be a function");var D=new N(P,k||Q,z),ee=f?f+M:M;return Q._events[ee]?Q._events[ee].fn?Q._events[ee]=[Q._events[ee],D]:Q._events[ee].push(D):(Q._events[ee]=D,Q._eventsCount++),Q}function ye(Q,M){--Q._eventsCount===0?Q._events=new x:delete Q._events[M]}function le(){this._events=new x,this._eventsCount=0}le.prototype.eventNames=function(){var M=[],P,k;if(this._eventsCount===0)return M;for(k in P=this._events)_.call(P,k)&&M.push(f?k.slice(1):k);return Object.getOwnPropertySymbols?M.concat(Object.getOwnPropertySymbols(P)):M},le.prototype.listeners=function(M){var P=f?f+M:M,k=this._events[P];if(!k)return[];if(k.fn)return[k.fn];for(var z=0,D=k.length,ee=new Array(D);z<D;z++)ee[z]=k[z].fn;return ee},le.prototype.listenerCount=function(M){var P=f?f+M:M,k=this._events[P];return k?k.fn?1:k.length:0},le.prototype.emit=function(M,P,k,z,D,ee){var B=f?f+M:M;if(!this._events[B])return!1;var l=this._events[B],K=arguments.length,c,ue;if(l.fn){switch(l.once&&this.removeListener(M,l.fn,void 0,!0),K){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,P),!0;case 3:return l.fn.call(l.context,P,k),!0;case 4:return l.fn.call(l.context,P,k,z),!0;case 5:return l.fn.call(l.context,P,k,z,D),!0;case 6:return l.fn.call(l.context,P,k,z,D,ee),!0}for(ue=1,c=new Array(K-1);ue<K;ue++)c[ue-1]=arguments[ue];l.fn.apply(l.context,c)}else{var pe=l.length,ce;for(ue=0;ue<pe;ue++)switch(l[ue].once&&this.removeListener(M,l[ue].fn,void 0,!0),K){case 1:l[ue].fn.call(l[ue].context);break;case 2:l[ue].fn.call(l[ue].context,P);break;case 3:l[ue].fn.call(l[ue].context,P,k);break;case 4:l[ue].fn.call(l[ue].context,P,k,z);break;default:if(!c)for(ce=1,c=new Array(K-1);ce<K;ce++)c[ce-1]=arguments[ce];l[ue].fn.apply(l[ue].context,c)}}return!0},le.prototype.on=function(M,P,k){return j(this,M,P,k,!1)},le.prototype.once=function(M,P,k){return j(this,M,P,k,!0)},le.prototype.removeListener=function(M,P,k,z){var D=f?f+M:M;if(!this._events[D])return this;if(!P)return ye(this,D),this;var ee=this._events[D];if(ee.fn)ee.fn===P&&(!z||ee.once)&&(!k||ee.context===k)&&ye(this,D);else{for(var B=0,l=[],K=ee.length;B<K;B++)(ee[B].fn!==P||z&&!ee[B].once||k&&ee[B].context!==k)&&l.push(ee[B]);l.length?this._events[D]=l.length===1?l[0]:l:ye(this,D)}return this},le.prototype.removeAllListeners=function(M){var P;return M?(P=f?f+M:M,this._events[P]&&ye(this,P)):(this._events=new x,this._eventsCount=0),this},le.prototype.off=le.prototype.removeListener,le.prototype.addListener=le.prototype.on,le.prefixed=f,le.EventEmitter=le,h.exports=le},303:(h,_,f)=>{h.exports=f(683)},402:h=>{(function(_){if(typeof window>"u")return;var f=!0,x=10,N="",j=0,ye="",le=null,Q="",M=!1,P={resize:1,click:1},k=128,z=!0,D=1,ee="bodyOffset",B=ee,l=!0,K="",c={},ue=32,pe=null,ce=!1,ze="[iFrameSizer]",De=ze.length,ot="",be={max:1,min:1,bodyScroll:1,documentElementScroll:1},q="child",Y=!0,A=window.parent,I="*",W=0,ae=!1,de=null,ne=16,re=1,Pe="scroll",Le=Pe,yt=window,Me=function(){he("MessageCallback function not defined")},Ge=function(){},Ye=function(){},He={height:function(){return he("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return he("Custom width calculation function not defined"),document.body.scrollWidth}},ft={};function lt(R,V,g){"addEventListener"in window?R.addEventListener(V,g,!1):"attachEvent"in window&&R.attachEvent("on"+V,g)}function wt(R,V,g){"removeEventListener"in window?R.removeEventListener(V,g,!1):"detachEvent"in window&&R.detachEvent("on"+V,g)}function at(R){return R.charAt(0).toUpperCase()+R.slice(1)}function Ut(R){var V,g,S,oe=null,xe=0,Ie=function(){xe=bt(),oe=null,S=R.apply(V,g),oe||(V=g=null)};return function(){var je=bt();xe||(xe=je);var Qe=ne-(je-xe);return V=this,g=arguments,Qe<=0||Qe>ne?(oe&&(clearTimeout(oe),oe=null),xe=je,S=R.apply(V,g),oe||(V=g=null)):oe||(oe=setTimeout(Ie,Qe)),S}}var bt=Date.now||function(){return new Date().getTime()};function Wt(R){return ze+"["+ot+"] "+R}function T(R){ce&&typeof window.console=="object"&&console.log(Wt(R))}function he(R){typeof window.console=="object"&&console.warn(Wt(R))}function m(){H(),T("Initialising iFrame ("+location.href+")"),_e(),Ne(),Ae("background",N),Ae("padding",Q),ct(),ie(),p(),gt(),fn(),F(),c=zt(),Sn("init","Init message from host page"),Ge()}function H(){function R(g){return g==="true"}var V=K.substr(De).split(":");ot=V[0],j=_!==V[1]?Number(V[1]):j,M=_!==V[2]?R(V[2]):M,ce=_!==V[3]?R(V[3]):ce,ue=_!==V[4]?Number(V[4]):ue,f=_!==V[6]?R(V[6]):f,ye=V[7],B=_!==V[8]?V[8]:B,N=V[9],Q=V[10],W=_!==V[11]?Number(V[11]):W,c.enable=_!==V[12]?R(V[12]):!1,q=_!==V[13]?V[13]:q,Le=_!==V[14]?V[14]:Le}function _e(){function R(){var g=window.iFrameResizer;T("Reading data from page: "+JSON.stringify(g)),Me="messageCallback"in g?g.messageCallback:Me,Ge="readyCallback"in g?g.readyCallback:Ge,I="targetOrigin"in g?g.targetOrigin:I,B="heightCalculationMethod"in g?g.heightCalculationMethod:B,Le="widthCalculationMethod"in g?g.widthCalculationMethod:Le}function V(g,S){return typeof g=="function"&&(T("Setup custom "+S+"CalcMethod"),He[S]=g,g="custom"),g}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(R(),B=V(B,"height"),Le=V(Le,"width")),T("TargetOrigin for parent set to: "+I)}function fe(R,V){return V.indexOf("-")!==-1&&(he("Negative CSS value ignored for "+R),V=""),V}function Ae(R,V){_!==V&&V!==""&&V!=="null"&&(document.body.style[R]=V,T("Body "+R+' set to "'+V+'"'))}function Ne(){_===ye&&(ye=j+"px"),Ae("margin",fe("margin",ye))}function gt(){document.documentElement.style.height="",document.body.style.height="",T('HTML & body height set to "auto"')}function Te(R){var V={add:function(g){function S(){Sn(R.eventName,R.eventType)}ft[g]=S,lt(window,g,S)},remove:function(g){var S=ft[g];delete ft[g],wt(window,g,S)}};R.eventNames&&Array.prototype.map?(R.eventName=R.eventNames[0],R.eventNames.map(V[R.method])):V[R.method](R.eventName),T(at(R.method)+" event listener: "+R.eventType)}function Ct(R){Te({method:R,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),Te({method:R,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),Te({method:R,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),Te({method:R,eventType:"Input",eventName:"input"}),Te({method:R,eventType:"Mouse Up",eventName:"mouseup"}),Te({method:R,eventType:"Mouse Down",eventName:"mousedown"}),Te({method:R,eventType:"Orientation Change",eventName:"orientationchange"}),Te({method:R,eventType:"Print",eventName:["afterprint","beforeprint"]}),Te({method:R,eventType:"Ready State Change",eventName:"readystatechange"}),Te({method:R,eventType:"Touch Start",eventName:"touchstart"}),Te({method:R,eventType:"Touch End",eventName:"touchend"}),Te({method:R,eventType:"Touch Cancel",eventName:"touchcancel"}),Te({method:R,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),Te({method:R,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),Te({method:R,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),q==="child"&&Te({method:R,eventType:"IFrame Resized",eventName:"resize"})}function C(R,V,g,S){return V!==R&&(R in g||(he(R+" is not a valid option for "+S+"CalculationMethod."),R=V),T(S+' calculation method set to "'+R+'"')),R}function ie(){B=C(B,ee,rt,"height")}function p(){Le=C(Le,Pe,vt,"width")}function F(){f===!0?(Ct("add"),Ce()):T("Auto Resize disabled")}function w(){T("Disable outgoing messages"),Y=!1}function L(){T("Remove event listener: Message"),wt(window,"message",lr)}function $(){le!==null&&le.disconnect()}function X(){Ct("remove"),$(),clearInterval(pe)}function Je(){w(),L(),f===!0&&X()}function ct(){var R=document.createElement("div");R.style.clear="both",R.style.display="block",document.body.appendChild(R)}function zt(){function R(){return{x:window.pageXOffset!==_?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==_?window.pageYOffset:document.documentElement.scrollTop}}function V(Qe){var et=Qe.getBoundingClientRect(),Re=R();return{x:parseInt(et.left,10)+parseInt(Re.x,10),y:parseInt(et.top,10)+parseInt(Re.y,10)}}function g(Qe){function et(Ke){var Dt=V(Ke);T("Moving to in page link (#"+Re+") at x: "+Dt.x+" y: "+Dt.y),Zt(Dt.y,Dt.x,"scrollToOffset")}var Re=Qe.split("#")[1]||Qe,Fe=decodeURIComponent(Re),Xe=document.getElementById(Fe)||document.getElementsByName(Fe)[0];_!==Xe?et(Xe):(T("In page link (#"+Re+") not found in iFrame, so sending to parent"),Zt(0,0,"inPageLink","#"+Re))}function S(){location.hash!==""&&location.hash!=="#"&&g(location.href)}function oe(){function Qe(et){function Re(Fe){Fe.preventDefault(),g(this.getAttribute("href"))}et.getAttribute("href")!=="#"&&lt(et,"click",Re)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),Qe)}function xe(){lt(window,"hashchange",S)}function Ie(){setTimeout(S,k)}function je(){Array.prototype.forEach&&document.querySelectorAll?(T("Setting up location.hash handlers"),oe(),xe(),Ie()):he("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return c.enable?je():T("In page linking not enabled"),{findTarget:g}}function fn(){T("Enable public methods"),yt.parentIFrame={autoResize:function(V){return V===!0&&f===!1?(f=!0,F()):V===!1&&f===!0&&(f=!1,X()),f},close:function(){Zt(0,0,"close"),Je()},getId:function(){return ot},getPageInfo:function(V){typeof V=="function"?(Ye=V,Zt(0,0,"pageInfo")):(Ye=function(){},Zt(0,0,"pageInfoStop"))},moveToAnchor:function(V){c.findTarget(V)},reset:function(){ur("parentIFrame.reset")},scrollTo:function(V,g){Zt(g,V,"scrollTo")},scrollToOffset:function(V,g){Zt(g,V,"scrollToOffset")},sendMessage:function(V,g){Zt(0,0,"message",JSON.stringify(V),g)},setHeightCalculationMethod:function(V){B=V,ie()},setWidthCalculationMethod:function(V){Le=V,p()},setTargetOrigin:function(V){T("Set targetOrigin: "+V),I=V},size:function(V,g){var S=""+(V||"")+(g?","+g:"");Sn("size","parentIFrame.size("+S+")",V,g)}}}function Ft(){ue!==0&&(T("setInterval: "+ue+"ms"),pe=setInterval(function(){Sn("interval","setInterval: "+ue)},Math.abs(ue)))}function xt(){function R(Fe){function Xe(Ke){Ke.complete===!1&&(T("Attach listeners to "+Ke.src),Ke.addEventListener("load",oe,!1),Ke.addEventListener("error",xe,!1),Qe.push(Ke))}Fe.type==="attributes"&&Fe.attributeName==="src"?Xe(Fe.target):Fe.type==="childList"&&Array.prototype.forEach.call(Fe.target.querySelectorAll("img"),Xe)}function V(Fe){Qe.splice(Qe.indexOf(Fe),1)}function g(Fe){T("Remove listeners from "+Fe.src),Fe.removeEventListener("load",oe,!1),Fe.removeEventListener("error",xe,!1),V(Fe)}function S(Fe,Xe,Ke){g(Fe.target),Sn(Xe,Ke+": "+Fe.target.src,_,_)}function oe(Fe){S(Fe,"imageLoad","Image loaded")}function xe(Fe){S(Fe,"imageLoadFailed","Image load failed")}function Ie(Fe){Sn("mutationObserver","mutationObserver: "+Fe[0].target+" "+Fe[0].type),Fe.forEach(R)}function je(){var Fe=document.querySelector("body"),Xe={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return Re=new et(Ie),T("Create body MutationObserver"),Re.observe(Fe,Xe),Re}var Qe=[],et=window.MutationObserver||window.WebKitMutationObserver,Re=je();return{disconnect:function(){"disconnect"in Re&&(T("Disconnect body MutationObserver"),Re.disconnect(),Qe.forEach(g))}}}function Ce(){var R=0>ue;window.MutationObserver||window.WebKitMutationObserver?R?Ft():le=xt():(T("MutationObserver not supported in this browser!"),Ft())}function ve(R,V){function g(oe){var xe=/^\d+(px)?$/i;if(xe.test(oe))return parseInt(oe,x);var Ie=V.style.left,je=V.runtimeStyle.left;return V.runtimeStyle.left=V.currentStyle.left,V.style.left=oe||0,oe=V.style.pixelLeft,V.style.left=Ie,V.runtimeStyle.left=je,oe}var S=0;return V=V||document.body,"defaultView"in document&&"getComputedStyle"in document.defaultView?(S=document.defaultView.getComputedStyle(V,null),S=S!==null?S[R]:0):S=g(V.currentStyle[R]),parseInt(S,x)}function ge(R){R>ne/2&&(ne=2*R,T("Event throttle increased to "+ne+"ms"))}function me(R,V){for(var g=V.length,S=0,oe=0,xe=at(R),Ie=bt(),je=0;je<g;je++)S=V[je].getBoundingClientRect()[R]+ve("margin"+xe,V[je]),S>oe&&(oe=S);return Ie=bt()-Ie,T("Parsed "+g+" HTML elements"),T("Element position calculated in "+Ie+"ms"),ge(Ie),oe}function Se(R){return[R.bodyOffset(),R.bodyScroll(),R.documentElementOffset(),R.documentElementScroll()]}function Ze(R,V){function g(){return he("No tagged elements ("+V+") found on page"),document.querySelectorAll("body *")}var S=document.querySelectorAll("["+V+"]");return S.length===0&&g(),me(R,S)}function qe(){return document.querySelectorAll("body *")}var rt={bodyOffset:function(){return document.body.offsetHeight+ve("marginTop")+ve("marginBottom")},offset:function(){return rt.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return He.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,Se(rt))},min:function(){return Math.min.apply(null,Se(rt))},grow:function(){return rt.max()},lowestElement:function(){return Math.max(rt.bodyOffset(),me("bottom",qe()))},taggedElement:function(){return Ze("bottom","data-iframe-height")}},vt={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return He.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(vt.bodyScroll(),vt.documentElementScroll())},max:function(){return Math.max.apply(null,Se(vt))},min:function(){return Math.min.apply(null,Se(vt))},rightMostElement:function(){return me("right",qe())},taggedElement:function(){return Ze("right","data-iframe-width")}};function Pt(R,V,g,S){function oe(){D=Re,re=Fe,Zt(D,re,R)}function xe(){function Xe(Ke,Dt){var Qt=Math.abs(Ke-Dt)<=W;return!Qt}return Re=_!==g?g:rt[B](),Fe=_!==S?S:vt[Le](),Xe(D,Re)||M&&Xe(re,Fe)}function Ie(){return!(R in{init:1,interval:1,size:1})}function je(){return B in be||M&&Le in be}function Qe(){T("No change in size detected")}function et(){Ie()&&je()?ur(V):R in{interval:1}||Qe()}var Re,Fe;xe()||R==="init"?(Vn(),oe()):et()}var Vt=Ut(Pt);function Sn(R,V,g,S){function oe(){R in{reset:1,resetPage:1,init:1}||T("Trigger event: "+V)}function xe(){return ae&&R in P}xe()?T("Trigger event cancelled: "+R):(oe(),Vt(R,V,g,S))}function Vn(){ae||(ae=!0,T("Trigger event lock on")),clearTimeout(de),de=setTimeout(function(){ae=!1,T("Trigger event lock off"),T("--")},k)}function mn(R){D=rt[B](),re=vt[Le](),Zt(D,re,R)}function ur(R){var V=B;B=ee,T("Reset trigger event: "+R),Vn(),mn("reset"),B=V}function Zt(R,V,g,S,oe){function xe(){_===oe?oe=I:T("Message targetOrigin: "+oe)}function Ie(){var je=R+":"+V,Qe=ot+":"+je+":"+g+(_!==S?":"+S:"");T("Sending message to host page ("+Qe+")"),A.postMessage(ze+Qe,oe)}Y===!0&&(xe(),Ie())}function lr(R){var V={init:function(){function Re(){K=R.data,A=R.source,m(),z=!1,setTimeout(function(){l=!1},k)}document.readyState==="interactive"||document.readyState==="complete"?Re():(T("Waiting for page ready"),lt(window,"readystatechange",V.initFromParent))},reset:function(){l?T("Page reset ignored by init"):(T("Page size reset by host page"),mn("resetPage"))},resize:function(){Sn("resizeParent","Parent window requested size check")},moveToAnchor:function(){c.findTarget(oe())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var Re=oe();T("PageInfoFromParent called from parent: "+Re),Ye(JSON.parse(Re)),T(" --")},message:function(){var Re=oe();T("MessageCallback called from parent: "+Re),Me(JSON.parse(Re)),T(" --")}};function g(){return ze===(""+R.data).substr(0,De)}function S(){return R.data.split("]")[1].split(":")[0]}function oe(){return R.data.substr(R.data.indexOf(":")+1)}function xe(){return!h.exports&&"iFrameResize"in window}function Ie(){return R.data.split(":")[2]in{true:1,false:1}}function je(){var et=S();et in V?V[et]():!xe()&&!Ie()&&he("Unexpected message ("+R.data+")")}function Qe(){z===!1?je():Ie()?V.init():T('Ignored message of type "'+S()+'". Received before initialization.')}g()&&Qe()}function an(){document.readyState!=="loading"&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}lt(window,"message",lr),an()})()},28:(h,_)=>{var f,x,N;(function(j){if(typeof window>"u")return;var ye=0,le=!1,Q=!1,M="message",P=M.length,k="[iFrameSizer]",z=k.length,D=null,ee=window.requestAnimationFrame,B={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},l={},K=null,c={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){Y("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};function ue(T,he,m){"addEventListener"in window?T.addEventListener(he,m,!1):"attachEvent"in window&&T.attachEvent("on"+he,m)}function pe(T,he,m){"removeEventListener"in window?T.removeEventListener(he,m,!1):"detachEvent"in window&&T.detachEvent("on"+he,m)}function ce(){var T=["moz","webkit","o","ms"],he;for(he=0;he<T.length&&!ee;he+=1)ee=window[T[he]+"RequestAnimationFrame"];ee||be("setup","RequestAnimationFrame not supported")}function ze(T){var he="Host page: "+T;return window.top!==window.self&&(window.parentIFrame&&window.parentIFrame.getId?he=window.parentIFrame.getId()+": "+T:he="Nested host page: "+T),he}function De(T){return k+"["+ze(T)+"]"}function ot(T){return l[T]?l[T].log:le}function be(T,he){A("log",T,he,ot(T))}function q(T,he){A("info",T,he,ot(T))}function Y(T,he){A("warn",T,he,!0)}function A(T,he,m,H){H===!0&&typeof window.console=="object"&&console[T](De(he),m)}function I(T){function he(){function ve(){Le(xt),ne(Ce),X("resizedCallback",xt)}H("Height"),H("Width"),yt(ve,xt,"init")}function m(){var ve=Ft.substr(z).split(":");return{iframe:l[ve[0]]&&l[ve[0]].iframe,id:ve[0],height:ve[1],width:ve[2],type:ve[3]}}function H(ve){var ge=Number(l[Ce]["max"+ve]),me=Number(l[Ce]["min"+ve]),Se=ve.toLowerCase(),Ze=Number(xt[Se]);be(Ce,"Checking "+Se+" is in range "+me+"-"+ge),Ze<me&&(Ze=me,be(Ce,"Set "+Se+" to min value")),Ze>ge&&(Ze=ge,be(Ce,"Set "+Se+" to max value")),xt[Se]=""+Ze}function _e(){function ve(){function Se(){var qe=0,rt=!1;for(be(Ce,"Checking connection is from allowed list of origins: "+me);qe<me.length;qe++)if(me[qe]===ge){rt=!0;break}return rt}function Ze(){var qe=l[Ce]&&l[Ce].remoteHost;return be(Ce,"Checking connection is from: "+qe),ge===qe}return me.constructor===Array?Se():Ze()}var ge=T.origin,me=l[Ce]&&l[Ce].checkOrigin;if(me&&""+ge!="null"&&!ve())throw new Error("Unexpected message received from: "+ge+" for "+xt.iframe.id+". Message was: "+T.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function fe(){return k===(""+Ft).substr(0,z)&&Ft.substr(z).split(":")[0]in l}function Ae(){var ve=xt.type in{true:1,false:1,undefined:1};return ve&&be(Ce,"Ignoring init message from meta parent page"),ve}function Ne(ve){return Ft.substr(Ft.indexOf(":")+P+ve)}function gt(ve){be(Ce,"MessageCallback passed: {iframe: "+xt.iframe.id+", message: "+ve+"}"),X("messageCallback",{iframe:xt.iframe,message:JSON.parse(ve)}),be(Ce,"--")}function Te(){var ve=document.body.getBoundingClientRect(),ge=xt.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:ge.height,iframeWidth:ge.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(ge.top-ve.top,10),offsetLeft:parseInt(ge.left-ve.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})}function Ct(ve,ge){function me(){Me("Send Page Info","pageInfo:"+Te(),ve,ge)}He(me,32)}function C(){function ve(Ze,qe){function rt(){l[Se]?Ct(l[Se].iframe,Se):ge()}["scroll","resize"].forEach(function(vt){be(Se,Ze+vt+" listener for sendPageInfo"),qe(window,vt,rt)})}function ge(){ve("Remove ",pe)}function me(){ve("Add ",ue)}var Se=Ce;me(),l[Se]&&(l[Se].stopPageInfo=ge)}function ie(){l[Ce]&&l[Ce].stopPageInfo&&(l[Ce].stopPageInfo(),delete l[Ce].stopPageInfo)}function p(){var ve=!0;return xt.iframe===null&&(Y(Ce,"IFrame ("+xt.id+") not found"),ve=!1),ve}function F(ve){var ge=ve.getBoundingClientRect();return de(Ce),{x:Math.floor(Number(ge.left)+Number(D.x)),y:Math.floor(Number(ge.top)+Number(D.y))}}function w(ve){function ge(){D=qe,L(),be(Ce,"--")}function me(){return{x:Number(xt.width)+Ze.x,y:Number(xt.height)+Ze.y}}function Se(){window.parentIFrame?window.parentIFrame["scrollTo"+(ve?"Offset":"")](qe.x,qe.y):Y(Ce,"Unable to scroll to requested position, window.parentIFrame not found")}var Ze=ve?F(xt.iframe):{x:0,y:0},qe=me();be(Ce,"Reposition requested from iFrame (offset x:"+Ze.x+" y:"+Ze.y+")"),window.top!==window.self?Se():ge()}function L(){X("scrollCallback",D)!==!1?ne(Ce):re()}function $(ve){function ge(){var rt=F(qe);be(Ce,"Moving to in page link (#"+Se+") at x: "+rt.x+" y: "+rt.y),D={x:rt.x,y:rt.y},L(),be(Ce,"--")}function me(){window.parentIFrame?window.parentIFrame.moveToAnchor(Se):be(Ce,"In page link #"+Se+" not found and window.parentIFrame not found")}var Se=ve.split("#")[1]||"",Ze=decodeURIComponent(Se),qe=document.getElementById(Ze)||document.getElementsByName(Ze)[0];qe?ge():window.top!==window.self?me():be(Ce,"In page link #"+Se+" not found")}function X(ve,ge){return W(Ce,ve,ge)}function Je(){switch(l[Ce]&&l[Ce].firstRun&&fn(),xt.type){case"close":l[Ce].closeRequestCallback?W(Ce,"closeRequestCallback",l[Ce].iframe):ae(xt.iframe);break;case"message":gt(Ne(6));break;case"scrollTo":w(!1);break;case"scrollToOffset":w(!0);break;case"pageInfo":Ct(l[Ce]&&l[Ce].iframe,Ce),C();break;case"pageInfoStop":ie();break;case"inPageLink":$(Ne(9));break;case"reset":Pe(xt);break;case"init":he(),X("initCallback",xt.iframe);break;default:he()}}function ct(ve){var ge=!0;return l[ve]||(ge=!1,Y(xt.type+" No settings for "+ve+". Message was: "+Ft)),ge}function zt(){for(var ve in l)Me("iFrame requested init",Ge(ve),document.getElementById(ve),ve)}function fn(){l[Ce]&&(l[Ce].firstRun=!1)}var Ft=T.data,xt={},Ce=null;Ft==="[iFrameResizerChild]Ready"?zt():fe()?(xt=m(),Ce=xt.id,l[Ce]&&(l[Ce].loaded=!0),!Ae()&&ct(Ce)&&(be(Ce,"Received: "+Ft),p()&&_e()&&Je())):q(Ce,"Ignored: "+Ft)}function W(T,he,m){var H=null,_e=null;if(l[T])if(H=l[T][he],typeof H=="function")_e=H(m);else throw new TypeError(he+" on iFrame["+T+"] is not a function");return _e}function ae(T){var he=T.id;be(he,"Removing iFrame: "+he),T.parentNode&&T.parentNode.removeChild(T),W(he,"closedCallback",he),be(he,"--"),delete l[he]}function de(T){D===null&&(D={x:window.pageXOffset!==j?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==j?window.pageYOffset:document.documentElement.scrollTop},be(T,"Get page position: "+D.x+","+D.y))}function ne(T){D!==null&&(window.scrollTo(D.x,D.y),be(T,"Set page position: "+D.x+","+D.y),re())}function re(){D=null}function Pe(T){function he(){Le(T),Me("reset","reset",T.iframe,T.id)}be(T.id,"Size reset requested by "+(T.type==="init"?"host page":"iFrame")),de(T.id),yt(he,T,"reset")}function Le(T){function he(fe){T.iframe.style[fe]=T[fe]+"px",be(T.id,"IFrame ("+_e+") "+fe+" set to "+T[fe]+"px")}function m(fe){!Q&&T[fe]==="0"&&(Q=!0,be(_e,"Hidden iFrame detected, creating visibility listener"),ft())}function H(fe){he(fe),m(fe)}var _e=T.iframe.id;l[_e]&&(l[_e].sizeHeight&&H("height"),l[_e].sizeWidth&&H("width"))}function yt(T,he,m){m!==he.type&&ee?(be(he.id,"Requesting animation frame"),ee(T)):T()}function Me(T,he,m,H,_e){function fe(){var Ct=l[H]&&l[H].targetOrigin;be(H,"["+T+"] Sending msg to iframe["+H+"] ("+he+") targetOrigin: "+Ct),m.contentWindow.postMessage(k+he,Ct)}function Ae(){Y(H,"["+T+"] IFrame("+H+") not found")}function Ne(){m&&"contentWindow"in m&&m.contentWindow!==null?fe():Ae()}function gt(){function Ct(){l[H]&&!l[H].loaded&&!Te&&(Te=!0,Y(H,"IFrame has not responded within "+l[H].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ingored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}_e&&l[H]&&l[H].warningTimeout&&(l[H].msgTimeout=setTimeout(Ct,l[H].warningTimeout))}var Te=!1;H=H||m.id,l[H]&&(Ne(),gt())}function Ge(T){return T+":"+l[T].bodyMarginV1+":"+l[T].sizeWidth+":"+l[T].log+":"+l[T].interval+":"+l[T].enablePublicMethods+":"+l[T].autoResize+":"+l[T].bodyMargin+":"+l[T].heightCalculationMethod+":"+l[T].bodyBackground+":"+l[T].bodyPadding+":"+l[T].tolerance+":"+l[T].inPageLinks+":"+l[T].resizeFrom+":"+l[T].widthCalculationMethod}function Ye(T,he){function m(){function L(X){l[w][X]!==1/0&&l[w][X]!==0&&(T.style[X]=l[w][X]+"px",be(w,"Set "+X+" = "+l[w][X]+"px"))}function $(X){if(l[w]["min"+X]>l[w]["max"+X])throw new Error("Value for min"+X+" can not be greater than max"+X)}$("Height"),$("Width"),L("maxHeight"),L("minHeight"),L("maxWidth"),L("minWidth")}function H(){var L=he&&he.id||c.id+ye++;return document.getElementById(L)!==null&&(L=L+ye++),L}function _e(L){return L===""&&(T.id=L=H(),le=(he||{}).log,be(L,"Added missing iframe ID: "+L+" ("+T.src+")")),L}function fe(){switch(be(w,"IFrame scrolling "+(l[w]&&l[w].scrolling?"enabled":"disabled")+" for "+w),T.style.overflow=(l[w]&&l[w].scrolling)===!1?"hidden":"auto",l[w]&&l[w].scrolling){case!0:T.scrolling="yes";break;case!1:T.scrolling="no";break;default:T.scrolling=l[w]?l[w].scrolling:"no"}}function Ae(){(typeof(l[w]&&l[w].bodyMargin)=="number"||(l[w]&&l[w].bodyMargin)==="0")&&(l[w].bodyMarginV1=l[w].bodyMargin,l[w].bodyMargin=""+l[w].bodyMargin+"px")}function Ne(){var L=l[w]&&l[w].firstRun,$=l[w]&&l[w].heightCalculationMethod in B;!L&&$&&Pe({iframe:T,height:0,width:0,type:"init"})}function gt(){Function.prototype.bind&&l[w]&&(l[w].iframe.iFrameResizer={close:ae.bind(null,l[w].iframe),resize:Me.bind(null,"Window resize","resize",l[w].iframe),moveToAnchor:function(L){Me("Move to anchor","moveToAnchor:"+L,l[w].iframe,w)},sendMessage:function(L){L=JSON.stringify(L),Me("Send Message","message:"+L,l[w].iframe,w)}})}function Te(L){function $(){Me("iFrame.onload",L,T,j,!0),Ne()}ue(T,"load",$),Me("init",L,T,j,!0)}function Ct(L){if(typeof L!="object")throw new TypeError("Options is not an object")}function C(L){for(var $ in c)c.hasOwnProperty($)&&(l[w][$]=L.hasOwnProperty($)?L[$]:c[$])}function ie(L){return L===""||L==="file://"?"*":L}function p(L){L=L||{},l[w]={firstRun:!0,iframe:T,remoteHost:T.src.split("/").slice(0,3).join("/")},Ct(L),C(L),l[w]&&(l[w].targetOrigin=l[w].checkOrigin===!0?ie(l[w].remoteHost):"*")}function F(){return w in l&&"iFrameResizer"in T}var w=_e(T.id);F()?Y(w,"Ignored iFrame, already setup."):(p(he),fe(),m(),Ae(),Te(Ge(w)),gt())}function He(T,he){K===null&&(K=setTimeout(function(){K=null,T()},he))}function ft(){function T(){function _e(Ae){function Ne(Te){return(l[Ae]&&l[Ae].iframe.style[Te])==="0px"}function gt(Te){return Te.offsetParent!==null}l[Ae]&&gt(l[Ae].iframe)&&(Ne("height")||Ne("width"))&&Me("Visibility change","resize",l[Ae].iframe,Ae)}for(var fe in l)_e(fe)}function he(_e){be("window","Mutation observed: "+_e[0].target+" "+_e[0].type),He(T,16)}function m(){var _e=document.querySelector("body"),fe={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},Ae=new H(he);Ae.observe(_e,fe)}var H=window.MutationObserver||window.WebKitMutationObserver;H&&m()}function lt(T){function he(){at("Window "+T,"resize")}be("window","Trigger event: "+T),He(he,16)}function wt(){function T(){at("Tab Visable","resize")}document.visibilityState!=="hidden"&&(be("document","Trigger event: Visiblity change"),He(T,16))}function at(T,he){function m(_e){return l[_e]&&l[_e].resizeFrom==="parent"&&l[_e].autoResize&&!l[_e].firstRun}for(var H in l)m(H)&&Me(T,he,document.getElementById(H),H)}function Ut(){ue(window,"message",I),ue(window,"resize",function(){lt("resize")}),ue(document,"visibilitychange",wt),ue(document,"-webkit-visibilitychange",wt),ue(window,"focusin",function(){lt("focus")}),ue(window,"focus",function(){lt("focus")})}function bt(){function T(H,_e){function fe(){if(_e.tagName){if(_e.tagName.toUpperCase()!=="IFRAME")throw new TypeError("Expected <IFRAME> tag, found <"+_e.tagName+">")}else throw new TypeError("Object is not a valid DOM element")}_e&&(fe(),Ye(_e,H),m.push(_e))}function he(H){H&&H.enablePublicMethods&&Y("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var m;return ce(),Ut(),function(_e,fe){switch(m=[],he(_e),typeof fe){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(fe||"iframe"),T.bind(j,_e));break;case"object":T(_e,fe);break;default:throw new TypeError("Unexpected data type ("+typeof fe+")")}return m}}function Wt(T){T.fn?T.fn.iFrameResize||(T.fn.iFrameResize=function(m){function H(_e,fe){Ye(fe,m)}return this.filter("iframe").each(H).end()}):q("","Unable to bind to jQuery, it is not fully loaded.")}window.jQuery&&Wt(window.jQuery),x=[],f=bt,N=typeof f=="function"?f.apply(_,x):f,N!==j&&(h.exports=N)})()},683:(h,_,f)=>{_.iframeResizer=f(28),_.iframeResizerContentWindow=f(402)},457:h=>{var _=function(){var f=Math.floor(Math.random()*1000001),x={};function N(M,P,k,z){function D(l){for(var K=0;K<l.length;K++)if(l[K].win===M)return!0;return!1}var ee=!1;if(P==="*"){for(var B in x)if(x.hasOwnProperty(B)&&B!=="*"&&typeof x[B][k]=="object"&&(ee=D(x[B][k]),ee))break}else x["*"]&&x["*"][k]&&(ee=D(x["*"][k])),!ee&&x[P]&&x[P][k]&&(ee=D(x[P][k]));if(ee)throw"A channel is already bound to the same window which overlaps with origin '"+P+"' and has scope '"+k+"'";typeof x[P]!="object"&&(x[P]={}),typeof x[P][k]!="object"&&(x[P][k]=[]),x[P][k].push({win:M,handler:z})}function j(M,P,k){for(var z=x[P][k],D=0;D<z.length;D++)z[D].win===M&&z.splice(D,1);x[P][k].length===0&&delete x[P][k]}function ye(M){return Array.isArray?Array.isArray(M):M.constructor.toString().indexOf("Array")!=-1}var le={},Q=function(M){try{var P=JSON.parse(M.data);if(typeof P!="object"||P===null)throw"malformed"}catch{return}var k=M.source,z=M.origin,D,ee,B;if(typeof P.method=="string"){var l=P.method.split("::");l.length==2?(D=l[0],B=l[1]):B=P.method}if(typeof P.id<"u"&&(ee=P.id),typeof B=="string"){var K=!1;if(x[z]&&x[z][D]){for(var c=0;c<x[z][D].length;c++)if(x[z][D][c].win===k){x[z][D][c].handler(z,B,P),K=!0;break}}if(!K&&x["*"]&&x["*"][D]){for(var c=0;c<x["*"][D].length;c++)if(x["*"][D][c].win===k){x["*"][D][c].handler(z,B,P);break}}}else typeof ee<"u"&&le[ee]&&le[ee](z,B,P)};return window.addEventListener?window.addEventListener("message",Q,!1):window.attachEvent&&window.attachEvent("onmessage",Q),{build:function(M){var P=function(q){if(M.debugOutput&&window.console&&window.console.log){try{typeof q!="string"&&(q=JSON.stringify(q))}catch{}console.log("["+D+"] "+q)}};if(!window.postMessage)throw"jschannel cannot run this browser, no postMessage";if(!window.JSON||!window.JSON.stringify||!window.JSON.parse)throw"jschannel cannot run this browser, no JSON parsing/serialization";if(typeof M!="object")throw"Channel build invoked without a proper object argument";if(!M.window||!M.window.postMessage)throw"Channel.build() called without a valid window argument";if(window===M.window)throw"target window is same as present window -- not allowed";var k=!1;if(typeof M.origin=="string"){var z;M.origin==="*"?k=!0:(z=M.origin.match(/^https?:\/\/(?:[-a-zA-Z0-9_\.])+(?::\d+)?/))!==null&&(M.origin=z[0].toLowerCase(),k=!0)}if(!k)throw"Channel.build() called with an invalid origin";if(typeof M.scope<"u"){if(typeof M.scope!="string")throw"scope, when specified, must be a string";if(M.scope.split("::").length>1)throw"scope may not contain double colons: '::'"}var D=function(){for(var q="",Y="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",A=0;A<5;A++)q+=Y.charAt(Math.floor(Math.random()*Y.length));return q}(),ee={},B={},l={},K=!1,c=[],ue=function(q,Y,A){var I=!1,W=!1;return{origin:Y,invoke:function(ae,de){if(!l[q])throw"attempting to invoke a callback of a nonexistent transaction: "+q;for(var ne=!1,re=0;re<A.length;re++)if(ae===A[re]){ne=!0;break}if(!ne)throw"request supports no such callback '"+ae+"'";De({id:q,callback:ae,params:de})},error:function(ae,de){if(W=!0,!l[q])throw"error called for nonexistent message: "+q;delete l[q],De({id:q,error:ae,message:de})},complete:function(ae){if(W=!0,!l[q])throw"complete called for nonexistent message: "+q;delete l[q],De({id:q,result:ae})},delayReturn:function(ae){return typeof ae=="boolean"&&(I=ae===!0),I},completed:function(){return W}}},pe=function(q,Y,A){return window.setTimeout(function(){if(B[q]){var I="timeout ("+Y+"ms) exceeded on method '"+A+"'";(0,B[q].error)("timeout_error",I),delete B[q],delete le[q]}},Y)},ce=function(q,Y,A){if(typeof M.gotMessageObserver=="function")try{M.gotMessageObserver(q,A)}catch(Ge){P("gotMessageObserver() raised an exception: "+Ge.toString())}if(A.id&&Y){if(ee[Y]){var I=ue(A.id,q,A.callbacks?A.callbacks:[]);l[A.id]={};try{if(A.callbacks&&ye(A.callbacks)&&A.callbacks.length>0)for(var W=0;W<A.callbacks.length;W++){for(var ae=A.callbacks[W],de=A.params,ne=ae.split("/"),re=0;re<ne.length-1;re++){var Pe=ne[re];typeof de[Pe]!="object"&&(de[Pe]={}),de=de[Pe]}de[ne[ne.length-1]]=function(){var Ge=ae;return function(Ye){return I.invoke(Ge,Ye)}}()}var Le=ee[Y](I,A.params);!I.delayReturn()&&!I.completed()&&I.complete(Le)}catch(Ge){var yt="runtime_error",Me=null;if(typeof Ge=="string"?Me=Ge:typeof Ge=="object"&&(Ge&&ye(Ge)&&Ge.length==2?(yt=Ge[0],Me=Ge[1]):typeof Ge.error=="string"&&(yt=Ge.error,Ge.message?typeof Ge.message=="string"?Me=Ge.message:Ge=Ge.message:Me="")),Me===null)try{Me=JSON.stringify(Ge),typeof Me>"u"&&(Me=Ge.toString())}catch{Me=Ge.toString()}I.error(yt,Me)}}}else A.id&&A.callback?!B[A.id]||!B[A.id].callbacks||!B[A.id].callbacks[A.callback]?P("ignoring invalid callback, id:"+A.id+" ("+A.callback+")"):B[A.id].callbacks[A.callback](A.params):A.id?B[A.id]?(A.error?(0,B[A.id].error)(A.error,A.message):A.result!==void 0?(0,B[A.id].success)(A.result):(0,B[A.id].success)(),delete B[A.id],delete le[A.id]):P("ignoring invalid response: "+A.id):Y&&ee[Y]&&ee[Y]({origin:q},A.params)};N(M.window,M.origin,typeof M.scope=="string"?M.scope:"",ce);var ze=function(q){return typeof M.scope=="string"&&M.scope.length&&(q=[M.scope,q].join("::")),q},De=function(q,Y){if(!q)throw"postMessage called with null message";var A=K?"post  ":"queue ";if(P(A+" message: "+JSON.stringify(q)),!Y&&!K)c.push(q);else{if(typeof M.postMessageObserver=="function")try{M.postMessageObserver(M.origin,q)}catch(I){P("postMessageObserver() raised an exception: "+I.toString())}M.window.postMessage(JSON.stringify(q),M.origin)}},ot=function(q,Y){if(P("ready msg received"),K)throw"received ready message while in ready state.  help!";for(Y==="ping"?D+="-R":D+="-L",be.unbind("__ready"),K=!0,P("ready msg accepted."),Y==="ping"&&be.notify({method:"__ready",params:"pong"});c.length;)De(c.pop());typeof M.onReady=="function"&&M.onReady(be)},be={unbind:function(q){if(ee[q]){if(!delete ee[q])throw"can't delete method: "+q;return!0}return!1},bind:function(q,Y){if(!q||typeof q!="string")throw"'method' argument to bind must be string";if(!Y||typeof Y!="function")throw"callback missing from bind params";if(ee[q])throw"method '"+q+"' is already bound!";return ee[q]=Y,this},call:function(q){if(!q)throw"missing arguments to call function";if(!q.method||typeof q.method!="string")throw"'method' argument to call must be string";if(!q.success||typeof q.success!="function")throw"'success' callback missing from call";var Y={},A=[],I=[],W=function(de,ne){if(I.indexOf(ne)>=0)throw"params cannot be a recursive data structure";if(I.push(ne),typeof ne=="object"){for(var re in ne)if(ne.hasOwnProperty(re)){var Pe=de+(de.length?"/":"")+re;typeof ne[re]=="function"?(Y[Pe]=ne[re],A.push(Pe),delete ne[re]):typeof ne[re]=="object"&&ne[re]!==null&&W(Pe,ne[re])}}};W("",q.params);var ae={id:f,method:ze(q.method),params:q.params};A.length&&(ae.callbacks=A),q.timeout&&pe(f,q.timeout,ze(q.method)),B[f]={callbacks:Y,error:q.error,success:q.success},le[f]=ce,f++,De(ae)},notify:function(q){if(!q)throw"missing arguments to notify function";if(!q.method||typeof q.method!="string")throw"'method' argument to notify must be string";De({method:ze(q.method),params:q.params})},destroy:function(){j(M.window,M.origin,typeof M.scope=="string"?M.scope:""),window.removeEventListener?window.removeEventListener("message",ce,!1):window.detachEvent&&window.detachEvent("onmessage",ce),K=!1,ee={},l={},B={},M.origin=null,c=[],P("channel destroyed"),D=""}};return be.bind("__ready",ot),setTimeout(function(){De({method:ze("__ready"),params:"ping"},!0)},0),be}}}();h.exports=_},218:h=>{function _(f){var x=typeof f;return f!=null&&(x=="object"||x=="function")}h.exports=_}},a={};function i(h){var _=a[h];if(_!==void 0)return _.exports;var f=a[h]={exports:{}};return y[h].call(f.exports,f,f.exports,i),f.exports}i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i(669)})();var ip=Wu.Addon;class op{constructor(){this.addon=new ip,this.addon.on("init",a=>{this.addon.options=a})}fetch_user(){try{return this.addon.api.getUser()}catch(a){throw a}}fetch_currencies(){try{return this.addon.request({method:"GET",endpoint:"currencies"})}catch(a){throw a}}fetch_institutions(){try{return this.addon.api.getInstitutions(this.get_options_query(this.addon.options))}catch(a){throw a}}fetch_positions(){try{return this.addon.api.getPositions(this.get_options_query(this.addon.options))}catch(a){throw a}}fetch_historical_data(a){try{return this.addon.request({method:"GET",endpoint:`securities/${a}/history`})}catch(i){throw i}}fetch_stock_prices(a,i){return fetch("https://data.wealthica.com/api/streams",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:a,symbols:i})}).then(f=>f.json()).catch(f=>{throw f})}get_options_query(a){return{from:a.dateRangeFilter&&a.dateRangeFilter[0],to:a.dateRangeFilter&&a.dateRangeFilter[1],groups:a.groupsFilter,institutions:a.institutionsFilter,investments:a.investmentsFilter==="all"?null:a.investmentsFilter}}}function ap(y){return null}function sp(y){y=Array.isArray(y)?y:[y],y.forEach(a=>{localStorage.removeItem(a)})}const ir=!1,Gi=[{name:"INVESTOR - CELI",account_number:"22981483",order:1,type:null,no_holdings:!1,exluded:!1},{name:"INVESTOR - RESP",account_number:"21921430",order:2,type:null,no_holdings:!1,exluded:!1},{name:"NESBITT - NON-ENRG",account_number:"31015145",order:3,type:null,no_holdings:!1,exluded:!0},{name:"NESBITT - BELSKI",account_number:"31107566",order:4,type:null,no_holdings:!1,exluded:ir},{name:"NESBITT - FONDS",account_number:"31107567",order:5,type:null,no_holdings:!1,exluded:ir},{name:"NESBITT - ACTIONS (REER)",account_number:"31107798",order:6,type:null,no_holdings:!1,exluded:ir},{name:"NESBITT - ACTIONS (CELI)",account_number:"78124230",order:7,type:null,no_holdings:!1,exluded:ir},{name:"CGI - ACTIONS (REER)",account_number:"197287703264",order:8,type:null,no_holdings:!0,exluded:ir},{name:"CGI - ACTIONS (NON-ENRG)",account_number:"197287499339",order:8,type:"NRG",no_holdings:!0,exluded:ir},{name:"FTQ - REER",account_number:"107935800-01R",order:9,type:"RRSP",no_holdings:!0,exluded:ir},{name:"BMO - INVEST",account_number:"XXXX6679",order:10,type:"CASH",no_holdings:!0,exluded:ir}];function zu(y,a){const i=Gi.find(h=>h.account_number===y);return i?i.type||a.toUpperCase():""}function Uu(y){var a=Gi.find(i=>i.account_number===y);return a?a.exluded:!0}function Bu(y){var a=Gi.find(i=>i.account_number===y);return a?a.order:999}function $u(y){var a=Gi.find(i=>i.account_number===y);return a?a.no_holdings:!1}const Hu={dev:!0,prod:!1,log_all:!0},up=[{id:"user",enabled:!1},{id:"currencies",enabled:!1},{id:"institutions",enabled:!1},{id:"positions",enabled:!1},{id:"accounts",enabled:!1},{id:"holdings",enabled:!1},{id:"totals",enabled:!1},{id:"currency",enabled:!1}];function lp(){return Nu()&&Hu.prod}function Eu(y,a,i){var h;lp()&&((h=up.find(_=>_.id===y))!=null&&h.enabled||Hu.log_all)&&(i?console.log(y,i,a):console.log(y,a))}const Gt={user:"user",currencies:"currencies",institutions:"institutions",positions:"positions",accounts:"accounts",holdings:"holdings",totals:"totals",x_usd:"x_usd"},yr={unknown:"unknown",memory:"memory",store:"store",fetched:"fetched",loading:"loading",refreshed:"refreshed"};class cp{constructor(){Jn(this,"user",null);Jn(this,"currencies",null);Jn(this,"institutions",null);Jn(this,"positions",null);Jn(this,"accounts",null);Jn(this,"holdings",null);Jn(this,"totals",null);Jn(this,"x_usd",null);this.wealthica=new op}async load(a){let i=yr.unknown;this[a]?this[a]instanceof Promise?(i=yr.loading,await this[a]):i=yr.memory:(this[a]=ap())?i=yr.store:(i=yr.fetched,this[a]=this.retrieve_data(a),this[a]=await this[a],this[a],void 0),i!=yr.loading&&Eu(a,this[a],i)}retrieve_data(a){switch(a){case"user":return this.wealthica.fetch_user();case"currencies":return this.wealthica.fetch_currencies();case"institutions":return this.wealthica.fetch_institutions();case"positions":return this.wealthica.fetch_positions();case"accounts":return this.retrieve_accounts_data();case"holdings":return this.retrieve_holdings_data();case"totals":return this.retrieve_totals();case"x_usd":return this.retrieve_x_usd_data();default:throw`No such data to fetch (${a})`}}clear_data(a){a=Array.isArray(a)?a:[a],a.forEach(i=>{this[i]=null,sp(i)})}async retrieve_accounts_data(){return await this.load(Gt.institutions),this.institutions.flatMap(i=>{const h=new Map;return i.investments.forEach(_=>{let f=this.get_account_number(_);if(!_.ignored&&!Uu(f)){let x=h.get(f)??{institution:{name:i.name,type:i.type},number:f,name:_.name,type:zu(f,_.type),order:Bu(f),no_holdings:$u(f),expanded:!1,subaccounts:[]};x.subaccounts.push({id:_._id,name:_.name,currency:_.currency,value:_.currency_value,no_holdings:x.no_holdings,expanded:!0}),h.set(f,x)}}),Array.from(h.values())}).sort((i,h)=>i.order-h.order)}get_account_number(a){return(a.account_number?a.account_number:a.id).toUpperCase()}async retrieve_totals(){let a={accounts:{},portfolio:{}};return await Promise.all([this.load(Gt.accounts),this.load(Gt.holdings)]),this.accounts.forEach(i=>{i.subaccounts.forEach(h=>{a.accounts[i.number]=a.accounts[i.number]||{},a.accounts[i.number][h.id]=this.calc_subaccount_totals(h)}),a.accounts[i.number]={...a.accounts[i.number]||{},...this.calc_account_totals(i,a)}}),this.calc_portfolio_totals(a),a}calc_portfolio_totals(a){a.portfolio={book_value_CAD:0,close_amount_CAD:0,gain_daily_amount_CAD:0,gain_daily_percent:0,gain_period_amount_CAD:0,gain_period_percent:0,gain_overall_amount_CAD:0,gain_overall_percent:0,market_value_USD:0,market_value_CAD:0,market_total_CAD:0,weight_portfolio:0},Object.keys(a.accounts).map(h=>{let _=a.accounts[h];a.portfolio.book_value_CAD+=_.book_value_CAD,a.portfolio.close_amount_CAD+=_.close_amount_CAD,a.portfolio.gain_daily_amount_CAD+=_.gain_daily_amount_CAD,a.portfolio.gain_period_amount_CAD+=_.gain_period_amount_CAD,a.portfolio.gain_overall_amount_CAD+=_.gain_overall_amount_CAD,a.portfolio.market_value_CAD+=_.market_value_CAD,a.portfolio.market_value_USD+=_.market_value_USD,a.portfolio.market_total_CAD+=_.market_total_CAD,a.portfolio.gain_daily_percent=a.portfolio.market_total_CAD/(a.portfolio.market_total_CAD-a.portfolio.gain_daily_amount_CAD)-1,a.portfolio.gain_period_percent=a.portfolio.market_total_CAD/(a.portfolio.market_total_CAD-a.portfolio.gain_period_amount_CAD)-1,a.portfolio.gain_overall_percent=a.portfolio.market_total_CAD/(a.portfolio.market_total_CAD-a.portfolio.gain_overall_amount_CAD)-1}),Object.keys(a.accounts).map(h=>{a.accounts[h].weight_portfolio=a.accounts[h].market_total_CAD/a.portfolio.market_total_CAD,a.portfolio.weight_portfolio+=a.accounts[h].weight_portfolio})}calc_account_totals(a,i){let h={book_value_CAD:0,close_amount_CAD:0,gain_daily_amount_CAD:0,gain_daily_percent:0,gain_period_amount_CAD:0,gain_period_percent:0,gain_overall_amount_CAD:0,gain_overall_percent:0,market_value_USD:0,market_value_CAD:0,market_total_CAD:0,weight_portfolio:0,weight_account:0};return a.subaccounts.forEach(_=>{const f=_.currency=="usd";let x=i.accounts[a.number][_.id];h.book_value_CAD+=f?this.cad(x.book_value):x.book_value,h.close_amount_CAD+=f?this.cad(x.close_amount):x.close_amount,h.gain_daily_amount_CAD+=f?this.cad(x.gain_daily_amount):x.gain_daily_amount,h.gain_period_amount_CAD+=f?this.cad(x.gain_period_amount):x.gain_period_amount,h.gain_overall_amount_CAD+=f?this.cad(x.gain_overall_amount):x.gain_overall_amount,h.market_value_CAD+=x.market_value_CAD,h.market_value_USD+=x.market_value_USD,h.market_total_CAD+=x.market_total_CAD,h.weight_account+=x.weight_account}),h.gain_daily_percent=h.market_total_CAD/(h.market_total_CAD-h.gain_daily_amount_CAD)-1,h.gain_period_percent=h.market_total_CAD/(h.market_total_CAD-h.gain_period_amount_CAD)-1,h.gain_overall_percent=h.market_total_CAD/(h.market_total_CAD-h.gain_overall_amount_CAD)-1,h}calc_subaccount_totals(a){let i={book_value:0,close_amount:0,gain_daily_amount:0,gain_daily_percent:0,gain_period_percent:0,gain_period_amount:0,gain_overall_amount:0,gain_overall_percent:0,market_value:0,market_value_CAD:0,market_value_USD:0,market_total_CAD:0,weight_account:0};if(!a.no_holdings)i=this.holdings.filter(h=>h.subaccount_id==a.id).reduce((h,_)=>(h.book_value+=_.values.book_value,h.close_amount+=_.values.close_amount,h.gain_daily_amount+=_.values.gain_daily_amount,h.gain_period_amount+=_.values.gain_period_amount,h.gain_overall_amount+=_.values.gain_overall_amount,h.market_value+=_.values.market_value,h.market_value_USD+=_.currency=="usd"?_.values.market_value:0,h.market_value_CAD+=_.currency!="usd"?_.values.market_value:0,h.market_total_CAD+=_.values.market_value_CAD,h.weight_account+=_.values.weight_account,h),i),i.gain_daily_percent=i.market_value/(i.market_value-i.gain_daily_amount)-1,i.gain_period_percent=i.market_value/(i.market_value-i.gain_period_amount)-1,i.gain_overall_percent=i.market_value/(i.market_value-i.gain_overall_amount)-1;else{const h=a.currency=="usd";i.market_value_CAD=h?0:a.value,i.market_value_USD=h?a.value:0,i.market_total_CAD=h?cad(a.value):a.value}return i}async retrieve_holdings_data(){await Promise.all([this.load(Gt.positions),this.load(Gt.x_usd)]);let a=[];return this.positions.forEach(i=>{i.investments.forEach(h=>{let _=this.create_holding(i,h);a.push(_)})}),await Promise.all(a.map(async i=>{i.history=await i.history})),await this.update_holdings_stock_prices(a),a}create_holding(a,i){return{account_number:i.investment.split(":")[0],subaccount_id:i.investment,market:i.currency.substring(0,2).toUpperCase(),symbol:a.security.symbol,symbol_mrkt:i.currency.substring(0,2).toUpperCase()+":"+a.security.symbol,name:a.security.name,currency:i.currency,xrate:i.currency==="usd"?1/this.x_usd.rate:1,quantity:i.quantity,cash:a.security.symbol=="REALCASH",history:this.wealthica.fetch_historical_data(a.security._id),values:{book_price:i.book_value/i.quantity,book_value:i.book_value,close_date:null,close_price:0,close_amount:0,daily_change:0,daily_date:null,gain_daily_amount:0,gain_daily_percent:0,gain_period_amount:0,gain_period_percent:0,gain_overall_amount:i.quantity*a.security.last_price-i.book_value,gain_overall_percent:(i.quantity*a.security.last_price-i.book_value)/i.book_value,market_date:a.security.last_date,market_price:a.security.last_price,market_value:i.quantity*a.security.last_price,market_price_CAD:a.security.last_price*(i.currency==="usd"?1/this.x_usd.rate:1),market_value_CAD:i.quantity*a.security.last_price*(i.currency==="usd"?1/this.x_usd.rate:1)}}}initialized_holdings_totals(){return{book_value:0,close_amount:0,gain_daily_amount:0,gain_daily_percent:0,gain_period_percent:0,gain_period_amount:0,gain_overall_amount:0,gain_overall_percent:0,market_value:0,market_value_CAD:0,market_value_USD:0,weight_account:0}}async update_holdings_stock_prices(a){await this.load(Gt.user);let i=a.map(_=>_.symbol_mrkt);(await this.wealthica.fetch_stock_prices(this.user.email,i)).securities.forEach(_=>{let f=`${_.market}:${_.symbol.split(":")[1]}`;a.filter(x=>x.symbol_mrkt===f).forEach(x=>{x.values.close_price=_.price-_.change,x.values.close_amount=x.quantity*(_.price-_.change),x.values.daily_change=_.change,x.values.daily_date=_.update_date,x.values.gain_daily_amount=x.quantity*_.change,x.values.gain_daily_percent=(_.price-_.change)/(_.price-_.change-_.change)-1,x.values.gain_period_amount=0,x.values.gain_period_percent=0,x.values.gain_overall_amount=x.quantity*_.price-x.values.book_value,x.values.gain_overall_percent=(x.quantity*_.price-x.values.book_value)/x.values.book_value,x.values.market_price=_.price,x.values.market_value=x.quantity*_.price,x.values.market_date=_.quote_date,x.values.market_price_CAD=_.price*(x.currency==="usd"?1/this.x_usd.rate:1),x.values.market_value_CAD=x.quantity*_.price*(x.currency==="usd"?1/this.x_usd.rate:1)})}),this.calc_holdings_weigth(a)}calc_holdings_weigth(a){[...new Set(a.map(h=>h.account_number))].forEach(h=>{let _=a.filter(x=>x.account_number===h),f=_.reduce((x,N)=>x+N.values.market_value_CAD,0);_.forEach(x=>{x.values.weight_account=x.values.market_value_CAD/f})})}async refresh_holdings_stock_prices(){await this.update_holdings_stock_prices(this.holdings),Gt.holdings,this.holdings,Eu(Gt.holdings,this.holdings,yr.refreshed)}async retrieve_x_usd_data(){await this.load(Gt.currencies);let a=this.currencies.find(i=>i._id==="usd");return a?{id:a._id,rate:a.exchange_rate,date:a.update_date}:null}cad(a){return a/this.x_usd.rate}usd(a){return a*this.x_usd.rate}}const sr=(y,a)=>{const i=y.__vccOpts||y;for(const[h,_]of a)i[h]=_;return i},fp={name:"tab_dashboard"},dp={class:"tab-container"},hp=O("div",{class:"tab-logo-container"},[O("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-dashboard-icon.png",alt:"Under Construction",class:"tab-logo-centered"})],-1),_p=[hp];function gp(y,a,i,h,_,f){return $e(),Ve("div",dp,_p)}const Tu=sr(fp,[["render",gp]]),pp={props:{group_name:{type:String,default:""}}},vp={colspan:"2"},mp={class:"centered"},yp={class:"group-name"};function wp(y,a,i,h,_,f){return $e(),Ve("th",vp,[O("div",mp,[O("div",yp,Kn(i.group_name),1)])])}const Xt=sr(pp,[["render",wp]]);var $i={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */$i.exports;(function(y,a){(function(){var i,h="4.17.21",_=200,f="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",x="Expected a function",N="Invalid `variable` option passed into `_.template`",j="__lodash_hash_undefined__",ye=500,le="__lodash_placeholder__",Q=1,M=2,P=4,k=1,z=2,D=1,ee=2,B=4,l=8,K=16,c=32,ue=64,pe=128,ce=256,ze=512,De=30,ot="...",be=800,q=16,Y=1,A=2,I=3,W=1/0,ae=9007199254740991,de=17976931348623157e292,ne=NaN,re=4294967295,Pe=re-1,Le=re>>>1,yt=[["ary",pe],["bind",D],["bindKey",ee],["curry",l],["curryRight",K],["flip",ze],["partial",c],["partialRight",ue],["rearg",ce]],Me="[object Arguments]",Ge="[object Array]",Ye="[object AsyncFunction]",He="[object Boolean]",ft="[object Date]",lt="[object DOMException]",wt="[object Error]",at="[object Function]",Ut="[object GeneratorFunction]",bt="[object Map]",Wt="[object Number]",T="[object Null]",he="[object Object]",m="[object Promise]",H="[object Proxy]",_e="[object RegExp]",fe="[object Set]",Ae="[object String]",Ne="[object Symbol]",gt="[object Undefined]",Te="[object WeakMap]",Ct="[object WeakSet]",C="[object ArrayBuffer]",ie="[object DataView]",p="[object Float32Array]",F="[object Float64Array]",w="[object Int8Array]",L="[object Int16Array]",$="[object Int32Array]",X="[object Uint8Array]",Je="[object Uint8ClampedArray]",ct="[object Uint16Array]",zt="[object Uint32Array]",fn=/\b__p \+= '';/g,Ft=/\b(__p \+=) '' \+/g,xt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ce=/&(?:amp|lt|gt|quot|#39);/g,ve=/[&<>"']/g,ge=RegExp(Ce.source),me=RegExp(ve.source),Se=/<%-([\s\S]+?)%>/g,Ze=/<%([\s\S]+?)%>/g,qe=/<%=([\s\S]+?)%>/g,rt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vt=/^\w*$/,Pt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vt=/[\\^$.*+?()[\]{}|]/g,Sn=RegExp(Vt.source),Vn=/^\s+/,mn=/\s/,ur=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Zt=/\{\n\/\* \[wrapped with (.+)\] \*/,lr=/,? & /,an=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,R=/[()=,{}\[\]\/\s]/,V=/\\(\\)?/g,g=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,S=/\w*$/,oe=/^[-+]0x[0-9a-f]+$/i,xe=/^0b[01]+$/i,Ie=/^\[object .+?Constructor\]$/,je=/^0o[0-7]+$/i,Qe=/^(?:0|[1-9]\d*)$/,et=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Re=/($^)/,Fe=/['\n\r\u2028\u2029\\]/g,Xe="\\ud800-\\udfff",Ke="\\u0300-\\u036f",Dt="\\ufe20-\\ufe2f",Qt="\\u20d0-\\u20ff",Ln=Ke+Dt+Qt,ei="\\u2700-\\u27bf",ra="a-z\\xdf-\\xf6\\xf8-\\xff",Ju="\\xac\\xb1\\xd7\\xf7",Ku="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Vu="\\u2000-\\u206f",Yu=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ia="A-Z\\xc0-\\xd6\\xd8-\\xde",oa="\\ufe0e\\ufe0f",aa=Ju+Ku+Vu+Yu,Ji="['’]",ju="["+Xe+"]",sa="["+aa+"]",ti="["+Ln+"]",ua="\\d+",Xu="["+ei+"]",la="["+ra+"]",ca="[^"+Xe+aa+ua+ei+ra+ia+"]",Ki="\\ud83c[\\udffb-\\udfff]",Zu="(?:"+ti+"|"+Ki+")",fa="[^"+Xe+"]",Vi="(?:\\ud83c[\\udde6-\\uddff]){2}",Yi="[\\ud800-\\udbff][\\udc00-\\udfff]",xr="["+ia+"]",da="\\u200d",ha="(?:"+la+"|"+ca+")",Qu="(?:"+xr+"|"+ca+")",_a="(?:"+Ji+"(?:d|ll|m|re|s|t|ve))?",ga="(?:"+Ji+"(?:D|LL|M|RE|S|T|VE))?",pa=Zu+"?",va="["+oa+"]?",el="(?:"+da+"(?:"+[fa,Vi,Yi].join("|")+")"+va+pa+")*",tl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",nl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ma=va+pa+el,rl="(?:"+[Xu,Vi,Yi].join("|")+")"+ma,il="(?:"+[fa+ti+"?",ti,Vi,Yi,ju].join("|")+")",ol=RegExp(Ji,"g"),al=RegExp(ti,"g"),ji=RegExp(Ki+"(?="+Ki+")|"+il+ma,"g"),sl=RegExp([xr+"?"+la+"+"+_a+"(?="+[sa,xr,"$"].join("|")+")",Qu+"+"+ga+"(?="+[sa,xr+ha,"$"].join("|")+")",xr+"?"+ha+"+"+_a,xr+"+"+ga,nl,tl,ua,rl].join("|"),"g"),ul=RegExp("["+da+Xe+Ln+oa+"]"),ll=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,cl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],fl=-1,St={};St[p]=St[F]=St[w]=St[L]=St[$]=St[X]=St[Je]=St[ct]=St[zt]=!0,St[Me]=St[Ge]=St[C]=St[He]=St[ie]=St[ft]=St[wt]=St[at]=St[bt]=St[Wt]=St[he]=St[_e]=St[fe]=St[Ae]=St[Te]=!1;var Tt={};Tt[Me]=Tt[Ge]=Tt[C]=Tt[ie]=Tt[He]=Tt[ft]=Tt[p]=Tt[F]=Tt[w]=Tt[L]=Tt[$]=Tt[bt]=Tt[Wt]=Tt[he]=Tt[_e]=Tt[fe]=Tt[Ae]=Tt[Ne]=Tt[X]=Tt[Je]=Tt[ct]=Tt[zt]=!0,Tt[wt]=Tt[at]=Tt[Te]=!1;var dl={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},hl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_l={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},gl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},pl=parseFloat,vl=parseInt,ya=typeof Qr=="object"&&Qr&&Qr.Object===Object&&Qr,ml=typeof self=="object"&&self&&self.Object===Object&&self,Jt=ya||ml||Function("return this")(),Xi=a&&!a.nodeType&&a,cr=Xi&&!0&&y&&!y.nodeType&&y,wa=cr&&cr.exports===Xi,Zi=wa&&ya.process,yn=function(){try{var b=cr&&cr.require&&cr.require("util").types;return b||Zi&&Zi.binding&&Zi.binding("util")}catch{}}(),ba=yn&&yn.isArrayBuffer,xa=yn&&yn.isDate,Aa=yn&&yn.isMap,ka=yn&&yn.isRegExp,Ca=yn&&yn.isSet,Ea=yn&&yn.isTypedArray;function dn(b,G,U){switch(U.length){case 0:return b.call(G);case 1:return b.call(G,U[0]);case 2:return b.call(G,U[0],U[1]);case 3:return b.call(G,U[0],U[1],U[2])}return b.apply(G,U)}function yl(b,G,U,ke){for(var tt=-1,mt=b==null?0:b.length;++tt<mt;){var Bt=b[tt];G(ke,Bt,U(Bt),b)}return ke}function wn(b,G){for(var U=-1,ke=b==null?0:b.length;++U<ke&&G(b[U],U,b)!==!1;);return b}function wl(b,G){for(var U=b==null?0:b.length;U--&&G(b[U],U,b)!==!1;);return b}function Ta(b,G){for(var U=-1,ke=b==null?0:b.length;++U<ke;)if(!G(b[U],U,b))return!1;return!0}function Yn(b,G){for(var U=-1,ke=b==null?0:b.length,tt=0,mt=[];++U<ke;){var Bt=b[U];G(Bt,U,b)&&(mt[tt++]=Bt)}return mt}function ni(b,G){var U=b==null?0:b.length;return!!U&&Ar(b,G,0)>-1}function Qi(b,G,U){for(var ke=-1,tt=b==null?0:b.length;++ke<tt;)if(U(G,b[ke]))return!0;return!1}function Mt(b,G){for(var U=-1,ke=b==null?0:b.length,tt=Array(ke);++U<ke;)tt[U]=G(b[U],U,b);return tt}function jn(b,G){for(var U=-1,ke=G.length,tt=b.length;++U<ke;)b[tt+U]=G[U];return b}function eo(b,G,U,ke){var tt=-1,mt=b==null?0:b.length;for(ke&&mt&&(U=b[++tt]);++tt<mt;)U=G(U,b[tt],tt,b);return U}function bl(b,G,U,ke){var tt=b==null?0:b.length;for(ke&&tt&&(U=b[--tt]);tt--;)U=G(U,b[tt],tt,b);return U}function to(b,G){for(var U=-1,ke=b==null?0:b.length;++U<ke;)if(G(b[U],U,b))return!0;return!1}var xl=no("length");function Al(b){return b.split("")}function kl(b){return b.match(an)||[]}function Sa(b,G,U){var ke;return U(b,function(tt,mt,Bt){if(G(tt,mt,Bt))return ke=mt,!1}),ke}function ri(b,G,U,ke){for(var tt=b.length,mt=U+(ke?1:-1);ke?mt--:++mt<tt;)if(G(b[mt],mt,b))return mt;return-1}function Ar(b,G,U){return G===G?Ll(b,G,U):ri(b,Oa,U)}function Cl(b,G,U,ke){for(var tt=U-1,mt=b.length;++tt<mt;)if(ke(b[tt],G))return tt;return-1}function Oa(b){return b!==b}function Ma(b,G){var U=b==null?0:b.length;return U?io(b,G)/U:ne}function no(b){return function(G){return G==null?i:G[b]}}function ro(b){return function(G){return b==null?i:b[G]}}function Ia(b,G,U,ke,tt){return tt(b,function(mt,Bt,Et){U=ke?(ke=!1,mt):G(U,mt,Bt,Et)}),U}function El(b,G){var U=b.length;for(b.sort(G);U--;)b[U]=b[U].value;return b}function io(b,G){for(var U,ke=-1,tt=b.length;++ke<tt;){var mt=G(b[ke]);mt!==i&&(U=U===i?mt:U+mt)}return U}function oo(b,G){for(var U=-1,ke=Array(b);++U<b;)ke[U]=G(U);return ke}function Tl(b,G){return Mt(G,function(U){return[U,b[U]]})}function Fa(b){return b&&b.slice(0,La(b)+1).replace(Vn,"")}function hn(b){return function(G){return b(G)}}function ao(b,G){return Mt(G,function(U){return b[U]})}function Wr(b,G){return b.has(G)}function Pa(b,G){for(var U=-1,ke=b.length;++U<ke&&Ar(G,b[U],0)>-1;);return U}function Ra(b,G){for(var U=b.length;U--&&Ar(G,b[U],0)>-1;);return U}function Sl(b,G){for(var U=b.length,ke=0;U--;)b[U]===G&&++ke;return ke}var Ol=ro(dl),Ml=ro(hl);function Il(b){return"\\"+gl[b]}function Fl(b,G){return b==null?i:b[G]}function kr(b){return ul.test(b)}function Pl(b){return ll.test(b)}function Rl(b){for(var G,U=[];!(G=b.next()).done;)U.push(G.value);return U}function so(b){var G=-1,U=Array(b.size);return b.forEach(function(ke,tt){U[++G]=[tt,ke]}),U}function Da(b,G){return function(U){return b(G(U))}}function Xn(b,G){for(var U=-1,ke=b.length,tt=0,mt=[];++U<ke;){var Bt=b[U];(Bt===G||Bt===le)&&(b[U]=le,mt[tt++]=U)}return mt}function ii(b){var G=-1,U=Array(b.size);return b.forEach(function(ke){U[++G]=ke}),U}function Dl(b){var G=-1,U=Array(b.size);return b.forEach(function(ke){U[++G]=[ke,ke]}),U}function Ll(b,G,U){for(var ke=U-1,tt=b.length;++ke<tt;)if(b[ke]===G)return ke;return-1}function Nl(b,G,U){for(var ke=U+1;ke--;)if(b[ke]===G)return ke;return ke}function Cr(b){return kr(b)?zl(b):xl(b)}function On(b){return kr(b)?Ul(b):Al(b)}function La(b){for(var G=b.length;G--&&mn.test(b.charAt(G)););return G}var Wl=ro(_l);function zl(b){for(var G=ji.lastIndex=0;ji.test(b);)++G;return G}function Ul(b){return b.match(ji)||[]}function Bl(b){return b.match(sl)||[]}var $l=function b(G){G=G==null?Jt:Er.defaults(Jt.Object(),G,Er.pick(Jt,cl));var U=G.Array,ke=G.Date,tt=G.Error,mt=G.Function,Bt=G.Math,Et=G.Object,uo=G.RegExp,Hl=G.String,bn=G.TypeError,oi=U.prototype,ql=mt.prototype,Tr=Et.prototype,ai=G["__core-js_shared__"],si=ql.toString,kt=Tr.hasOwnProperty,Gl=0,Na=function(){var e=/[^.]+$/.exec(ai&&ai.keys&&ai.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ui=Tr.toString,Jl=si.call(Et),Kl=Jt._,Vl=uo("^"+si.call(kt).replace(Vt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),li=wa?G.Buffer:i,Zn=G.Symbol,ci=G.Uint8Array,Wa=li?li.allocUnsafe:i,fi=Da(Et.getPrototypeOf,Et),za=Et.create,Ua=Tr.propertyIsEnumerable,di=oi.splice,Ba=Zn?Zn.isConcatSpreadable:i,zr=Zn?Zn.iterator:i,fr=Zn?Zn.toStringTag:i,hi=function(){try{var e=pr(Et,"defineProperty");return e({},"",{}),e}catch{}}(),Yl=G.clearTimeout!==Jt.clearTimeout&&G.clearTimeout,jl=ke&&ke.now!==Jt.Date.now&&ke.now,Xl=G.setTimeout!==Jt.setTimeout&&G.setTimeout,_i=Bt.ceil,gi=Bt.floor,lo=Et.getOwnPropertySymbols,Zl=li?li.isBuffer:i,$a=G.isFinite,Ql=oi.join,ec=Da(Et.keys,Et),$t=Bt.max,Yt=Bt.min,tc=ke.now,nc=G.parseInt,Ha=Bt.random,rc=oi.reverse,co=pr(G,"DataView"),Ur=pr(G,"Map"),fo=pr(G,"Promise"),Sr=pr(G,"Set"),Br=pr(G,"WeakMap"),$r=pr(Et,"create"),pi=Br&&new Br,Or={},ic=vr(co),oc=vr(Ur),ac=vr(fo),sc=vr(Sr),uc=vr(Br),vi=Zn?Zn.prototype:i,Hr=vi?vi.valueOf:i,qa=vi?vi.toString:i;function s(e){if(Rt(e)&&!nt(e)&&!(e instanceof ht)){if(e instanceof xn)return e;if(kt.call(e,"__wrapped__"))return Gs(e)}return new xn(e)}var Mr=function(){function e(){}return function(t){if(!It(t))return{};if(za)return za(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function mi(){}function xn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}s.templateSettings={escape:Se,evaluate:Ze,interpolate:qe,variable:"",imports:{_:s}},s.prototype=mi.prototype,s.prototype.constructor=s,xn.prototype=Mr(mi.prototype),xn.prototype.constructor=xn;function ht(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=re,this.__views__=[]}function lc(){var e=new ht(this.__wrapped__);return e.__actions__=sn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=sn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=sn(this.__views__),e}function cc(){if(this.__filtered__){var e=new ht(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function fc(){var e=this.__wrapped__.value(),t=this.__dir__,n=nt(e),r=t<0,o=n?e.length:0,u=kf(0,o,this.__views__),d=u.start,v=u.end,E=v-d,Z=r?v:d-1,te=this.__iteratees__,se=te.length,we=0,Oe=Yt(E,this.__takeCount__);if(!n||!r&&o==E&&Oe==E)return _s(e,this.__actions__);var Ue=[];e:for(;E--&&we<Oe;){Z+=t;for(var st=-1,Be=e[Z];++st<se;){var dt=te[st],_t=dt.iteratee,pn=dt.type,nn=_t(Be);if(pn==A)Be=nn;else if(!nn){if(pn==Y)continue e;break e}}Ue[we++]=Be}return Ue}ht.prototype=Mr(mi.prototype),ht.prototype.constructor=ht;function dr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function dc(){this.__data__=$r?$r(null):{},this.size=0}function hc(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function _c(e){var t=this.__data__;if($r){var n=t[e];return n===j?i:n}return kt.call(t,e)?t[e]:i}function gc(e){var t=this.__data__;return $r?t[e]!==i:kt.call(t,e)}function pc(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=$r&&t===i?j:t,this}dr.prototype.clear=dc,dr.prototype.delete=hc,dr.prototype.get=_c,dr.prototype.has=gc,dr.prototype.set=pc;function Nn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function vc(){this.__data__=[],this.size=0}function mc(e){var t=this.__data__,n=yi(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():di.call(t,n,1),--this.size,!0}function yc(e){var t=this.__data__,n=yi(t,e);return n<0?i:t[n][1]}function wc(e){return yi(this.__data__,e)>-1}function bc(e,t){var n=this.__data__,r=yi(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}Nn.prototype.clear=vc,Nn.prototype.delete=mc,Nn.prototype.get=yc,Nn.prototype.has=wc,Nn.prototype.set=bc;function Wn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function xc(){this.size=0,this.__data__={hash:new dr,map:new(Ur||Nn),string:new dr}}function Ac(e){var t=Ii(this,e).delete(e);return this.size-=t?1:0,t}function kc(e){return Ii(this,e).get(e)}function Cc(e){return Ii(this,e).has(e)}function Ec(e,t){var n=Ii(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}Wn.prototype.clear=xc,Wn.prototype.delete=Ac,Wn.prototype.get=kc,Wn.prototype.has=Cc,Wn.prototype.set=Ec;function hr(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Wn;++t<n;)this.add(e[t])}function Tc(e){return this.__data__.set(e,j),this}function Sc(e){return this.__data__.has(e)}hr.prototype.add=hr.prototype.push=Tc,hr.prototype.has=Sc;function Mn(e){var t=this.__data__=new Nn(e);this.size=t.size}function Oc(){this.__data__=new Nn,this.size=0}function Mc(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Ic(e){return this.__data__.get(e)}function Fc(e){return this.__data__.has(e)}function Pc(e,t){var n=this.__data__;if(n instanceof Nn){var r=n.__data__;if(!Ur||r.length<_-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Wn(r)}return n.set(e,t),this.size=n.size,this}Mn.prototype.clear=Oc,Mn.prototype.delete=Mc,Mn.prototype.get=Ic,Mn.prototype.has=Fc,Mn.prototype.set=Pc;function Ga(e,t){var n=nt(e),r=!n&&mr(e),o=!n&&!r&&rr(e),u=!n&&!r&&!o&&Rr(e),d=n||r||o||u,v=d?oo(e.length,Hl):[],E=v.length;for(var Z in e)(t||kt.call(e,Z))&&!(d&&(Z=="length"||o&&(Z=="offset"||Z=="parent")||u&&(Z=="buffer"||Z=="byteLength"||Z=="byteOffset")||$n(Z,E)))&&v.push(Z);return v}function Ja(e){var t=e.length;return t?e[Ao(0,t-1)]:i}function Rc(e,t){return Fi(sn(e),_r(t,0,e.length))}function Dc(e){return Fi(sn(e))}function ho(e,t,n){(n!==i&&!In(e[t],n)||n===i&&!(t in e))&&zn(e,t,n)}function qr(e,t,n){var r=e[t];(!(kt.call(e,t)&&In(r,n))||n===i&&!(t in e))&&zn(e,t,n)}function yi(e,t){for(var n=e.length;n--;)if(In(e[n][0],t))return n;return-1}function Lc(e,t,n,r){return Qn(e,function(o,u,d){t(r,o,n(o),d)}),r}function Ka(e,t){return e&&Rn(t,qt(t),e)}function Nc(e,t){return e&&Rn(t,ln(t),e)}function zn(e,t,n){t=="__proto__"&&hi?hi(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function _o(e,t){for(var n=-1,r=t.length,o=U(r),u=e==null;++n<r;)o[n]=u?i:Vo(e,t[n]);return o}function _r(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function An(e,t,n,r,o,u){var d,v=t&Q,E=t&M,Z=t&P;if(n&&(d=o?n(e,r,o,u):n(e)),d!==i)return d;if(!It(e))return e;var te=nt(e);if(te){if(d=Ef(e),!v)return sn(e,d)}else{var se=jt(e),we=se==at||se==Ut;if(rr(e))return vs(e,v);if(se==he||se==Me||we&&!o){if(d=E||we?{}:Ls(e),!v)return E?gf(e,Nc(d,e)):_f(e,Ka(d,e))}else{if(!Tt[se])return o?e:{};d=Tf(e,se,v)}}u||(u=new Mn);var Oe=u.get(e);if(Oe)return Oe;u.set(e,d),fu(e)?e.forEach(function(Be){d.add(An(Be,t,n,Be,e,u))}):lu(e)&&e.forEach(function(Be,dt){d.set(dt,An(Be,t,n,dt,e,u))});var Ue=Z?E?Ro:Po:E?ln:qt,st=te?i:Ue(e);return wn(st||e,function(Be,dt){st&&(dt=Be,Be=e[dt]),qr(d,dt,An(Be,t,n,dt,e,u))}),d}function Wc(e){var t=qt(e);return function(n){return Va(n,e,t)}}function Va(e,t,n){var r=n.length;if(e==null)return!r;for(e=Et(e);r--;){var o=n[r],u=t[o],d=e[o];if(d===i&&!(o in e)||!u(d))return!1}return!0}function Ya(e,t,n){if(typeof e!="function")throw new bn(x);return Xr(function(){e.apply(i,n)},t)}function Gr(e,t,n,r){var o=-1,u=ni,d=!0,v=e.length,E=[],Z=t.length;if(!v)return E;n&&(t=Mt(t,hn(n))),r?(u=Qi,d=!1):t.length>=_&&(u=Wr,d=!1,t=new hr(t));e:for(;++o<v;){var te=e[o],se=n==null?te:n(te);if(te=r||te!==0?te:0,d&&se===se){for(var we=Z;we--;)if(t[we]===se)continue e;E.push(te)}else u(t,se,r)||E.push(te)}return E}var Qn=xs(Pn),ja=xs(po,!0);function zc(e,t){var n=!0;return Qn(e,function(r,o,u){return n=!!t(r,o,u),n}),n}function wi(e,t,n){for(var r=-1,o=e.length;++r<o;){var u=e[r],d=t(u);if(d!=null&&(v===i?d===d&&!gn(d):n(d,v)))var v=d,E=u}return E}function Uc(e,t,n,r){var o=e.length;for(n=it(n),n<0&&(n=-n>o?0:o+n),r=r===i||r>o?o:it(r),r<0&&(r+=o),r=n>r?0:hu(r);n<r;)e[n++]=t;return e}function Xa(e,t){var n=[];return Qn(e,function(r,o,u){t(r,o,u)&&n.push(r)}),n}function Kt(e,t,n,r,o){var u=-1,d=e.length;for(n||(n=Of),o||(o=[]);++u<d;){var v=e[u];t>0&&n(v)?t>1?Kt(v,t-1,n,r,o):jn(o,v):r||(o[o.length]=v)}return o}var go=As(),Za=As(!0);function Pn(e,t){return e&&go(e,t,qt)}function po(e,t){return e&&Za(e,t,qt)}function bi(e,t){return Yn(t,function(n){return Hn(e[n])})}function gr(e,t){t=tr(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Dn(t[n++])];return n&&n==r?e:i}function Qa(e,t,n){var r=t(e);return nt(e)?r:jn(r,n(e))}function en(e){return e==null?e===i?gt:T:fr&&fr in Et(e)?Af(e):Lf(e)}function vo(e,t){return e>t}function Bc(e,t){return e!=null&&kt.call(e,t)}function $c(e,t){return e!=null&&t in Et(e)}function Hc(e,t,n){return e>=Yt(t,n)&&e<$t(t,n)}function mo(e,t,n){for(var r=n?Qi:ni,o=e[0].length,u=e.length,d=u,v=U(u),E=1/0,Z=[];d--;){var te=e[d];d&&t&&(te=Mt(te,hn(t))),E=Yt(te.length,E),v[d]=!n&&(t||o>=120&&te.length>=120)?new hr(d&&te):i}te=e[0];var se=-1,we=v[0];e:for(;++se<o&&Z.length<E;){var Oe=te[se],Ue=t?t(Oe):Oe;if(Oe=n||Oe!==0?Oe:0,!(we?Wr(we,Ue):r(Z,Ue,n))){for(d=u;--d;){var st=v[d];if(!(st?Wr(st,Ue):r(e[d],Ue,n)))continue e}we&&we.push(Ue),Z.push(Oe)}}return Z}function qc(e,t,n,r){return Pn(e,function(o,u,d){t(r,n(o),u,d)}),r}function Jr(e,t,n){t=tr(t,e),e=Us(e,t);var r=e==null?e:e[Dn(Cn(t))];return r==null?i:dn(r,e,n)}function es(e){return Rt(e)&&en(e)==Me}function Gc(e){return Rt(e)&&en(e)==C}function Jc(e){return Rt(e)&&en(e)==ft}function Kr(e,t,n,r,o){return e===t?!0:e==null||t==null||!Rt(e)&&!Rt(t)?e!==e&&t!==t:Kc(e,t,n,r,Kr,o)}function Kc(e,t,n,r,o,u){var d=nt(e),v=nt(t),E=d?Ge:jt(e),Z=v?Ge:jt(t);E=E==Me?he:E,Z=Z==Me?he:Z;var te=E==he,se=Z==he,we=E==Z;if(we&&rr(e)){if(!rr(t))return!1;d=!0,te=!1}if(we&&!te)return u||(u=new Mn),d||Rr(e)?Ps(e,t,n,r,o,u):bf(e,t,E,n,r,o,u);if(!(n&k)){var Oe=te&&kt.call(e,"__wrapped__"),Ue=se&&kt.call(t,"__wrapped__");if(Oe||Ue){var st=Oe?e.value():e,Be=Ue?t.value():t;return u||(u=new Mn),o(st,Be,n,r,u)}}return we?(u||(u=new Mn),xf(e,t,n,r,o,u)):!1}function Vc(e){return Rt(e)&&jt(e)==bt}function yo(e,t,n,r){var o=n.length,u=o,d=!r;if(e==null)return!u;for(e=Et(e);o--;){var v=n[o];if(d&&v[2]?v[1]!==e[v[0]]:!(v[0]in e))return!1}for(;++o<u;){v=n[o];var E=v[0],Z=e[E],te=v[1];if(d&&v[2]){if(Z===i&&!(E in e))return!1}else{var se=new Mn;if(r)var we=r(Z,te,E,e,t,se);if(!(we===i?Kr(te,Z,k|z,r,se):we))return!1}}return!0}function ts(e){if(!It(e)||If(e))return!1;var t=Hn(e)?Vl:Ie;return t.test(vr(e))}function Yc(e){return Rt(e)&&en(e)==_e}function jc(e){return Rt(e)&&jt(e)==fe}function Xc(e){return Rt(e)&&Wi(e.length)&&!!St[en(e)]}function ns(e){return typeof e=="function"?e:e==null?cn:typeof e=="object"?nt(e)?os(e[0],e[1]):is(e):ku(e)}function wo(e){if(!jr(e))return ec(e);var t=[];for(var n in Et(e))kt.call(e,n)&&n!="constructor"&&t.push(n);return t}function Zc(e){if(!It(e))return Df(e);var t=jr(e),n=[];for(var r in e)r=="constructor"&&(t||!kt.call(e,r))||n.push(r);return n}function bo(e,t){return e<t}function rs(e,t){var n=-1,r=un(e)?U(e.length):[];return Qn(e,function(o,u,d){r[++n]=t(o,u,d)}),r}function is(e){var t=Lo(e);return t.length==1&&t[0][2]?Ws(t[0][0],t[0][1]):function(n){return n===e||yo(n,e,t)}}function os(e,t){return Wo(e)&&Ns(t)?Ws(Dn(e),t):function(n){var r=Vo(n,e);return r===i&&r===t?Yo(n,e):Kr(t,r,k|z)}}function xi(e,t,n,r,o){e!==t&&go(t,function(u,d){if(o||(o=new Mn),It(u))Qc(e,t,d,n,xi,r,o);else{var v=r?r(Uo(e,d),u,d+"",e,t,o):i;v===i&&(v=u),ho(e,d,v)}},ln)}function Qc(e,t,n,r,o,u,d){var v=Uo(e,n),E=Uo(t,n),Z=d.get(E);if(Z){ho(e,n,Z);return}var te=u?u(v,E,n+"",e,t,d):i,se=te===i;if(se){var we=nt(E),Oe=!we&&rr(E),Ue=!we&&!Oe&&Rr(E);te=E,we||Oe||Ue?nt(v)?te=v:Lt(v)?te=sn(v):Oe?(se=!1,te=vs(E,!0)):Ue?(se=!1,te=ms(E,!0)):te=[]:Zr(E)||mr(E)?(te=v,mr(v)?te=_u(v):(!It(v)||Hn(v))&&(te=Ls(E))):se=!1}se&&(d.set(E,te),o(te,E,r,u,d),d.delete(E)),ho(e,n,te)}function as(e,t){var n=e.length;if(n)return t+=t<0?n:0,$n(t,n)?e[t]:i}function ss(e,t,n){t.length?t=Mt(t,function(u){return nt(u)?function(d){return gr(d,u.length===1?u[0]:u)}:u}):t=[cn];var r=-1;t=Mt(t,hn(We()));var o=rs(e,function(u,d,v){var E=Mt(t,function(Z){return Z(u)});return{criteria:E,index:++r,value:u}});return El(o,function(u,d){return hf(u,d,n)})}function ef(e,t){return us(e,t,function(n,r){return Yo(e,r)})}function us(e,t,n){for(var r=-1,o=t.length,u={};++r<o;){var d=t[r],v=gr(e,d);n(v,d)&&Vr(u,tr(d,e),v)}return u}function tf(e){return function(t){return gr(t,e)}}function xo(e,t,n,r){var o=r?Cl:Ar,u=-1,d=t.length,v=e;for(e===t&&(t=sn(t)),n&&(v=Mt(e,hn(n)));++u<d;)for(var E=0,Z=t[u],te=n?n(Z):Z;(E=o(v,te,E,r))>-1;)v!==e&&di.call(v,E,1),di.call(e,E,1);return e}function ls(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==u){var u=o;$n(o)?di.call(e,o,1):Eo(e,o)}}return e}function Ao(e,t){return e+gi(Ha()*(t-e+1))}function nf(e,t,n,r){for(var o=-1,u=$t(_i((t-e)/(n||1)),0),d=U(u);u--;)d[r?u:++o]=e,e+=n;return d}function ko(e,t){var n="";if(!e||t<1||t>ae)return n;do t%2&&(n+=e),t=gi(t/2),t&&(e+=e);while(t);return n}function ut(e,t){return Bo(zs(e,t,cn),e+"")}function rf(e){return Ja(Dr(e))}function of(e,t){var n=Dr(e);return Fi(n,_r(t,0,n.length))}function Vr(e,t,n,r){if(!It(e))return e;t=tr(t,e);for(var o=-1,u=t.length,d=u-1,v=e;v!=null&&++o<u;){var E=Dn(t[o]),Z=n;if(E==="__proto__"||E==="constructor"||E==="prototype")return e;if(o!=d){var te=v[E];Z=r?r(te,E,v):i,Z===i&&(Z=It(te)?te:$n(t[o+1])?[]:{})}qr(v,E,Z),v=v[E]}return e}var cs=pi?function(e,t){return pi.set(e,t),e}:cn,af=hi?function(e,t){return hi(e,"toString",{configurable:!0,enumerable:!1,value:Xo(t),writable:!0})}:cn;function sf(e){return Fi(Dr(e))}function kn(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var u=U(o);++r<o;)u[r]=e[r+t];return u}function uf(e,t){var n;return Qn(e,function(r,o,u){return n=t(r,o,u),!n}),!!n}function Ai(e,t,n){var r=0,o=e==null?r:e.length;if(typeof t=="number"&&t===t&&o<=Le){for(;r<o;){var u=r+o>>>1,d=e[u];d!==null&&!gn(d)&&(n?d<=t:d<t)?r=u+1:o=u}return o}return Co(e,t,cn,n)}function Co(e,t,n,r){var o=0,u=e==null?0:e.length;if(u===0)return 0;t=n(t);for(var d=t!==t,v=t===null,E=gn(t),Z=t===i;o<u;){var te=gi((o+u)/2),se=n(e[te]),we=se!==i,Oe=se===null,Ue=se===se,st=gn(se);if(d)var Be=r||Ue;else Z?Be=Ue&&(r||we):v?Be=Ue&&we&&(r||!Oe):E?Be=Ue&&we&&!Oe&&(r||!st):Oe||st?Be=!1:Be=r?se<=t:se<t;Be?o=te+1:u=te}return Yt(u,Pe)}function fs(e,t){for(var n=-1,r=e.length,o=0,u=[];++n<r;){var d=e[n],v=t?t(d):d;if(!n||!In(v,E)){var E=v;u[o++]=d===0?0:d}}return u}function ds(e){return typeof e=="number"?e:gn(e)?ne:+e}function _n(e){if(typeof e=="string")return e;if(nt(e))return Mt(e,_n)+"";if(gn(e))return qa?qa.call(e):"";var t=e+"";return t=="0"&&1/e==-W?"-0":t}function er(e,t,n){var r=-1,o=ni,u=e.length,d=!0,v=[],E=v;if(n)d=!1,o=Qi;else if(u>=_){var Z=t?null:yf(e);if(Z)return ii(Z);d=!1,o=Wr,E=new hr}else E=t?[]:v;e:for(;++r<u;){var te=e[r],se=t?t(te):te;if(te=n||te!==0?te:0,d&&se===se){for(var we=E.length;we--;)if(E[we]===se)continue e;t&&E.push(se),v.push(te)}else o(E,se,n)||(E!==v&&E.push(se),v.push(te))}return v}function Eo(e,t){return t=tr(t,e),e=Us(e,t),e==null||delete e[Dn(Cn(t))]}function hs(e,t,n,r){return Vr(e,t,n(gr(e,t)),r)}function ki(e,t,n,r){for(var o=e.length,u=r?o:-1;(r?u--:++u<o)&&t(e[u],u,e););return n?kn(e,r?0:u,r?u+1:o):kn(e,r?u+1:0,r?o:u)}function _s(e,t){var n=e;return n instanceof ht&&(n=n.value()),eo(t,function(r,o){return o.func.apply(o.thisArg,jn([r],o.args))},n)}function To(e,t,n){var r=e.length;if(r<2)return r?er(e[0]):[];for(var o=-1,u=U(r);++o<r;)for(var d=e[o],v=-1;++v<r;)v!=o&&(u[o]=Gr(u[o]||d,e[v],t,n));return er(Kt(u,1),t,n)}function gs(e,t,n){for(var r=-1,o=e.length,u=t.length,d={};++r<o;){var v=r<u?t[r]:i;n(d,e[r],v)}return d}function So(e){return Lt(e)?e:[]}function Oo(e){return typeof e=="function"?e:cn}function tr(e,t){return nt(e)?e:Wo(e,t)?[e]:qs(At(e))}var lf=ut;function nr(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:kn(e,t,n)}var ps=Yl||function(e){return Jt.clearTimeout(e)};function vs(e,t){if(t)return e.slice();var n=e.length,r=Wa?Wa(n):new e.constructor(n);return e.copy(r),r}function Mo(e){var t=new e.constructor(e.byteLength);return new ci(t).set(new ci(e)),t}function cf(e,t){var n=t?Mo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function ff(e){var t=new e.constructor(e.source,S.exec(e));return t.lastIndex=e.lastIndex,t}function df(e){return Hr?Et(Hr.call(e)):{}}function ms(e,t){var n=t?Mo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ys(e,t){if(e!==t){var n=e!==i,r=e===null,o=e===e,u=gn(e),d=t!==i,v=t===null,E=t===t,Z=gn(t);if(!v&&!Z&&!u&&e>t||u&&d&&E&&!v&&!Z||r&&d&&E||!n&&E||!o)return 1;if(!r&&!u&&!Z&&e<t||Z&&n&&o&&!r&&!u||v&&n&&o||!d&&o||!E)return-1}return 0}function hf(e,t,n){for(var r=-1,o=e.criteria,u=t.criteria,d=o.length,v=n.length;++r<d;){var E=ys(o[r],u[r]);if(E){if(r>=v)return E;var Z=n[r];return E*(Z=="desc"?-1:1)}}return e.index-t.index}function ws(e,t,n,r){for(var o=-1,u=e.length,d=n.length,v=-1,E=t.length,Z=$t(u-d,0),te=U(E+Z),se=!r;++v<E;)te[v]=t[v];for(;++o<d;)(se||o<u)&&(te[n[o]]=e[o]);for(;Z--;)te[v++]=e[o++];return te}function bs(e,t,n,r){for(var o=-1,u=e.length,d=-1,v=n.length,E=-1,Z=t.length,te=$t(u-v,0),se=U(te+Z),we=!r;++o<te;)se[o]=e[o];for(var Oe=o;++E<Z;)se[Oe+E]=t[E];for(;++d<v;)(we||o<u)&&(se[Oe+n[d]]=e[o++]);return se}function sn(e,t){var n=-1,r=e.length;for(t||(t=U(r));++n<r;)t[n]=e[n];return t}function Rn(e,t,n,r){var o=!n;n||(n={});for(var u=-1,d=t.length;++u<d;){var v=t[u],E=r?r(n[v],e[v],v,n,e):i;E===i&&(E=e[v]),o?zn(n,v,E):qr(n,v,E)}return n}function _f(e,t){return Rn(e,No(e),t)}function gf(e,t){return Rn(e,Rs(e),t)}function Ci(e,t){return function(n,r){var o=nt(n)?yl:Lc,u=t?t():{};return o(n,e,We(r,2),u)}}function Ir(e){return ut(function(t,n){var r=-1,o=n.length,u=o>1?n[o-1]:i,d=o>2?n[2]:i;for(u=e.length>3&&typeof u=="function"?(o--,u):i,d&&tn(n[0],n[1],d)&&(u=o<3?i:u,o=1),t=Et(t);++r<o;){var v=n[r];v&&e(t,v,r,u)}return t})}function xs(e,t){return function(n,r){if(n==null)return n;if(!un(n))return e(n,r);for(var o=n.length,u=t?o:-1,d=Et(n);(t?u--:++u<o)&&r(d[u],u,d)!==!1;);return n}}function As(e){return function(t,n,r){for(var o=-1,u=Et(t),d=r(t),v=d.length;v--;){var E=d[e?v:++o];if(n(u[E],E,u)===!1)break}return t}}function pf(e,t,n){var r=t&D,o=Yr(e);function u(){var d=this&&this!==Jt&&this instanceof u?o:e;return d.apply(r?n:this,arguments)}return u}function ks(e){return function(t){t=At(t);var n=kr(t)?On(t):i,r=n?n[0]:t.charAt(0),o=n?nr(n,1).join(""):t.slice(1);return r[e]()+o}}function Fr(e){return function(t){return eo(xu(bu(t).replace(ol,"")),e,"")}}function Yr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Mr(e.prototype),r=e.apply(n,t);return It(r)?r:n}}function vf(e,t,n){var r=Yr(e);function o(){for(var u=arguments.length,d=U(u),v=u,E=Pr(o);v--;)d[v]=arguments[v];var Z=u<3&&d[0]!==E&&d[u-1]!==E?[]:Xn(d,E);if(u-=Z.length,u<n)return Os(e,t,Ei,o.placeholder,i,d,Z,i,i,n-u);var te=this&&this!==Jt&&this instanceof o?r:e;return dn(te,this,d)}return o}function Cs(e){return function(t,n,r){var o=Et(t);if(!un(t)){var u=We(n,3);t=qt(t),n=function(v){return u(o[v],v,o)}}var d=e(t,n,r);return d>-1?o[u?t[d]:d]:i}}function Es(e){return Bn(function(t){var n=t.length,r=n,o=xn.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if(typeof u!="function")throw new bn(x);if(o&&!d&&Mi(u)=="wrapper")var d=new xn([],!0)}for(r=d?r:n;++r<n;){u=t[r];var v=Mi(u),E=v=="wrapper"?Do(u):i;E&&zo(E[0])&&E[1]==(pe|l|c|ce)&&!E[4].length&&E[9]==1?d=d[Mi(E[0])].apply(d,E[3]):d=u.length==1&&zo(u)?d[v]():d.thru(u)}return function(){var Z=arguments,te=Z[0];if(d&&Z.length==1&&nt(te))return d.plant(te).value();for(var se=0,we=n?t[se].apply(this,Z):te;++se<n;)we=t[se].call(this,we);return we}})}function Ei(e,t,n,r,o,u,d,v,E,Z){var te=t&pe,se=t&D,we=t&ee,Oe=t&(l|K),Ue=t&ze,st=we?i:Yr(e);function Be(){for(var dt=arguments.length,_t=U(dt),pn=dt;pn--;)_t[pn]=arguments[pn];if(Oe)var nn=Pr(Be),vn=Sl(_t,nn);if(r&&(_t=ws(_t,r,o,Oe)),u&&(_t=bs(_t,u,d,Oe)),dt-=vn,Oe&&dt<Z){var Nt=Xn(_t,nn);return Os(e,t,Ei,Be.placeholder,n,_t,Nt,v,E,Z-dt)}var Fn=se?n:this,Gn=we?Fn[e]:e;return dt=_t.length,v?_t=Nf(_t,v):Ue&&dt>1&&_t.reverse(),te&&E<dt&&(_t.length=E),this&&this!==Jt&&this instanceof Be&&(Gn=st||Yr(Gn)),Gn.apply(Fn,_t)}return Be}function Ts(e,t){return function(n,r){return qc(n,e,t(r),{})}}function Ti(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;typeof n=="string"||typeof r=="string"?(n=_n(n),r=_n(r)):(n=ds(n),r=ds(r)),o=e(n,r)}return o}}function Io(e){return Bn(function(t){return t=Mt(t,hn(We())),ut(function(n){var r=this;return e(t,function(o){return dn(o,r,n)})})})}function Si(e,t){t=t===i?" ":_n(t);var n=t.length;if(n<2)return n?ko(t,e):t;var r=ko(t,_i(e/Cr(t)));return kr(t)?nr(On(r),0,e).join(""):r.slice(0,e)}function mf(e,t,n,r){var o=t&D,u=Yr(e);function d(){for(var v=-1,E=arguments.length,Z=-1,te=r.length,se=U(te+E),we=this&&this!==Jt&&this instanceof d?u:e;++Z<te;)se[Z]=r[Z];for(;E--;)se[Z++]=arguments[++v];return dn(we,o?n:this,se)}return d}function Ss(e){return function(t,n,r){return r&&typeof r!="number"&&tn(t,n,r)&&(n=r=i),t=qn(t),n===i?(n=t,t=0):n=qn(n),r=r===i?t<n?1:-1:qn(r),nf(t,n,r,e)}}function Oi(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=En(t),n=En(n)),e(t,n)}}function Os(e,t,n,r,o,u,d,v,E,Z){var te=t&l,se=te?d:i,we=te?i:d,Oe=te?u:i,Ue=te?i:u;t|=te?c:ue,t&=~(te?ue:c),t&B||(t&=~(D|ee));var st=[e,t,o,Oe,se,Ue,we,v,E,Z],Be=n.apply(i,st);return zo(e)&&Bs(Be,st),Be.placeholder=r,$s(Be,e,t)}function Fo(e){var t=Bt[e];return function(n,r){if(n=En(n),r=r==null?0:Yt(it(r),292),r&&$a(n)){var o=(At(n)+"e").split("e"),u=t(o[0]+"e"+(+o[1]+r));return o=(At(u)+"e").split("e"),+(o[0]+"e"+(+o[1]-r))}return t(n)}}var yf=Sr&&1/ii(new Sr([,-0]))[1]==W?function(e){return new Sr(e)}:ea;function Ms(e){return function(t){var n=jt(t);return n==bt?so(t):n==fe?Dl(t):Tl(t,e(t))}}function Un(e,t,n,r,o,u,d,v){var E=t&ee;if(!E&&typeof e!="function")throw new bn(x);var Z=r?r.length:0;if(Z||(t&=~(c|ue),r=o=i),d=d===i?d:$t(it(d),0),v=v===i?v:it(v),Z-=o?o.length:0,t&ue){var te=r,se=o;r=o=i}var we=E?i:Do(e),Oe=[e,t,n,r,o,te,se,u,d,v];if(we&&Rf(Oe,we),e=Oe[0],t=Oe[1],n=Oe[2],r=Oe[3],o=Oe[4],v=Oe[9]=Oe[9]===i?E?0:e.length:$t(Oe[9]-Z,0),!v&&t&(l|K)&&(t&=~(l|K)),!t||t==D)var Ue=pf(e,t,n);else t==l||t==K?Ue=vf(e,t,v):(t==c||t==(D|c))&&!o.length?Ue=mf(e,t,n,r):Ue=Ei.apply(i,Oe);var st=we?cs:Bs;return $s(st(Ue,Oe),e,t)}function Is(e,t,n,r){return e===i||In(e,Tr[n])&&!kt.call(r,n)?t:e}function Fs(e,t,n,r,o,u){return It(e)&&It(t)&&(u.set(t,e),xi(e,t,i,Fs,u),u.delete(t)),e}function wf(e){return Zr(e)?i:e}function Ps(e,t,n,r,o,u){var d=n&k,v=e.length,E=t.length;if(v!=E&&!(d&&E>v))return!1;var Z=u.get(e),te=u.get(t);if(Z&&te)return Z==t&&te==e;var se=-1,we=!0,Oe=n&z?new hr:i;for(u.set(e,t),u.set(t,e);++se<v;){var Ue=e[se],st=t[se];if(r)var Be=d?r(st,Ue,se,t,e,u):r(Ue,st,se,e,t,u);if(Be!==i){if(Be)continue;we=!1;break}if(Oe){if(!to(t,function(dt,_t){if(!Wr(Oe,_t)&&(Ue===dt||o(Ue,dt,n,r,u)))return Oe.push(_t)})){we=!1;break}}else if(!(Ue===st||o(Ue,st,n,r,u))){we=!1;break}}return u.delete(e),u.delete(t),we}function bf(e,t,n,r,o,u,d){switch(n){case ie:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C:return!(e.byteLength!=t.byteLength||!u(new ci(e),new ci(t)));case He:case ft:case Wt:return In(+e,+t);case wt:return e.name==t.name&&e.message==t.message;case _e:case Ae:return e==t+"";case bt:var v=so;case fe:var E=r&k;if(v||(v=ii),e.size!=t.size&&!E)return!1;var Z=d.get(e);if(Z)return Z==t;r|=z,d.set(e,t);var te=Ps(v(e),v(t),r,o,u,d);return d.delete(e),te;case Ne:if(Hr)return Hr.call(e)==Hr.call(t)}return!1}function xf(e,t,n,r,o,u){var d=n&k,v=Po(e),E=v.length,Z=Po(t),te=Z.length;if(E!=te&&!d)return!1;for(var se=E;se--;){var we=v[se];if(!(d?we in t:kt.call(t,we)))return!1}var Oe=u.get(e),Ue=u.get(t);if(Oe&&Ue)return Oe==t&&Ue==e;var st=!0;u.set(e,t),u.set(t,e);for(var Be=d;++se<E;){we=v[se];var dt=e[we],_t=t[we];if(r)var pn=d?r(_t,dt,we,t,e,u):r(dt,_t,we,e,t,u);if(!(pn===i?dt===_t||o(dt,_t,n,r,u):pn)){st=!1;break}Be||(Be=we=="constructor")}if(st&&!Be){var nn=e.constructor,vn=t.constructor;nn!=vn&&"constructor"in e&&"constructor"in t&&!(typeof nn=="function"&&nn instanceof nn&&typeof vn=="function"&&vn instanceof vn)&&(st=!1)}return u.delete(e),u.delete(t),st}function Bn(e){return Bo(zs(e,i,Vs),e+"")}function Po(e){return Qa(e,qt,No)}function Ro(e){return Qa(e,ln,Rs)}var Do=pi?function(e){return pi.get(e)}:ea;function Mi(e){for(var t=e.name+"",n=Or[t],r=kt.call(Or,t)?n.length:0;r--;){var o=n[r],u=o.func;if(u==null||u==e)return o.name}return t}function Pr(e){var t=kt.call(s,"placeholder")?s:e;return t.placeholder}function We(){var e=s.iteratee||Zo;return e=e===Zo?ns:e,arguments.length?e(arguments[0],arguments[1]):e}function Ii(e,t){var n=e.__data__;return Mf(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Lo(e){for(var t=qt(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Ns(o)]}return t}function pr(e,t){var n=Fl(e,t);return ts(n)?n:i}function Af(e){var t=kt.call(e,fr),n=e[fr];try{e[fr]=i;var r=!0}catch{}var o=ui.call(e);return r&&(t?e[fr]=n:delete e[fr]),o}var No=lo?function(e){return e==null?[]:(e=Et(e),Yn(lo(e),function(t){return Ua.call(e,t)}))}:ta,Rs=lo?function(e){for(var t=[];e;)jn(t,No(e)),e=fi(e);return t}:ta,jt=en;(co&&jt(new co(new ArrayBuffer(1)))!=ie||Ur&&jt(new Ur)!=bt||fo&&jt(fo.resolve())!=m||Sr&&jt(new Sr)!=fe||Br&&jt(new Br)!=Te)&&(jt=function(e){var t=en(e),n=t==he?e.constructor:i,r=n?vr(n):"";if(r)switch(r){case ic:return ie;case oc:return bt;case ac:return m;case sc:return fe;case uc:return Te}return t});function kf(e,t,n){for(var r=-1,o=n.length;++r<o;){var u=n[r],d=u.size;switch(u.type){case"drop":e+=d;break;case"dropRight":t-=d;break;case"take":t=Yt(t,e+d);break;case"takeRight":e=$t(e,t-d);break}}return{start:e,end:t}}function Cf(e){var t=e.match(Zt);return t?t[1].split(lr):[]}function Ds(e,t,n){t=tr(t,e);for(var r=-1,o=t.length,u=!1;++r<o;){var d=Dn(t[r]);if(!(u=e!=null&&n(e,d)))break;e=e[d]}return u||++r!=o?u:(o=e==null?0:e.length,!!o&&Wi(o)&&$n(d,o)&&(nt(e)||mr(e)))}function Ef(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&kt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Ls(e){return typeof e.constructor=="function"&&!jr(e)?Mr(fi(e)):{}}function Tf(e,t,n){var r=e.constructor;switch(t){case C:return Mo(e);case He:case ft:return new r(+e);case ie:return cf(e,n);case p:case F:case w:case L:case $:case X:case Je:case ct:case zt:return ms(e,n);case bt:return new r;case Wt:case Ae:return new r(e);case _e:return ff(e);case fe:return new r;case Ne:return df(e)}}function Sf(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ur,`{
/* [wrapped with `+t+`] */
`)}function Of(e){return nt(e)||mr(e)||!!(Ba&&e&&e[Ba])}function $n(e,t){var n=typeof e;return t=t??ae,!!t&&(n=="number"||n!="symbol"&&Qe.test(e))&&e>-1&&e%1==0&&e<t}function tn(e,t,n){if(!It(n))return!1;var r=typeof t;return(r=="number"?un(n)&&$n(t,n.length):r=="string"&&t in n)?In(n[t],e):!1}function Wo(e,t){if(nt(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||gn(e)?!0:vt.test(e)||!rt.test(e)||t!=null&&e in Et(t)}function Mf(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function zo(e){var t=Mi(e),n=s[t];if(typeof n!="function"||!(t in ht.prototype))return!1;if(e===n)return!0;var r=Do(n);return!!r&&e===r[0]}function If(e){return!!Na&&Na in e}var Ff=ai?Hn:na;function jr(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Tr;return e===n}function Ns(e){return e===e&&!It(e)}function Ws(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==i||e in Et(n))}}function Pf(e){var t=Li(e,function(r){return n.size===ye&&n.clear(),r}),n=t.cache;return t}function Rf(e,t){var n=e[1],r=t[1],o=n|r,u=o<(D|ee|pe),d=r==pe&&n==l||r==pe&&n==ce&&e[7].length<=t[8]||r==(pe|ce)&&t[7].length<=t[8]&&n==l;if(!(u||d))return e;r&D&&(e[2]=t[2],o|=n&D?0:B);var v=t[3];if(v){var E=e[3];e[3]=E?ws(E,v,t[4]):v,e[4]=E?Xn(e[3],le):t[4]}return v=t[5],v&&(E=e[5],e[5]=E?bs(E,v,t[6]):v,e[6]=E?Xn(e[5],le):t[6]),v=t[7],v&&(e[7]=v),r&pe&&(e[8]=e[8]==null?t[8]:Yt(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}function Df(e){var t=[];if(e!=null)for(var n in Et(e))t.push(n);return t}function Lf(e){return ui.call(e)}function zs(e,t,n){return t=$t(t===i?e.length-1:t,0),function(){for(var r=arguments,o=-1,u=$t(r.length-t,0),d=U(u);++o<u;)d[o]=r[t+o];o=-1;for(var v=U(t+1);++o<t;)v[o]=r[o];return v[t]=n(d),dn(e,this,v)}}function Us(e,t){return t.length<2?e:gr(e,kn(t,0,-1))}function Nf(e,t){for(var n=e.length,r=Yt(t.length,n),o=sn(e);r--;){var u=t[r];e[r]=$n(u,n)?o[u]:i}return e}function Uo(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Bs=Hs(cs),Xr=Xl||function(e,t){return Jt.setTimeout(e,t)},Bo=Hs(af);function $s(e,t,n){var r=t+"";return Bo(e,Sf(r,Wf(Cf(r),n)))}function Hs(e){var t=0,n=0;return function(){var r=tc(),o=q-(r-n);if(n=r,o>0){if(++t>=be)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Fi(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var u=Ao(n,o),d=e[u];e[u]=e[n],e[n]=d}return e.length=t,e}var qs=Pf(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Pt,function(n,r,o,u){t.push(o?u.replace(V,"$1"):r||n)}),t});function Dn(e){if(typeof e=="string"||gn(e))return e;var t=e+"";return t=="0"&&1/e==-W?"-0":t}function vr(e){if(e!=null){try{return si.call(e)}catch{}try{return e+""}catch{}}return""}function Wf(e,t){return wn(yt,function(n){var r="_."+n[0];t&n[1]&&!ni(e,r)&&e.push(r)}),e.sort()}function Gs(e){if(e instanceof ht)return e.clone();var t=new xn(e.__wrapped__,e.__chain__);return t.__actions__=sn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function zf(e,t,n){(n?tn(e,t,n):t===i)?t=1:t=$t(it(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var o=0,u=0,d=U(_i(r/t));o<r;)d[u++]=kn(e,o,o+=t);return d}function Uf(e){for(var t=-1,n=e==null?0:e.length,r=0,o=[];++t<n;){var u=e[t];u&&(o[r++]=u)}return o}function Bf(){var e=arguments.length;if(!e)return[];for(var t=U(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return jn(nt(n)?sn(n):[n],Kt(t,1))}var $f=ut(function(e,t){return Lt(e)?Gr(e,Kt(t,1,Lt,!0)):[]}),Hf=ut(function(e,t){var n=Cn(t);return Lt(n)&&(n=i),Lt(e)?Gr(e,Kt(t,1,Lt,!0),We(n,2)):[]}),qf=ut(function(e,t){var n=Cn(t);return Lt(n)&&(n=i),Lt(e)?Gr(e,Kt(t,1,Lt,!0),i,n):[]});function Gf(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===i?1:it(t),kn(e,t<0?0:t,r)):[]}function Jf(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===i?1:it(t),t=r-t,kn(e,0,t<0?0:t)):[]}function Kf(e,t){return e&&e.length?ki(e,We(t,3),!0,!0):[]}function Vf(e,t){return e&&e.length?ki(e,We(t,3),!0):[]}function Yf(e,t,n,r){var o=e==null?0:e.length;return o?(n&&typeof n!="number"&&tn(e,t,n)&&(n=0,r=o),Uc(e,t,n,r)):[]}function Js(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:it(n);return o<0&&(o=$t(r+o,0)),ri(e,We(t,3),o)}function Ks(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=it(n),o=n<0?$t(r+o,0):Yt(o,r-1)),ri(e,We(t,3),o,!0)}function Vs(e){var t=e==null?0:e.length;return t?Kt(e,1):[]}function jf(e){var t=e==null?0:e.length;return t?Kt(e,W):[]}function Xf(e,t){var n=e==null?0:e.length;return n?(t=t===i?1:it(t),Kt(e,t)):[]}function Zf(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r}function Ys(e){return e&&e.length?e[0]:i}function Qf(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:it(n);return o<0&&(o=$t(r+o,0)),Ar(e,t,o)}function ed(e){var t=e==null?0:e.length;return t?kn(e,0,-1):[]}var td=ut(function(e){var t=Mt(e,So);return t.length&&t[0]===e[0]?mo(t):[]}),nd=ut(function(e){var t=Cn(e),n=Mt(e,So);return t===Cn(n)?t=i:n.pop(),n.length&&n[0]===e[0]?mo(n,We(t,2)):[]}),rd=ut(function(e){var t=Cn(e),n=Mt(e,So);return t=typeof t=="function"?t:i,t&&n.pop(),n.length&&n[0]===e[0]?mo(n,i,t):[]});function id(e,t){return e==null?"":Ql.call(e,t)}function Cn(e){var t=e==null?0:e.length;return t?e[t-1]:i}function od(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=it(n),o=o<0?$t(r+o,0):Yt(o,r-1)),t===t?Nl(e,t,o):ri(e,Oa,o,!0)}function ad(e,t){return e&&e.length?as(e,it(t)):i}var sd=ut(js);function js(e,t){return e&&e.length&&t&&t.length?xo(e,t):e}function ud(e,t,n){return e&&e.length&&t&&t.length?xo(e,t,We(n,2)):e}function ld(e,t,n){return e&&e.length&&t&&t.length?xo(e,t,i,n):e}var cd=Bn(function(e,t){var n=e==null?0:e.length,r=_o(e,t);return ls(e,Mt(t,function(o){return $n(o,n)?+o:o}).sort(ys)),r});function fd(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,o=[],u=e.length;for(t=We(t,3);++r<u;){var d=e[r];t(d,r,e)&&(n.push(d),o.push(r))}return ls(e,o),n}function $o(e){return e==null?e:rc.call(e)}function dd(e,t,n){var r=e==null?0:e.length;return r?(n&&typeof n!="number"&&tn(e,t,n)?(t=0,n=r):(t=t==null?0:it(t),n=n===i?r:it(n)),kn(e,t,n)):[]}function hd(e,t){return Ai(e,t)}function _d(e,t,n){return Co(e,t,We(n,2))}function gd(e,t){var n=e==null?0:e.length;if(n){var r=Ai(e,t);if(r<n&&In(e[r],t))return r}return-1}function pd(e,t){return Ai(e,t,!0)}function vd(e,t,n){return Co(e,t,We(n,2),!0)}function md(e,t){var n=e==null?0:e.length;if(n){var r=Ai(e,t,!0)-1;if(In(e[r],t))return r}return-1}function yd(e){return e&&e.length?fs(e):[]}function wd(e,t){return e&&e.length?fs(e,We(t,2)):[]}function bd(e){var t=e==null?0:e.length;return t?kn(e,1,t):[]}function xd(e,t,n){return e&&e.length?(t=n||t===i?1:it(t),kn(e,0,t<0?0:t)):[]}function Ad(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===i?1:it(t),t=r-t,kn(e,t<0?0:t,r)):[]}function kd(e,t){return e&&e.length?ki(e,We(t,3),!1,!0):[]}function Cd(e,t){return e&&e.length?ki(e,We(t,3)):[]}var Ed=ut(function(e){return er(Kt(e,1,Lt,!0))}),Td=ut(function(e){var t=Cn(e);return Lt(t)&&(t=i),er(Kt(e,1,Lt,!0),We(t,2))}),Sd=ut(function(e){var t=Cn(e);return t=typeof t=="function"?t:i,er(Kt(e,1,Lt,!0),i,t)});function Od(e){return e&&e.length?er(e):[]}function Md(e,t){return e&&e.length?er(e,We(t,2)):[]}function Id(e,t){return t=typeof t=="function"?t:i,e&&e.length?er(e,i,t):[]}function Ho(e){if(!(e&&e.length))return[];var t=0;return e=Yn(e,function(n){if(Lt(n))return t=$t(n.length,t),!0}),oo(t,function(n){return Mt(e,no(n))})}function Xs(e,t){if(!(e&&e.length))return[];var n=Ho(e);return t==null?n:Mt(n,function(r){return dn(t,i,r)})}var Fd=ut(function(e,t){return Lt(e)?Gr(e,t):[]}),Pd=ut(function(e){return To(Yn(e,Lt))}),Rd=ut(function(e){var t=Cn(e);return Lt(t)&&(t=i),To(Yn(e,Lt),We(t,2))}),Dd=ut(function(e){var t=Cn(e);return t=typeof t=="function"?t:i,To(Yn(e,Lt),i,t)}),Ld=ut(Ho);function Nd(e,t){return gs(e||[],t||[],qr)}function Wd(e,t){return gs(e||[],t||[],Vr)}var zd=ut(function(e){var t=e.length,n=t>1?e[t-1]:i;return n=typeof n=="function"?(e.pop(),n):i,Xs(e,n)});function Zs(e){var t=s(e);return t.__chain__=!0,t}function Ud(e,t){return t(e),e}function Pi(e,t){return t(e)}var Bd=Bn(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(u){return _o(u,e)};return t>1||this.__actions__.length||!(r instanceof ht)||!$n(n)?this.thru(o):(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:Pi,args:[o],thisArg:i}),new xn(r,this.__chain__).thru(function(u){return t&&!u.length&&u.push(i),u}))});function $d(){return Zs(this)}function Hd(){return new xn(this.value(),this.__chain__)}function qd(){this.__values__===i&&(this.__values__=du(this.value()));var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}}function Gd(){return this}function Jd(e){for(var t,n=this;n instanceof mi;){var r=Gs(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t}function Kd(){var e=this.__wrapped__;if(e instanceof ht){var t=e;return this.__actions__.length&&(t=new ht(this)),t=t.reverse(),t.__actions__.push({func:Pi,args:[$o],thisArg:i}),new xn(t,this.__chain__)}return this.thru($o)}function Vd(){return _s(this.__wrapped__,this.__actions__)}var Yd=Ci(function(e,t,n){kt.call(e,n)?++e[n]:zn(e,n,1)});function jd(e,t,n){var r=nt(e)?Ta:zc;return n&&tn(e,t,n)&&(t=i),r(e,We(t,3))}function Xd(e,t){var n=nt(e)?Yn:Xa;return n(e,We(t,3))}var Zd=Cs(Js),Qd=Cs(Ks);function eh(e,t){return Kt(Ri(e,t),1)}function th(e,t){return Kt(Ri(e,t),W)}function nh(e,t,n){return n=n===i?1:it(n),Kt(Ri(e,t),n)}function Qs(e,t){var n=nt(e)?wn:Qn;return n(e,We(t,3))}function eu(e,t){var n=nt(e)?wl:ja;return n(e,We(t,3))}var rh=Ci(function(e,t,n){kt.call(e,n)?e[n].push(t):zn(e,n,[t])});function ih(e,t,n,r){e=un(e)?e:Dr(e),n=n&&!r?it(n):0;var o=e.length;return n<0&&(n=$t(o+n,0)),zi(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Ar(e,t,n)>-1}var oh=ut(function(e,t,n){var r=-1,o=typeof t=="function",u=un(e)?U(e.length):[];return Qn(e,function(d){u[++r]=o?dn(t,d,n):Jr(d,t,n)}),u}),ah=Ci(function(e,t,n){zn(e,n,t)});function Ri(e,t){var n=nt(e)?Mt:rs;return n(e,We(t,3))}function sh(e,t,n,r){return e==null?[]:(nt(t)||(t=t==null?[]:[t]),n=r?i:n,nt(n)||(n=n==null?[]:[n]),ss(e,t,n))}var uh=Ci(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function lh(e,t,n){var r=nt(e)?eo:Ia,o=arguments.length<3;return r(e,We(t,4),n,o,Qn)}function ch(e,t,n){var r=nt(e)?bl:Ia,o=arguments.length<3;return r(e,We(t,4),n,o,ja)}function fh(e,t){var n=nt(e)?Yn:Xa;return n(e,Ni(We(t,3)))}function dh(e){var t=nt(e)?Ja:rf;return t(e)}function hh(e,t,n){(n?tn(e,t,n):t===i)?t=1:t=it(t);var r=nt(e)?Rc:of;return r(e,t)}function _h(e){var t=nt(e)?Dc:sf;return t(e)}function gh(e){if(e==null)return 0;if(un(e))return zi(e)?Cr(e):e.length;var t=jt(e);return t==bt||t==fe?e.size:wo(e).length}function ph(e,t,n){var r=nt(e)?to:uf;return n&&tn(e,t,n)&&(t=i),r(e,We(t,3))}var vh=ut(function(e,t){if(e==null)return[];var n=t.length;return n>1&&tn(e,t[0],t[1])?t=[]:n>2&&tn(t[0],t[1],t[2])&&(t=[t[0]]),ss(e,Kt(t,1),[])}),Di=jl||function(){return Jt.Date.now()};function mh(e,t){if(typeof t!="function")throw new bn(x);return e=it(e),function(){if(--e<1)return t.apply(this,arguments)}}function tu(e,t,n){return t=n?i:t,t=e&&t==null?e.length:t,Un(e,pe,i,i,i,i,t)}function nu(e,t){var n;if(typeof t!="function")throw new bn(x);return e=it(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var qo=ut(function(e,t,n){var r=D;if(n.length){var o=Xn(n,Pr(qo));r|=c}return Un(e,r,t,n,o)}),ru=ut(function(e,t,n){var r=D|ee;if(n.length){var o=Xn(n,Pr(ru));r|=c}return Un(t,r,e,n,o)});function iu(e,t,n){t=n?i:t;var r=Un(e,l,i,i,i,i,i,t);return r.placeholder=iu.placeholder,r}function ou(e,t,n){t=n?i:t;var r=Un(e,K,i,i,i,i,i,t);return r.placeholder=ou.placeholder,r}function au(e,t,n){var r,o,u,d,v,E,Z=0,te=!1,se=!1,we=!0;if(typeof e!="function")throw new bn(x);t=En(t)||0,It(n)&&(te=!!n.leading,se="maxWait"in n,u=se?$t(En(n.maxWait)||0,t):u,we="trailing"in n?!!n.trailing:we);function Oe(Nt){var Fn=r,Gn=o;return r=o=i,Z=Nt,d=e.apply(Gn,Fn),d}function Ue(Nt){return Z=Nt,v=Xr(dt,t),te?Oe(Nt):d}function st(Nt){var Fn=Nt-E,Gn=Nt-Z,Cu=t-Fn;return se?Yt(Cu,u-Gn):Cu}function Be(Nt){var Fn=Nt-E,Gn=Nt-Z;return E===i||Fn>=t||Fn<0||se&&Gn>=u}function dt(){var Nt=Di();if(Be(Nt))return _t(Nt);v=Xr(dt,st(Nt))}function _t(Nt){return v=i,we&&r?Oe(Nt):(r=o=i,d)}function pn(){v!==i&&ps(v),Z=0,r=E=o=v=i}function nn(){return v===i?d:_t(Di())}function vn(){var Nt=Di(),Fn=Be(Nt);if(r=arguments,o=this,E=Nt,Fn){if(v===i)return Ue(E);if(se)return ps(v),v=Xr(dt,t),Oe(E)}return v===i&&(v=Xr(dt,t)),d}return vn.cancel=pn,vn.flush=nn,vn}var yh=ut(function(e,t){return Ya(e,1,t)}),wh=ut(function(e,t,n){return Ya(e,En(t)||0,n)});function bh(e){return Un(e,ze)}function Li(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new bn(x);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],u=n.cache;if(u.has(o))return u.get(o);var d=e.apply(this,r);return n.cache=u.set(o,d)||u,d};return n.cache=new(Li.Cache||Wn),n}Li.Cache=Wn;function Ni(e){if(typeof e!="function")throw new bn(x);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function xh(e){return nu(2,e)}var Ah=lf(function(e,t){t=t.length==1&&nt(t[0])?Mt(t[0],hn(We())):Mt(Kt(t,1),hn(We()));var n=t.length;return ut(function(r){for(var o=-1,u=Yt(r.length,n);++o<u;)r[o]=t[o].call(this,r[o]);return dn(e,this,r)})}),Go=ut(function(e,t){var n=Xn(t,Pr(Go));return Un(e,c,i,t,n)}),su=ut(function(e,t){var n=Xn(t,Pr(su));return Un(e,ue,i,t,n)}),kh=Bn(function(e,t){return Un(e,ce,i,i,i,t)});function Ch(e,t){if(typeof e!="function")throw new bn(x);return t=t===i?t:it(t),ut(e,t)}function Eh(e,t){if(typeof e!="function")throw new bn(x);return t=t==null?0:$t(it(t),0),ut(function(n){var r=n[t],o=nr(n,0,t);return r&&jn(o,r),dn(e,this,o)})}function Th(e,t,n){var r=!0,o=!0;if(typeof e!="function")throw new bn(x);return It(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),au(e,t,{leading:r,maxWait:t,trailing:o})}function Sh(e){return tu(e,1)}function Oh(e,t){return Go(Oo(t),e)}function Mh(){if(!arguments.length)return[];var e=arguments[0];return nt(e)?e:[e]}function Ih(e){return An(e,P)}function Fh(e,t){return t=typeof t=="function"?t:i,An(e,P,t)}function Ph(e){return An(e,Q|P)}function Rh(e,t){return t=typeof t=="function"?t:i,An(e,Q|P,t)}function Dh(e,t){return t==null||Va(e,t,qt(t))}function In(e,t){return e===t||e!==e&&t!==t}var Lh=Oi(vo),Nh=Oi(function(e,t){return e>=t}),mr=es(function(){return arguments}())?es:function(e){return Rt(e)&&kt.call(e,"callee")&&!Ua.call(e,"callee")},nt=U.isArray,Wh=ba?hn(ba):Gc;function un(e){return e!=null&&Wi(e.length)&&!Hn(e)}function Lt(e){return Rt(e)&&un(e)}function zh(e){return e===!0||e===!1||Rt(e)&&en(e)==He}var rr=Zl||na,Uh=xa?hn(xa):Jc;function Bh(e){return Rt(e)&&e.nodeType===1&&!Zr(e)}function $h(e){if(e==null)return!0;if(un(e)&&(nt(e)||typeof e=="string"||typeof e.splice=="function"||rr(e)||Rr(e)||mr(e)))return!e.length;var t=jt(e);if(t==bt||t==fe)return!e.size;if(jr(e))return!wo(e).length;for(var n in e)if(kt.call(e,n))return!1;return!0}function Hh(e,t){return Kr(e,t)}function qh(e,t,n){n=typeof n=="function"?n:i;var r=n?n(e,t):i;return r===i?Kr(e,t,i,n):!!r}function Jo(e){if(!Rt(e))return!1;var t=en(e);return t==wt||t==lt||typeof e.message=="string"&&typeof e.name=="string"&&!Zr(e)}function Gh(e){return typeof e=="number"&&$a(e)}function Hn(e){if(!It(e))return!1;var t=en(e);return t==at||t==Ut||t==Ye||t==H}function uu(e){return typeof e=="number"&&e==it(e)}function Wi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ae}function It(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Rt(e){return e!=null&&typeof e=="object"}var lu=Aa?hn(Aa):Vc;function Jh(e,t){return e===t||yo(e,t,Lo(t))}function Kh(e,t,n){return n=typeof n=="function"?n:i,yo(e,t,Lo(t),n)}function Vh(e){return cu(e)&&e!=+e}function Yh(e){if(Ff(e))throw new tt(f);return ts(e)}function jh(e){return e===null}function Xh(e){return e==null}function cu(e){return typeof e=="number"||Rt(e)&&en(e)==Wt}function Zr(e){if(!Rt(e)||en(e)!=he)return!1;var t=fi(e);if(t===null)return!0;var n=kt.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&si.call(n)==Jl}var Ko=ka?hn(ka):Yc;function Zh(e){return uu(e)&&e>=-ae&&e<=ae}var fu=Ca?hn(Ca):jc;function zi(e){return typeof e=="string"||!nt(e)&&Rt(e)&&en(e)==Ae}function gn(e){return typeof e=="symbol"||Rt(e)&&en(e)==Ne}var Rr=Ea?hn(Ea):Xc;function Qh(e){return e===i}function e_(e){return Rt(e)&&jt(e)==Te}function t_(e){return Rt(e)&&en(e)==Ct}var n_=Oi(bo),r_=Oi(function(e,t){return e<=t});function du(e){if(!e)return[];if(un(e))return zi(e)?On(e):sn(e);if(zr&&e[zr])return Rl(e[zr]());var t=jt(e),n=t==bt?so:t==fe?ii:Dr;return n(e)}function qn(e){if(!e)return e===0?e:0;if(e=En(e),e===W||e===-W){var t=e<0?-1:1;return t*de}return e===e?e:0}function it(e){var t=qn(e),n=t%1;return t===t?n?t-n:t:0}function hu(e){return e?_r(it(e),0,re):0}function En(e){if(typeof e=="number")return e;if(gn(e))return ne;if(It(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=It(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Fa(e);var n=xe.test(e);return n||je.test(e)?vl(e.slice(2),n?2:8):oe.test(e)?ne:+e}function _u(e){return Rn(e,ln(e))}function i_(e){return e?_r(it(e),-ae,ae):e===0?e:0}function At(e){return e==null?"":_n(e)}var o_=Ir(function(e,t){if(jr(t)||un(t)){Rn(t,qt(t),e);return}for(var n in t)kt.call(t,n)&&qr(e,n,t[n])}),gu=Ir(function(e,t){Rn(t,ln(t),e)}),Ui=Ir(function(e,t,n,r){Rn(t,ln(t),e,r)}),a_=Ir(function(e,t,n,r){Rn(t,qt(t),e,r)}),s_=Bn(_o);function u_(e,t){var n=Mr(e);return t==null?n:Ka(n,t)}var l_=ut(function(e,t){e=Et(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&tn(t[0],t[1],o)&&(r=1);++n<r;)for(var u=t[n],d=ln(u),v=-1,E=d.length;++v<E;){var Z=d[v],te=e[Z];(te===i||In(te,Tr[Z])&&!kt.call(e,Z))&&(e[Z]=u[Z])}return e}),c_=ut(function(e){return e.push(i,Fs),dn(pu,i,e)});function f_(e,t){return Sa(e,We(t,3),Pn)}function d_(e,t){return Sa(e,We(t,3),po)}function h_(e,t){return e==null?e:go(e,We(t,3),ln)}function __(e,t){return e==null?e:Za(e,We(t,3),ln)}function g_(e,t){return e&&Pn(e,We(t,3))}function p_(e,t){return e&&po(e,We(t,3))}function v_(e){return e==null?[]:bi(e,qt(e))}function m_(e){return e==null?[]:bi(e,ln(e))}function Vo(e,t,n){var r=e==null?i:gr(e,t);return r===i?n:r}function y_(e,t){return e!=null&&Ds(e,t,Bc)}function Yo(e,t){return e!=null&&Ds(e,t,$c)}var w_=Ts(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=ui.call(t)),e[t]=n},Xo(cn)),b_=Ts(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=ui.call(t)),kt.call(e,t)?e[t].push(n):e[t]=[n]},We),x_=ut(Jr);function qt(e){return un(e)?Ga(e):wo(e)}function ln(e){return un(e)?Ga(e,!0):Zc(e)}function A_(e,t){var n={};return t=We(t,3),Pn(e,function(r,o,u){zn(n,t(r,o,u),r)}),n}function k_(e,t){var n={};return t=We(t,3),Pn(e,function(r,o,u){zn(n,o,t(r,o,u))}),n}var C_=Ir(function(e,t,n){xi(e,t,n)}),pu=Ir(function(e,t,n,r){xi(e,t,n,r)}),E_=Bn(function(e,t){var n={};if(e==null)return n;var r=!1;t=Mt(t,function(u){return u=tr(u,e),r||(r=u.length>1),u}),Rn(e,Ro(e),n),r&&(n=An(n,Q|M|P,wf));for(var o=t.length;o--;)Eo(n,t[o]);return n});function T_(e,t){return vu(e,Ni(We(t)))}var S_=Bn(function(e,t){return e==null?{}:ef(e,t)});function vu(e,t){if(e==null)return{};var n=Mt(Ro(e),function(r){return[r]});return t=We(t),us(e,n,function(r,o){return t(r,o[0])})}function O_(e,t,n){t=tr(t,e);var r=-1,o=t.length;for(o||(o=1,e=i);++r<o;){var u=e==null?i:e[Dn(t[r])];u===i&&(r=o,u=n),e=Hn(u)?u.call(e):u}return e}function M_(e,t,n){return e==null?e:Vr(e,t,n)}function I_(e,t,n,r){return r=typeof r=="function"?r:i,e==null?e:Vr(e,t,n,r)}var mu=Ms(qt),yu=Ms(ln);function F_(e,t,n){var r=nt(e),o=r||rr(e)||Rr(e);if(t=We(t,4),n==null){var u=e&&e.constructor;o?n=r?new u:[]:It(e)?n=Hn(u)?Mr(fi(e)):{}:n={}}return(o?wn:Pn)(e,function(d,v,E){return t(n,d,v,E)}),n}function P_(e,t){return e==null?!0:Eo(e,t)}function R_(e,t,n){return e==null?e:hs(e,t,Oo(n))}function D_(e,t,n,r){return r=typeof r=="function"?r:i,e==null?e:hs(e,t,Oo(n),r)}function Dr(e){return e==null?[]:ao(e,qt(e))}function L_(e){return e==null?[]:ao(e,ln(e))}function N_(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=En(n),n=n===n?n:0),t!==i&&(t=En(t),t=t===t?t:0),_r(En(e),t,n)}function W_(e,t,n){return t=qn(t),n===i?(n=t,t=0):n=qn(n),e=En(e),Hc(e,t,n)}function z_(e,t,n){if(n&&typeof n!="boolean"&&tn(e,t,n)&&(t=n=i),n===i&&(typeof t=="boolean"?(n=t,t=i):typeof e=="boolean"&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=qn(e),t===i?(t=e,e=0):t=qn(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Ha();return Yt(e+o*(t-e+pl("1e-"+((o+"").length-1))),t)}return Ao(e,t)}var U_=Fr(function(e,t,n){return t=t.toLowerCase(),e+(n?wu(t):t)});function wu(e){return jo(At(e).toLowerCase())}function bu(e){return e=At(e),e&&e.replace(et,Ol).replace(al,"")}function B_(e,t,n){e=At(e),t=_n(t);var r=e.length;n=n===i?r:_r(it(n),0,r);var o=n;return n-=t.length,n>=0&&e.slice(n,o)==t}function $_(e){return e=At(e),e&&me.test(e)?e.replace(ve,Ml):e}function H_(e){return e=At(e),e&&Sn.test(e)?e.replace(Vt,"\\$&"):e}var q_=Fr(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),G_=Fr(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),J_=ks("toLowerCase");function K_(e,t,n){e=At(e),t=it(t);var r=t?Cr(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Si(gi(o),n)+e+Si(_i(o),n)}function V_(e,t,n){e=At(e),t=it(t);var r=t?Cr(e):0;return t&&r<t?e+Si(t-r,n):e}function Y_(e,t,n){e=At(e),t=it(t);var r=t?Cr(e):0;return t&&r<t?Si(t-r,n)+e:e}function j_(e,t,n){return n||t==null?t=0:t&&(t=+t),nc(At(e).replace(Vn,""),t||0)}function X_(e,t,n){return(n?tn(e,t,n):t===i)?t=1:t=it(t),ko(At(e),t)}function Z_(){var e=arguments,t=At(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var Q_=Fr(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function eg(e,t,n){return n&&typeof n!="number"&&tn(e,t,n)&&(t=n=i),n=n===i?re:n>>>0,n?(e=At(e),e&&(typeof t=="string"||t!=null&&!Ko(t))&&(t=_n(t),!t&&kr(e))?nr(On(e),0,n):e.split(t,n)):[]}var tg=Fr(function(e,t,n){return e+(n?" ":"")+jo(t)});function ng(e,t,n){return e=At(e),n=n==null?0:_r(it(n),0,e.length),t=_n(t),e.slice(n,n+t.length)==t}function rg(e,t,n){var r=s.templateSettings;n&&tn(e,t,n)&&(t=i),e=At(e),t=Ui({},t,r,Is);var o=Ui({},t.imports,r.imports,Is),u=qt(o),d=ao(o,u),v,E,Z=0,te=t.interpolate||Re,se="__p += '",we=uo((t.escape||Re).source+"|"+te.source+"|"+(te===qe?g:Re).source+"|"+(t.evaluate||Re).source+"|$","g"),Oe="//# sourceURL="+(kt.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++fl+"]")+`
`;e.replace(we,function(Be,dt,_t,pn,nn,vn){return _t||(_t=pn),se+=e.slice(Z,vn).replace(Fe,Il),dt&&(v=!0,se+=`' +
__e(`+dt+`) +
'`),nn&&(E=!0,se+=`';
`+nn+`;
__p += '`),_t&&(se+=`' +
((__t = (`+_t+`)) == null ? '' : __t) +
'`),Z=vn+Be.length,Be}),se+=`';
`;var Ue=kt.call(t,"variable")&&t.variable;if(!Ue)se=`with (obj) {
`+se+`
}
`;else if(R.test(Ue))throw new tt(N);se=(E?se.replace(fn,""):se).replace(Ft,"$1").replace(xt,"$1;"),se="function("+(Ue||"obj")+`) {
`+(Ue?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(v?", __e = _.escape":"")+(E?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+se+`return __p
}`;var st=Au(function(){return mt(u,Oe+"return "+se).apply(i,d)});if(st.source=se,Jo(st))throw st;return st}function ig(e){return At(e).toLowerCase()}function og(e){return At(e).toUpperCase()}function ag(e,t,n){if(e=At(e),e&&(n||t===i))return Fa(e);if(!e||!(t=_n(t)))return e;var r=On(e),o=On(t),u=Pa(r,o),d=Ra(r,o)+1;return nr(r,u,d).join("")}function sg(e,t,n){if(e=At(e),e&&(n||t===i))return e.slice(0,La(e)+1);if(!e||!(t=_n(t)))return e;var r=On(e),o=Ra(r,On(t))+1;return nr(r,0,o).join("")}function ug(e,t,n){if(e=At(e),e&&(n||t===i))return e.replace(Vn,"");if(!e||!(t=_n(t)))return e;var r=On(e),o=Pa(r,On(t));return nr(r,o).join("")}function lg(e,t){var n=De,r=ot;if(It(t)){var o="separator"in t?t.separator:o;n="length"in t?it(t.length):n,r="omission"in t?_n(t.omission):r}e=At(e);var u=e.length;if(kr(e)){var d=On(e);u=d.length}if(n>=u)return e;var v=n-Cr(r);if(v<1)return r;var E=d?nr(d,0,v).join(""):e.slice(0,v);if(o===i)return E+r;if(d&&(v+=E.length-v),Ko(o)){if(e.slice(v).search(o)){var Z,te=E;for(o.global||(o=uo(o.source,At(S.exec(o))+"g")),o.lastIndex=0;Z=o.exec(te);)var se=Z.index;E=E.slice(0,se===i?v:se)}}else if(e.indexOf(_n(o),v)!=v){var we=E.lastIndexOf(o);we>-1&&(E=E.slice(0,we))}return E+r}function cg(e){return e=At(e),e&&ge.test(e)?e.replace(Ce,Wl):e}var fg=Fr(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),jo=ks("toUpperCase");function xu(e,t,n){return e=At(e),t=n?i:t,t===i?Pl(e)?Bl(e):kl(e):e.match(t)||[]}var Au=ut(function(e,t){try{return dn(e,i,t)}catch(n){return Jo(n)?n:new tt(n)}}),dg=Bn(function(e,t){return wn(t,function(n){n=Dn(n),zn(e,n,qo(e[n],e))}),e});function hg(e){var t=e==null?0:e.length,n=We();return e=t?Mt(e,function(r){if(typeof r[1]!="function")throw new bn(x);return[n(r[0]),r[1]]}):[],ut(function(r){for(var o=-1;++o<t;){var u=e[o];if(dn(u[0],this,r))return dn(u[1],this,r)}})}function _g(e){return Wc(An(e,Q))}function Xo(e){return function(){return e}}function gg(e,t){return e==null||e!==e?t:e}var pg=Es(),vg=Es(!0);function cn(e){return e}function Zo(e){return ns(typeof e=="function"?e:An(e,Q))}function mg(e){return is(An(e,Q))}function yg(e,t){return os(e,An(t,Q))}var wg=ut(function(e,t){return function(n){return Jr(n,e,t)}}),bg=ut(function(e,t){return function(n){return Jr(e,n,t)}});function Qo(e,t,n){var r=qt(t),o=bi(t,r);n==null&&!(It(t)&&(o.length||!r.length))&&(n=t,t=e,e=this,o=bi(t,qt(t)));var u=!(It(n)&&"chain"in n)||!!n.chain,d=Hn(e);return wn(o,function(v){var E=t[v];e[v]=E,d&&(e.prototype[v]=function(){var Z=this.__chain__;if(u||Z){var te=e(this.__wrapped__),se=te.__actions__=sn(this.__actions__);return se.push({func:E,args:arguments,thisArg:e}),te.__chain__=Z,te}return E.apply(e,jn([this.value()],arguments))})}),e}function xg(){return Jt._===this&&(Jt._=Kl),this}function ea(){}function Ag(e){return e=it(e),ut(function(t){return as(t,e)})}var kg=Io(Mt),Cg=Io(Ta),Eg=Io(to);function ku(e){return Wo(e)?no(Dn(e)):tf(e)}function Tg(e){return function(t){return e==null?i:gr(e,t)}}var Sg=Ss(),Og=Ss(!0);function ta(){return[]}function na(){return!1}function Mg(){return{}}function Ig(){return""}function Fg(){return!0}function Pg(e,t){if(e=it(e),e<1||e>ae)return[];var n=re,r=Yt(e,re);t=We(t),e-=re;for(var o=oo(r,t);++n<e;)t(n);return o}function Rg(e){return nt(e)?Mt(e,Dn):gn(e)?[e]:sn(qs(At(e)))}function Dg(e){var t=++Gl;return At(e)+t}var Lg=Ti(function(e,t){return e+t},0),Ng=Fo("ceil"),Wg=Ti(function(e,t){return e/t},1),zg=Fo("floor");function Ug(e){return e&&e.length?wi(e,cn,vo):i}function Bg(e,t){return e&&e.length?wi(e,We(t,2),vo):i}function $g(e){return Ma(e,cn)}function Hg(e,t){return Ma(e,We(t,2))}function qg(e){return e&&e.length?wi(e,cn,bo):i}function Gg(e,t){return e&&e.length?wi(e,We(t,2),bo):i}var Jg=Ti(function(e,t){return e*t},1),Kg=Fo("round"),Vg=Ti(function(e,t){return e-t},0);function Yg(e){return e&&e.length?io(e,cn):0}function jg(e,t){return e&&e.length?io(e,We(t,2)):0}return s.after=mh,s.ary=tu,s.assign=o_,s.assignIn=gu,s.assignInWith=Ui,s.assignWith=a_,s.at=s_,s.before=nu,s.bind=qo,s.bindAll=dg,s.bindKey=ru,s.castArray=Mh,s.chain=Zs,s.chunk=zf,s.compact=Uf,s.concat=Bf,s.cond=hg,s.conforms=_g,s.constant=Xo,s.countBy=Yd,s.create=u_,s.curry=iu,s.curryRight=ou,s.debounce=au,s.defaults=l_,s.defaultsDeep=c_,s.defer=yh,s.delay=wh,s.difference=$f,s.differenceBy=Hf,s.differenceWith=qf,s.drop=Gf,s.dropRight=Jf,s.dropRightWhile=Kf,s.dropWhile=Vf,s.fill=Yf,s.filter=Xd,s.flatMap=eh,s.flatMapDeep=th,s.flatMapDepth=nh,s.flatten=Vs,s.flattenDeep=jf,s.flattenDepth=Xf,s.flip=bh,s.flow=pg,s.flowRight=vg,s.fromPairs=Zf,s.functions=v_,s.functionsIn=m_,s.groupBy=rh,s.initial=ed,s.intersection=td,s.intersectionBy=nd,s.intersectionWith=rd,s.invert=w_,s.invertBy=b_,s.invokeMap=oh,s.iteratee=Zo,s.keyBy=ah,s.keys=qt,s.keysIn=ln,s.map=Ri,s.mapKeys=A_,s.mapValues=k_,s.matches=mg,s.matchesProperty=yg,s.memoize=Li,s.merge=C_,s.mergeWith=pu,s.method=wg,s.methodOf=bg,s.mixin=Qo,s.negate=Ni,s.nthArg=Ag,s.omit=E_,s.omitBy=T_,s.once=xh,s.orderBy=sh,s.over=kg,s.overArgs=Ah,s.overEvery=Cg,s.overSome=Eg,s.partial=Go,s.partialRight=su,s.partition=uh,s.pick=S_,s.pickBy=vu,s.property=ku,s.propertyOf=Tg,s.pull=sd,s.pullAll=js,s.pullAllBy=ud,s.pullAllWith=ld,s.pullAt=cd,s.range=Sg,s.rangeRight=Og,s.rearg=kh,s.reject=fh,s.remove=fd,s.rest=Ch,s.reverse=$o,s.sampleSize=hh,s.set=M_,s.setWith=I_,s.shuffle=_h,s.slice=dd,s.sortBy=vh,s.sortedUniq=yd,s.sortedUniqBy=wd,s.split=eg,s.spread=Eh,s.tail=bd,s.take=xd,s.takeRight=Ad,s.takeRightWhile=kd,s.takeWhile=Cd,s.tap=Ud,s.throttle=Th,s.thru=Pi,s.toArray=du,s.toPairs=mu,s.toPairsIn=yu,s.toPath=Rg,s.toPlainObject=_u,s.transform=F_,s.unary=Sh,s.union=Ed,s.unionBy=Td,s.unionWith=Sd,s.uniq=Od,s.uniqBy=Md,s.uniqWith=Id,s.unset=P_,s.unzip=Ho,s.unzipWith=Xs,s.update=R_,s.updateWith=D_,s.values=Dr,s.valuesIn=L_,s.without=Fd,s.words=xu,s.wrap=Oh,s.xor=Pd,s.xorBy=Rd,s.xorWith=Dd,s.zip=Ld,s.zipObject=Nd,s.zipObjectDeep=Wd,s.zipWith=zd,s.entries=mu,s.entriesIn=yu,s.extend=gu,s.extendWith=Ui,Qo(s,s),s.add=Lg,s.attempt=Au,s.camelCase=U_,s.capitalize=wu,s.ceil=Ng,s.clamp=N_,s.clone=Ih,s.cloneDeep=Ph,s.cloneDeepWith=Rh,s.cloneWith=Fh,s.conformsTo=Dh,s.deburr=bu,s.defaultTo=gg,s.divide=Wg,s.endsWith=B_,s.eq=In,s.escape=$_,s.escapeRegExp=H_,s.every=jd,s.find=Zd,s.findIndex=Js,s.findKey=f_,s.findLast=Qd,s.findLastIndex=Ks,s.findLastKey=d_,s.floor=zg,s.forEach=Qs,s.forEachRight=eu,s.forIn=h_,s.forInRight=__,s.forOwn=g_,s.forOwnRight=p_,s.get=Vo,s.gt=Lh,s.gte=Nh,s.has=y_,s.hasIn=Yo,s.head=Ys,s.identity=cn,s.includes=ih,s.indexOf=Qf,s.inRange=W_,s.invoke=x_,s.isArguments=mr,s.isArray=nt,s.isArrayBuffer=Wh,s.isArrayLike=un,s.isArrayLikeObject=Lt,s.isBoolean=zh,s.isBuffer=rr,s.isDate=Uh,s.isElement=Bh,s.isEmpty=$h,s.isEqual=Hh,s.isEqualWith=qh,s.isError=Jo,s.isFinite=Gh,s.isFunction=Hn,s.isInteger=uu,s.isLength=Wi,s.isMap=lu,s.isMatch=Jh,s.isMatchWith=Kh,s.isNaN=Vh,s.isNative=Yh,s.isNil=Xh,s.isNull=jh,s.isNumber=cu,s.isObject=It,s.isObjectLike=Rt,s.isPlainObject=Zr,s.isRegExp=Ko,s.isSafeInteger=Zh,s.isSet=fu,s.isString=zi,s.isSymbol=gn,s.isTypedArray=Rr,s.isUndefined=Qh,s.isWeakMap=e_,s.isWeakSet=t_,s.join=id,s.kebabCase=q_,s.last=Cn,s.lastIndexOf=od,s.lowerCase=G_,s.lowerFirst=J_,s.lt=n_,s.lte=r_,s.max=Ug,s.maxBy=Bg,s.mean=$g,s.meanBy=Hg,s.min=qg,s.minBy=Gg,s.stubArray=ta,s.stubFalse=na,s.stubObject=Mg,s.stubString=Ig,s.stubTrue=Fg,s.multiply=Jg,s.nth=ad,s.noConflict=xg,s.noop=ea,s.now=Di,s.pad=K_,s.padEnd=V_,s.padStart=Y_,s.parseInt=j_,s.random=z_,s.reduce=lh,s.reduceRight=ch,s.repeat=X_,s.replace=Z_,s.result=O_,s.round=Kg,s.runInContext=b,s.sample=dh,s.size=gh,s.snakeCase=Q_,s.some=ph,s.sortedIndex=hd,s.sortedIndexBy=_d,s.sortedIndexOf=gd,s.sortedLastIndex=pd,s.sortedLastIndexBy=vd,s.sortedLastIndexOf=md,s.startCase=tg,s.startsWith=ng,s.subtract=Vg,s.sum=Yg,s.sumBy=jg,s.template=rg,s.times=Pg,s.toFinite=qn,s.toInteger=it,s.toLength=hu,s.toLower=ig,s.toNumber=En,s.toSafeInteger=i_,s.toString=At,s.toUpper=og,s.trim=ag,s.trimEnd=sg,s.trimStart=ug,s.truncate=lg,s.unescape=cg,s.uniqueId=Dg,s.upperCase=fg,s.upperFirst=jo,s.each=Qs,s.eachRight=eu,s.first=Ys,Qo(s,function(){var e={};return Pn(s,function(t,n){kt.call(s.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),s.VERSION=h,wn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){s[e].placeholder=s}),wn(["drop","take"],function(e,t){ht.prototype[e]=function(n){n=n===i?1:$t(it(n),0);var r=this.__filtered__&&!t?new ht(this):this.clone();return r.__filtered__?r.__takeCount__=Yt(n,r.__takeCount__):r.__views__.push({size:Yt(n,re),type:e+(r.__dir__<0?"Right":"")}),r},ht.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),wn(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==Y||n==I;ht.prototype[e]=function(o){var u=this.clone();return u.__iteratees__.push({iteratee:We(o,3),type:n}),u.__filtered__=u.__filtered__||r,u}}),wn(["head","last"],function(e,t){var n="take"+(t?"Right":"");ht.prototype[e]=function(){return this[n](1).value()[0]}}),wn(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");ht.prototype[e]=function(){return this.__filtered__?new ht(this):this[n](1)}}),ht.prototype.compact=function(){return this.filter(cn)},ht.prototype.find=function(e){return this.filter(e).head()},ht.prototype.findLast=function(e){return this.reverse().find(e)},ht.prototype.invokeMap=ut(function(e,t){return typeof e=="function"?new ht(this):this.map(function(n){return Jr(n,e,t)})}),ht.prototype.reject=function(e){return this.filter(Ni(We(e)))},ht.prototype.slice=function(e,t){e=it(e);var n=this;return n.__filtered__&&(e>0||t<0)?new ht(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(t=it(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},ht.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ht.prototype.toArray=function(){return this.take(re)},Pn(ht.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=s[r?"take"+(t=="last"?"Right":""):t],u=r||/^find/.test(t);o&&(s.prototype[t]=function(){var d=this.__wrapped__,v=r?[1]:arguments,E=d instanceof ht,Z=v[0],te=E||nt(d),se=function(dt){var _t=o.apply(s,jn([dt],v));return r&&we?_t[0]:_t};te&&n&&typeof Z=="function"&&Z.length!=1&&(E=te=!1);var we=this.__chain__,Oe=!!this.__actions__.length,Ue=u&&!we,st=E&&!Oe;if(!u&&te){d=st?d:new ht(this);var Be=e.apply(d,v);return Be.__actions__.push({func:Pi,args:[se],thisArg:i}),new xn(Be,we)}return Ue&&st?e.apply(this,v):(Be=this.thru(se),Ue?r?Be.value()[0]:Be.value():Be)})}),wn(["pop","push","shift","sort","splice","unshift"],function(e){var t=oi[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);s.prototype[e]=function(){var o=arguments;if(r&&!this.__chain__){var u=this.value();return t.apply(nt(u)?u:[],o)}return this[n](function(d){return t.apply(nt(d)?d:[],o)})}}),Pn(ht.prototype,function(e,t){var n=s[t];if(n){var r=n.name+"";kt.call(Or,r)||(Or[r]=[]),Or[r].push({name:t,func:n})}}),Or[Ei(i,ee).name]=[{name:"wrapper",func:i}],ht.prototype.clone=lc,ht.prototype.reverse=cc,ht.prototype.value=fc,s.prototype.at=Bd,s.prototype.chain=$d,s.prototype.commit=Hd,s.prototype.next=qd,s.prototype.plant=Jd,s.prototype.reverse=Kd,s.prototype.toJSON=s.prototype.valueOf=s.prototype.value=Vd,s.prototype.first=s.prototype.head,zr&&(s.prototype[zr]=Gd),s},Er=$l();cr?((cr.exports=Er)._=Er,Xi._=Er):Jt._=Er}).call(Qr)})($i,$i.exports);var bp=$i.exports;const xp=rp(bp),Ap={props:{value:{type:Number,default:null},text:{type:String,default:""},allowNil:{type:Boolean}},computed:{isNA(){return!(this.allowNil||xp.isFinite(this.value))}}};function kp(y,a,i,h,_,f){return $e(),Ve("span",{class:on(["value-text",{underline:f.isNA}])},Kn(i.text),3)}const qu=sr(Ap,[["render",kp]]),Cp=["colspan","title"],Ep={key:0},Tp=O("path",{"data-v-ae951afa":"",d:"M5.79 15.013H3.778V7.806H.813L4.808.398l4.004 7.408H5.791v7.207z",fill:"currentColor"},null,-1),Sp=[Tp],Op={components:{cell_content:qu},props:{value:{type:Number,default:null},tooltip:{type:null,default:null},visible:{type:Boolean,default:!0},colored:{type:Boolean,default:!0},highlighted:{type:Boolean,default:!1},arrow:{type:Boolean,default:!1},formatter:{type:Function,required:!0},align:{type:String,validator:function(y){return["left","center","right"].includes(y)},default:"right"},span:{type:Number,default:1}},computed:{effective_value(){return this.value},font_color(){return this.colored?this.value>0?"green":this.value<0?"red":"":"black"},show_arrow(){return this.arrow&&this.value!=0},formatted_value(){return this.formatter(this.value)}}},Nr=Object.assign(Op,{__name:"td_value",setup(y){return(a,i)=>($e(),Ve("td",{colspan:y.span,class:"td-value",title:y.tooltip},[y.visible&&y.value?($e(),Ve("div",Ep,[O("div",{class:on(["nowrap","flex-container",y.align])},[J(qu,{class:on([a.font_color,{highlighted:y.highlighted},{textColor:a.font_color}]),value:a.effective_value,text:a.formatted_value},null,8,["class","value","text"]),a.show_arrow?($e(),Ve("svg",{key:0,viewBox:"0 0 9 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:on(["arrow-icon",[a.font_color]])},Sp,2)):Ot("",!0)],2)])):Ot("",!0)],8,Cp))}}),Mp={props:{market:{type:String,default:""},symbol:{type:String,default:""},name:{type:String,default:""}},methods:{default_logo_path(y){y.target.src="https://portfoliotech.github.io/investify/static/img/default_logo.png"}},computed:{company_symbol(){return this.symbol=="REALCASH"?"CASH":this.symbol},company_name(){return this.symbol=="REALCASH"?"CASH BALANCE":this.name},logo_path(){return this.symbol=="REALCASH"?"https://portfoliotech.github.io/investify/static/img/cash.png":"https://data.wealthica.com/api/securities/"+this.market.substr(0,2)+":"+this.symbol+"/logo"}}},Ip=["title"],Fp={class:"company-data-wraper"},Pp={class:""},Rp=["src"],Dp={class:"company-data"},Lp={class:"company-symbol"},Np={class:"company-name"};function Wp(y,a,i,h,_,f){return $e(),Ve("td",{class:"company-cell",title:f.company_name},[O("div",Fp,[O("div",Pp,[O("img",{src:f.logo_path,onError:a[0]||(a[0]=(...x)=>f.default_logo_path&&f.default_logo_path(...x)),alt:"company_symbol",class:"logo"},null,40,Rp)]),O("div",Dp,[O("div",Lp,Kn(f.company_symbol),1),O("div",Np,Kn(f.company_name),1)])])],8,Ip)}const Hi=sr(Mp,[["render",Wp]]),zp={props:{institution:{type:String,default:""},name:{type:String,default:""},number:{type:String,default:""},type:{type:String,default:""},currency:{type:String,default:""},show_expand:{type:Boolean,default:!0},expanded:{type:Boolean,default:!0}},emits:["toggle"],methods:{toggle(){this.$emit("toggle")}},computed:{institution_icon(){if(this.institution=="--")switch(this.currency){case"cad":return"https://portfoliotech.github.io/investify/static/img/cad.png";case"usd":return"https://portfoliotech.github.io/investify/static/img/usd.png";default:return"https://portfoliotech.github.io/investify/static/expanded.png"}else return"https://app.wealthica.com/images/institutions/"+this.institution+".png"}}},Up={class:"account-cell",colspan:"5"},Bp={class:"account-data-wraper"},$p={class:"account-identifier"},Hp=["src"],qp={class:"account-name"},Gp={key:0,class:"toggle-arrow"},Jp={class:"account-details"},Kp={class:"account-number"},Vp={class:"account-type"};function Yp(y,a,i,h,_,f){return $e(),Ve("td",Up,[O("div",Bp,[O("div",$p,[O("div",null,[O("img",{src:f.institution_icon,class:"institution-icon"},null,8,Hp)]),O("div",qp,Kn(i.name),1),i.show_expand?($e(),Ve("div",Gp,[O("img",{src:"https://app.wealthica.com/img/arrow_down.f6ca09b2.svg",width:"13",height:"8",class:on({expand:i.expanded}),onClick:a[0]||(a[0]=Qg((...x)=>f.toggle&&f.toggle(...x),["stop"]))},null,2)])):Ot("",!0)]),O("div",Jp,[O("div",Kp,Kn(i.number),1),O("div",Vp,Kn(i.type),1)])])])}const qi=sr(zp,[["render",Yp]]),or={number:new Intl.NumberFormat("en-US"),money:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),price:new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}),percent:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2}),xrate:new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}),long_date:new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),long_datetime:new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1})},rn={number(y){return or.number.format(y)},money(y){return or.money.format(y)},money_plus(y){return(y>0?"+":"")+or.money.format(y)},price(y){return or.price.format(y)},percent(y){return or.percent.format(y)},long_date(y){let a=new Date(y);return isNaN(a.getTime())?"Invalid":or.long_date.format(a)},long_datetime(y){let a=new Date(y);return isNaN(a.getTime())?"Invalid":or.long_datetime.format(a)},xrate_cad(y){return`1 USD = ${or.xrate.format(y)} CAD`},tip_daily_change(y,a){return rn.money_plus(y)+" on "+rn.long_datetime(a)},tip_xrate(y,a){return y==="usd"?`1 USD = ${rn.xrate_cad(a)} CAD`:null}},jp={components:{td_value:Nr}},Ee=Object.assign(jp,{__name:"td_money",setup(y){return(a,i)=>($e(),Bi(Nr,{formatter:Ht(rn).money,class:"justify-right"},null,8,["formatter"]))}}),Xp={components:{td_value:Nr}},pt=Object.assign(Xp,{__name:"td_percent",setup(y){return(a,i)=>($e(),Bi(Nr,{formatter:Ht(rn).percent,class:"justify-right"},null,8,["formatter"]))}}),Zp={key:0,id:"portfolio"},Qp={class:"portfolio"},ev={id:"tr_accounts_header_1"},tv=O("th",{colspan:"5"},null,-1),nv=O("th",{colspan:"7"},null,-1),rv=O("tr",{id:"tr_accounts_header_2",class:"show-separator-line"},[O("th",{colspan:"5",class:"justify-left"},"Accounts"),O("th",null,"Gain $"),O("th",null,"Gain %"),O("th",null,"Gain $"),O("th",null,"Gain %"),O("th",{colspan:"2"},"CAD"),O("th",{colspan:"2"},"USD"),O("th",{colspan:"2"},"Total CAD"),O("th",null,"Portfolio")],-1),iv={key:0,class:"spacer"},ov={key:1,id:"holdings_header_1",class:"spacer"},av=O("th",null,null,-1),sv=O("th",null,null,-1),uv=O("th",null,null,-1),lv=O("th",null,null,-1),cv={key:2,id:"holdings_header_2",class:"show-separator-line"},fv=O("th",{class:"justify-left"},"Company",-1),dv=O("th",null,null,-1),hv=O("th",{class:"justify-center"},"Qty",-1),_v=O("th",null,"Price",-1),gv=O("th",null,"Value",-1),pv=O("th",null,"Gain $",-1),vv=O("th",null,"Gain %",-1),mv=O("th",null,"Gain $",-1),yv=O("th",null,"Gain %",-1),wv=O("th",null,"low",-1),bv=O("th",null,"high",-1),xv=O("th",null,"Price",-1),Av=O("th",null,"Value",-1),kv=O("th",null,"Price",-1),Cv=O("th",null,"Value",-1),Ev=O("th",null,"Weigth",-1),Tv=[fv,dv,hv,_v,gv,pv,vv,mv,yv,wv,bv,xv,Av,kv,Cv,Ev],Sv={id:"holdings",class:"holdings"},Ov=O("td",{class:"fill-space"},null,-1),Mv={id:"cash",class:"holdings"},Iv=O("td",{class:"fill-space"},null,-1),Fv=O("td",{colspan:"10"},null,-1),Pv=O("td",null,null,-1),Rv={key:5,id:"holdings_totals",class:"show-total-line"},Dv=O("td",{colspan:"4",class:"justify-left"},"Total",-1),Lv=O("td",null,null,-1),Nv=O("td",null,null,-1),Wv=O("td",null,null,-1),zv=O("td",null,null,-1),Uv={key:1,id:"accounts_footer_spacing",class:"accounts-footer"},Bv=O("td",{colspan:"16"},null,-1),$v=[Bv],Hv={id:"portfolio_totals",class:"show-total-line"},qv=O("td",{colspan:"5",class:"justify-left"},"Total",-1),Gv={id:"footer"},Jv=O("div",{style:{height:"20px"}},null,-1),Kv={style:{display:"flex","justify-content":"space-between"}},Vv=["title"],Yv={inject:["data_store","state"],data(){return{accounts:null,totals:null,holdings:null,x_usd:null}},created(){this.load_data()},methods:{load_data(){this.state.loading=!0,this.data_store.load(Gt.x_usd).then(()=>{this.x_usd=this.data_store[Gt.x_usd]}),Promise.all([this.data_store.load(Gt.accounts),this.data_store.load(Gt.holdings),this.data_store.load(Gt.totals)]).then(()=>{this.accounts=this.data_store[Gt.accounts],this.holdings=this.data_store[Gt.holdings],this.totals=this.data_store[Gt.totals],this.state.loading=!1})},refresh_all(){this.state.loading=!0,this.data_store.clear_data(Object.keys(Gt)),this.load_data()},refresh_stock_prices(){this.state.loading=!0,this.data_store.refresh_holdings_stock_prices().then(()=>{this.state.loading=!1})}},computed:{currency_info(){if(this.x_usd){let y=this.x_usd.id.toUpperCase(),a=(1/this.x_usd.rate).toFixed(4),i=this.x_usd.rate.toFixed(4);return`1 ${y} = ${a} CAD, 1 CAD = ${i} ${y}`}else return"undefined"},currency_date(){return this.x_usd?rn.long_datetime(this.x_usd.date):"undefined"}}},Su=Object.assign(Yv,{__name:"portfolio",setup(y){return(a,i)=>($e(),Ve(Tn,null,[a.accounts&&a.accounts.length?($e(),Ve("div",Zp,[O("table",Qp,[O("thead",null,[O("tr",ev,[tv,J(Xt,{group_name:"Daily CAD"}),J(Xt,{group_name:"Overall CAD"}),nv]),rv]),a.accounts?($e(!0),Ve(Tn,{key:0},ar(a.accounts,h=>($e(),Ve("tbody",{key:h.account_number},[O("tr",{id:"accounts",class:on(["accounts",[{expanded:h.expanded}]])},[J(qi,{institution:h.institution.type,name:h.name,number:h.number,type:h.type,show_expand:!h.no_holdings,expanded:h.expanded,onToggle:_=>h.expanded=!h.expanded},null,8,["institution","name","number","type","show_expand","expanded","onToggle"]),J(Ee,{value:a.totals.accounts[h.number].gain_daily_amount_CAD,highlighted:!0},null,8,["value"]),J(pt,{value:a.totals.accounts[h.number].gain_daily_percent,arrow:!0},null,8,["value"]),J(Ee,{value:a.totals.accounts[h.number].gain_overall_amount_CAD,highlighted:!0},null,8,["value"]),J(pt,{value:a.totals.accounts[h.number].gain_overall_percent,arrow:!0},null,8,["value"]),J(Ee,{span:2,value:a.totals.accounts[h.number].market_value_CAD,colored:!1},null,8,["value"]),J(Ee,{span:2,value:a.totals.accounts[h.number].market_value_USD,colored:!1},null,8,["value"]),J(Ee,{span:2,value:a.totals.accounts[h.number].market_total_CAD},null,8,["value"]),J(pt,{value:a.totals.accounts[h.number].weight_portfolio,colored:!1},null,8,["value"])],2),h.expanded&&h.subaccounts&&h.subaccounts.length?($e(!0),Ve(Tn,{key:0},ar(h.subaccounts,_=>($e(),Ve(Tn,{key:_.id},[O("tr",{id:"subaccounts",class:on(["subaccounts",[{expanded:_.expanded}]])},[J(qi,{institution:"--",name:_.name,currency:_.currency,expanded:_.expanded,onToggle:f=>_.expanded=!_.expanded},null,8,["name","currency","expanded","onToggle"]),J(Ee,{value:a.totals.accounts[h.number][_.id].gain_daily_amount,highlighted:!0,visible:!_.expanded},null,8,["value","visible"]),J(pt,{value:a.totals.accounts[h.number][_.id].gain_daily_percent,arrow:!0,visible:!_.expanded},null,8,["value","visible"]),J(Ee,{value:a.totals.accounts[h.number][_.id].gain_overall_amount,highlighted:!0,visible:!_.expanded},null,8,["value","visible"]),J(pt,{value:a.totals.accounts[h.number][_.id].gain_overall_percent,arrow:!0,visible:!_.expanded},null,8,["value","visible"]),J(Ee,{span:2,value:a.totals.accounts[h.number][_.id].market_value_CAD,colored:!1,visible:!_.expanded},null,8,["value","visible"]),J(Ee,{span:2,value:a.totals.accounts[h.number][_.id].market_value_USD,colored:!1,visible:!_.expanded},null,8,["value","visible"]),J(Ee,{span:2,value:a.totals.accounts[h.number][_.id].market_total_CAD,visible:!_.expanded},null,8,["value","visible"]),J(pt,{value:a.totals.accounts[h.number][_.id].weight_account,colored:!1,visible:!_.expanded},null,8,["value","visible"])],2),_.expanded?($e(),Ve("tr",iv)):Ot("",!0),_.expanded?($e(),Ve("tr",ov,[av,sv,uv,J(Xt,{group_name:"Book"}),J(Xt,{group_name:"Daily"}),J(Xt,{group_name:"Overall"}),J(Xt,{group_name:"52 weeks"}),J(Xt,{group_name:"Market"}),J(Xt,{group_name:"Market CAD"}),lv])):Ot("",!0),_.expanded?($e(),Ve("tr",cv,Tv)):Ot("",!0),_.expanded?($e(!0),Ve(Tn,{key:3},ar(a.holdings.filter(f=>f.subaccount_id==_.id&&!f.cash),f=>($e(),Ve("tr",Sv,[J(Hi,{market:f.market,symbol:f.symbol,name:f.name},null,8,["market","symbol","name"]),Ov,J(Nr,{value:f.quantity,formatter:Ht(rn).number,align:"center",colored:!1},null,8,["value","formatter"]),J(Ee,{value:f.values.book_price,colored:!1,tooltip:Ht(rn).price(f.values.book_price)},null,8,["value","tooltip"]),J(Ee,{value:f.values.book_value,colored:!1},null,8,["value"]),J(Ee,{value:f.values.gain_daily_amount,highlighted:!0,tooltip:Ht(rn).tip_daily_change(f.values.daily_change,f.values.market_date)},null,8,["value","tooltip"]),J(pt,{value:f.values.gain_daily_percent,arrow:!0,tooltip:Ht(rn).tip_daily_change(f.values.daily_change,f.values.market_date)},null,8,["value","tooltip"]),J(Ee,{value:f.values.gain_overall_amount,highlighted:!0},null,8,["value"]),J(pt,{value:f.values.gain_overall_percent,arrow:!0},null,8,["value"]),J(Ee,{value:f.history.low.value,colored:!1,tooltip:Ht(rn).long_date(f.history.low.date)},null,8,["value","tooltip"]),J(Ee,{value:f.history.high.value,colored:!1,tooltip:Ht(rn).long_date(f.history.high.date)},null,8,["value","tooltip"]),J(Ee,{value:f.values.market_price,colored:!1,tooltip:Ht(rn).long_datetime(f.values.market_date)},null,8,["value","tooltip"]),J(Ee,{value:f.values.market_value,colored:!1},null,8,["value"]),J(Ee,{value:f.values.market_price_CAD,tooltip:Ht(rn).tip_xrate(f.currency,f.xrate)},null,8,["value","tooltip"]),J(Ee,{value:f.values.market_value_CAD,tooltip:Ht(rn).tip_xrate(f.currency,f.xrate)},null,8,["value","tooltip"]),J(pt,{value:f.values.weight_account,colored:!1},null,8,["value"])]))),256)):Ot("",!0),_.expanded?($e(!0),Ve(Tn,{key:4},ar(a.holdings.filter(f=>f.subaccount_id==_.id&&f.cash),f=>($e(),Ve("tr",Mv,[J(Hi,{market:f.market,symbol:f.symbol,name:f.name},null,8,["market","symbol","name"]),Iv,Fv,J(Ee,{value:f.values.market_value,colored:!1},null,8,["value"]),Pv,J(Ee,{value:f.values.market_value_CAD},null,8,["value"]),J(pt,{value:f.values.weight_account,colored:!1},null,8,["value"])]))),256)):Ot("",!0),_.expanded?($e(),Ve("tr",Rv,[Dv,J(Ee,{value:a.totals.accounts[h.number][_.id].book_value,colored:!1},null,8,["value"]),J(Ee,{value:a.totals.accounts[h.number][_.id].gain_daily_amount,highlighted:!0},null,8,["value"]),J(pt,{value:a.totals.accounts[h.number][_.id].gain_daily_percent,arrow:!0},null,8,["value"]),J(Ee,{value:a.totals.accounts[h.number][_.id].gain_overall_amount,highlighted:!0},null,8,["value"]),J(pt,{value:a.totals.accounts[h.number][_.id].gain_overall_percent,arrow:!0},null,8,["value"]),Lv,Nv,Wv,J(Ee,{value:a.totals.accounts[h.number][_.id].market_value,colored:!1},null,8,["value"]),zv,J(Ee,{value:a.totals.accounts[h.number][_.id].market_total_CAD},null,8,["value"]),J(pt,{value:a.totals.accounts[h.number][_.id].weight_account,colored:!1},null,8,["value"])])):Ot("",!0)],64))),128)):Ot("",!0),h.expanded?($e(),Ve("tr",Uv,$v)):Ot("",!0)]))),128)):Ot("",!0),O("tfoot",null,[O("tr",Hv,[qv,J(Ee,{value:a.totals.portfolio.gain_daily_amount_CAD,highlighted:!0},null,8,["value"]),J(pt,{value:a.totals.portfolio.gain_daily_percent,arrow:!0},null,8,["value"]),J(Ee,{value:a.totals.portfolio.gain_overall_amount_CAD,highlighted:!0},null,8,["value"]),J(pt,{value:a.totals.portfolio.gain_overall_percent,arrow:!0},null,8,["value"]),J(Ee,{span:2,value:a.totals.portfolio.market_value_CAD,colored:!1},null,8,["value"]),J(Ee,{span:2,value:a.totals.portfolio.market_value_USD,colored:!1},null,8,["value"]),J(Ee,{span:2,value:a.totals.portfolio.market_total_CAD},null,8,["value"]),J(pt,{value:a.totals.portfolio.weight_portfolio,colored:!1},null,8,["value"])])])])])):Ot("",!0),O("div",Gv,[Jv,O("div",Kv,[O("div",null,[a.x_usd?($e(),Ve("div",{key:0,class:"x-rate-info",title:a.currency_date},Kn(a.currency_info),9,Vv)):Ot("",!0)]),O("div",null,[O("button",{onClick:i[0]||(i[0]=(...h)=>a.refresh_all&&a.refresh_all(...h))},"Refresh All"),ep("  "),O("button",{onClick:i[1]||(i[1]=(...h)=>a.refresh_stock_prices&&a.refresh_stock_prices(...h))},"Refresh Prices")])])])],64))}}),Gu={dev:!0,prod:!1,log_all:!1},wr={portfolio_user:"user",portfolio_currencies:"currencies",portfolio_institutions:"institutions",portfolio_positions:"positions",portfolio_holdings:"holdings",portfolio_streams:"streams",portfolio_wallet:"wallet"},Ou={portfolio:[{id:wr.portfolio_user,enabled:!1},{id:wr.portfolio_currencies,enabled:!1},{id:wr.portfolio_institutions,enabled:!1},{id:wr.portfolio_positions,enabled:!1},{id:wr.portfolio_holdings,enabled:!1},{id:wr.portfolio_streams,enabled:!1}],wallet:{id:wr.portfolio_wallet,enabled:!0}};function jv(y){return Nu()&&Gu.prod}function br(y,a){if(y==0)return"";switch(a){case"number":return new Intl.NumberFormat("en-US").format(y);case"money":return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(y);case"money+":return(y>0?"+":"")+new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(y);case"price":return new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}).format(y);case"percent":return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2}).format(y);case"x_rate_CAD":return"1 USD = "+new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}).format(y)+" CAD";case"long_date":let i=new Date(y);return isNaN(i.getTime())?"Invalid":new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(i);case"long_date_hour":let h=new Date(y);return new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).format(h);default:return"Invalid"}}function Mu(y){return br(y,"long_date")}function Xv(y){return br(y,"long_date_hour")}function Iu(y,a){return br(y,"money+")+" on "+br(a,"long_date_hour")}function Fu(y,a){return y=="usd"?br(a,"x_rate_CAD"):null}function Zv(y){return br(y,"price")}const Qv={key:0,id:"wallet"},em={class:"wallet"},tm={id:"tr_accounts_header_1"},nm=O("th",{colspan:"5"},null,-1),rm=O("th",{colspan:"7"},null,-1),im=O("tr",{id:"tr_accounts_header_2",class:"show-separator-line"},[O("th",{colspan:"5",class:"justify-left"},"Accounts"),O("th",null,"Gain $"),O("th",null,"Gain %"),O("th",null,"Gain $"),O("th",null,"Gain %"),O("th",{colspan:"2"},"CAD"),O("th",{colspan:"2"},"USD"),O("th",{colspan:"2"},"Total CAD"),O("th",null,"Portfolio")],-1),om={key:0,class:"spacer"},am={key:1,id:"holdings_header_1",class:"spacer"},sm=O("th",null,null,-1),um=O("th",null,null,-1),lm=O("th",null,null,-1),cm=O("th",null,null,-1),fm={key:2,id:"holdings_header_2",class:"show-separator-line"},dm=O("th",{class:"justify-left"},"Company",-1),hm=O("th",null,null,-1),_m=O("th",{class:"justify-center"},"Qty",-1),gm=O("th",null,"Price",-1),pm=O("th",null,"Value",-1),vm=O("th",null,"Gain $",-1),mm=O("th",null,"Gain %",-1),ym=O("th",null,"Gain $",-1),wm=O("th",null,"Gain %",-1),bm=O("th",null,"low",-1),xm=O("th",null,"high",-1),Am=O("th",null,"Price",-1),km=O("th",null,"Value",-1),Cm=O("th",null,"Price",-1),Em=O("th",null,"Value",-1),Tm=O("th",null,"Weigth",-1),Sm=[dm,hm,_m,gm,pm,vm,mm,ym,wm,bm,xm,Am,km,Cm,Em,Tm],Om={id:"holdings",class:"holdings"},Mm=O("td",{class:"fill-space"},null,-1),Im={id:"cash",class:"holdings"},Fm=O("td",{class:"fill-space"},null,-1),Pm=O("td",{colspan:"10"},null,-1),Rm=O("td",null,null,-1),Dm={key:5,id:"holdings_totals",class:"show-total-line"},Lm=O("td",{colspan:"4",class:"justify-left"},"Total",-1),Nm=O("td",null,null,-1),Wm=O("td",null,null,-1),zm=O("td",null,null,-1),Um=O("td",null,null,-1),Bm={key:1,id:"accounts_footer_spacing",class:"accounts-footer"},$m=O("td",{colspan:"16"},null,-1),Hm=[$m],qm={id:"wallet_totals",class:"show-total-line"},Gm=O("td",{colspan:"5",class:"justify-left"},"Total",-1),Jm={id:"footer"},Km=O("div",{style:{height:"20px"}},null,-1),Vm={style:{display:"flex","justify-content":"space-between"}},Ym=["title"],jm={inject:["data_store"],data(){return{data:{user:[],currencies:[],institutions:[],positions:[],holdings:[],streams:[]},wallet:{user:[],xcurrency:null,accounts:[],values:{daily_gain_amount:0,daily_gain_percent:0,period_gain_amount:0,period_gain_percent:0,overall_gain_amount:0,overall_gain_percent:0,market_value_CAD:0,market_value_USD:0,market_value_totalCAD:0,weight:0}}}},created(){this.fetch_data().then(()=>{this.extract_data()})},methods:{fetch_data(){return Promise.all([this.fetch_user(),this.fetch_currencies(),this.fetch_institutions(),this.fetch_positions()])},fetch_user(){return this.data_store.wealthica.addon.api.getUser().then(y=>{this.data.user=y}).catch(y=>{throw console.error("Error fetching user:",y),y})},fetch_currencies(){return this.data_store.wealthica.addon.request({method:"GET",endpoint:"currencies"}).then(y=>{this.data.currencies=y}).catch(y=>{throw console.error("Error fetching currencies:",y),y})},fetch_institutions(){return this.data_store.wealthica.addon.api.getInstitutions(this.get_query_from_options(this.data_store.wealthica.addon.options)).then(y=>{this.data.institutions=y}).catch(y=>{throw console.error("Error fetching institutions:",y),y})},fetch_positions(){return this.data_store.wealthica.addon.api.getPositions(this.get_query_from_options(this.data_store.wealthica.addon.options)).then(y=>{this.data.positions=y}).catch(y=>{throw console.error("Error fetching positions:",y),y})},fetch_historical_data(y){try{return this.data_store.wealthica.addon.request({method:"GET",endpoint:`securities/${y}/history`})}catch(a){console.error("Error fetching position historical data:",a)}},fetch_stock_prices(y){const a="https://data.wealthica.com/api/streams",i={user:this.wallet.user.email,symbols:y};return fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then(h=>h.json()).catch(h=>{console.log("Error fetching stock pices:",h)})},get_query_from_options(y){return{from:y.dateRangeFilter&&y.dateRangeFilter[0],to:y.dateRangeFilter&&y.dateRangeFilter[1],groups:y.groupsFilter,institutions:y.institutionsFilter,investments:y.investmentsFilter==="all"?null:y.investmentsFilter}},extract_data(){this.extract_user(),this.extract_xcurrency(),this.extract_holdings().then(()=>{this.extract_accounts(),this.refresh_wallet()})},extract_user(){this.wallet.user=this.data.user},extract_xcurrency(){let y=this.data.currencies.find(a=>a._id==="usd");this.wallet.xcurrency=y?{id:y._id,rate:y.exchange_rate,date:y.update_date}:null},extract_holdings(){const y=[];return this.data.positions.forEach(a=>{a.investments.forEach(i=>{const h=this.fetch_historical_data(a.security._id).then(_=>{this.data.holdings.push({account_number:i.investment.split(":")[0],subaccount_id:i.investment,market:i.currency.substring(0,2).toUpperCase(),symbol:a.security.symbol,symbol_mrkt:i.currency.substring(0,2).toUpperCase()+":"+a.security.symbol,name:a.security.name,currency:i.currency,x_rate:i.currency==="usd"?1/this.wallet.xcurrency.rate:1,quantity:i.quantity,cash:a.security.symbol=="REALCASH",history:_,values:{low_price:a.security.low_price,low_date:a.security.low_date,high_price:a.security.high_price,high_date:a.security.high_date,book_price:i.book_value/i.quantity,book_value:i.book_value,daily_change:0,daily_date:a.security.last_date,daily_gain_amount:0,daily_gain_percent:0,period_gain_amount:0,period_gain_percent:0,overall_gain_amount:i.quantity*a.security.last_price-i.book_value,overall_gain_percent:(i.quantity*a.security.last_price-i.book_value)/i.book_value,close_price:a.security.last_price,close_date:a.security.last_date,market_price:a.security.last_price,market_date:a.security.last_date,market_value:i.quantity*a.security.last_price,market_price_CAD:a.security.last_price*(i.currency==="usd"?1/this.wallet.xcurrency.rate:1),market_value_CAD:i.quantity*a.security.last_price*(i.currency==="usd"?1/this.wallet.xcurrency.rate:1)}})});y.push(h)})}),Promise.all(y)},extract_accounts(){this.data.institutions.forEach(y=>{const a=new Map;y.investments.forEach(i=>{const h=this.get_account_number(i);if(!i.ignored&&!Uu(h)){let _=a.get(h);_==null&&(_={institution:{name:y.name,type:y.type},number:h,name:i.name,type:zu(i.type),order:Bu(h),no_holdings:$u(h),expanded:!1,subaccounts:[],values:{close_amount:0,daily_gain_amount:0,period_gain_amount:0,overall_gain_amount:0,market_value:0,market_value_CAD:0,market_value_USD:0,market_value_totalCAD:0,subaccounts_weights:0,account_weights:0}}),_.no_holdings&&(_.values.market_value_CAD=i.currency!="usd"?i.currency_value:0,_.values.market_value_USD=i.currency=="usd"?i.currency_value:0,_.values.market_value_totalCAD=i.value),_.subaccounts.push({id:i._id,name:i.name,currency:i.currency,expanded:!0,holdings:this.data.holdings.filter(f=>f.subaccount_id===i._id),values:{book_value:0,daily_gain_amount:0,daily_gain_percent:0,period_gain_amoumt:0,period_gain_percent:0,overall_gain_amount:0,overall_gain_percent:0,market_value_CAD:0,market_value_USD:0,market_value_totalCAD:0,holding_weights:0,weight:0}}),a.set(h,_)}}),this.wallet.accounts.push(...Array.from(a.values()))}),this.wallet.accounts.sort((y,a)=>y.order-a.order)},refresh_wallet(){this.update_stock_prices().then(()=>{this.calc_holdings_weigths(),this.calc_subaccounts_totals(),this.calc_accounts_totals(),this.calc_accounts_weigths(),this.calc_wallet_totals(),this.log_data()})},update_stock_prices(){return new Promise((y,a)=>{let i=this.wallet.accounts.flatMap(h=>h.subaccounts.flatMap(_=>_.holdings.map(f=>f.symbol_mrkt)));i&&i.length>0?this.fetch_stock_prices(i).then(h=>{this.data.streams=h;let _=Object.fromEntries(this.data.streams.securities.map(f=>[`${f.market}:${f.symbol.split(":")[1]}`,f]));this.wallet.accounts.forEach(f=>f.subaccounts.forEach(x=>x.holdings.forEach(N=>{let j=_[N.symbol_mrkt];j&&(N.values.close_price=j.price-j.change,N.values.close_amount=N.quantity*(j.price-j.change),N.values.daily_change=j.change,N.values.daily_date=j.update_date,N.values.daily_gain_amount=N.quantity*j.change,N.values.daily_gain_percent=N.values.close_price/(N.values.close_price-j.change)-1,N.values.period_gain_amount=0,N.values.period_gain_percent=0,N.values.overall_gain_amount=N.quantity*j.price-N.values.book_value,N.values.overall_gain_percent=(N.quantity*j.price-N.values.book_value)/N.values.book_value,N.values.market_price=j.price,N.values.market_value=N.quantity*j.price,N.values.market_date=j.quote_date,N.values.market_price_CAD=j.price*(N.currency==="usd"?1/this.wallet.xcurrency.rate:1),N.values.market_value_CAD=N.quantity*j.price*(N.currency==="usd"?1/this.wallet.xcurrency.rate:1))}))),y()}).catch(h=>{console.log("Error updating stock prices:",h),a(h)}):(console.log("Warning: no stocks to update."),y())})},calc_holdings_weigths(){this.wallet.accounts.forEach(y=>{let a=y.subaccounts.flatMap(i=>i.holdings).reduce((i,h)=>i+h.values.market_value,0);y.subaccounts.forEach(i=>{i.holdings.forEach(h=>{h.values.weight=h.values.market_value/a}),i.holdings.sort((h,_)=>_.values.weight-h.values.weight)})})},calc_subaccounts_totals(){this.wallet.accounts.forEach(y=>{y.subaccounts.forEach(a=>{let i=a.holdings.reduce((h,_)=>(_.symbol!="REALCASH"&&(h.book_value+=_.values.book_value,h.close_amount+=_.values.close_amount,h.daily_gain_amount+=_.values.daily_gain_amount,h.period_gain_amount+=_.values.period_gain_amount,h.overall_gain_amount+=_.values.overall_gain_amount),h.market_value+=_.values.market_value,h.market_value_CAD+=a.currency!="usd"?_.values.market_value:0,h.market_value_USD+=a.currency=="usd"?_.values.market_value:0,h.market_value_totalCAD+=_.values.market_value_CAD,h.holding_weights+=_.values.weight,h.weight+=_.values.weight,h),{book_value:0,close_amount:0,daily_gain_amount:0,period_gain_amount:0,overall_gain_amount:0,market_value:0,market_value_CAD:0,market_value_USD:0,market_value_totalCAD:0,holding_weights:0,weight:0});i.daily_gain_percent=i.market_value/(i.market_value-i.daily_gain_amount)-1,i.overall_gain_percent=i.market_value/(i.market_value-i.overall_gain_amount)-1,Object.assign(a.values,i)})})},calc_subaccouts_weigths(){this.wallet.accounts.forEach(y=>{let a=y.subaccounts.reduce((i,h)=>i+h.values.market_value_totalCAD,0);y.subaccounts.forEach(i=>{i.values.weight=i.values.market_value_totalCAD/a})})},calc_accounts_totals(){this.wallet.accounts.forEach(y=>{if(!y.no_holdings){let a=y.subaccounts.reduce((i,h)=>(i.book_value+=h.values.book_value,i.close_amount+=h.values.close_amount,i.daily_gain_amount+=h.values.daily_gain_amount,i.period_gain_amount+=h.values.period_gain_amount,i.overall_gain_amount+=h.values.overall_gain_amount,i.market_value+=h.values.market_value,i.market_value_CAD+=h.currency!="usd"?h.values.market_value:0,i.market_value_USD+=h.currency=="usd"?h.values.market_value:0,i.market_value_totalCAD+=h.values.market_value_totalCAD,i.subaccounts_weights+=h.values.weight,i),{book_value:0,close_amount:0,daily_gain_amount:0,period_gain_amount:0,overall_gain_amount:0,market_value:0,market_value_CAD:0,market_value_USD:0,market_value_totalCAD:0,subaccounts_weights:0});a.daily_gain_percent=a.market_value/(a.market_value-a.daily_gain_amount)-1,a.overall_gain_percent=a.market_value/(a.market_value-a.overall_gain_amount)-1,Object.assign(y.values,a)}})},calc_accounts_weigths(){let y=this.wallet.accounts.reduce((a,i)=>a+i.values.market_value_totalCAD,0);this.wallet.accounts.forEach(a=>{a.values.weight=a.values.market_value_totalCAD/y})},calc_wallet_totals(){let y=this.wallet.accounts.reduce((a,i)=>(a.book_value+=i.values.book_value,a.close_amount+=i.values.close_amount,a.daily_gain_amount+=i.values.daily_gain_amount,a.period_gain_amount+=i.values.period_gain_amount,a.overall_gain_amount+=i.values.overall_gain_amount,a.market_value+=i.values.market_value,a.market_value_CAD+=i.values.market_value_CAD,a.market_value_USD+=i.values.market_value_USD,a.market_value_totalCAD+=i.values.market_value_totalCAD,a.account_weights+=i.values.weight,a),{book_value:0,close_amount:0,daily_gain_amount:0,period_gain_amount:0,overall_gain_amount:0,market_value:0,market_value_CAD:0,market_value_USD:0,market_value_totalCAD:0,account_weights:0});y.daily_gain_percent=y.market_value/(y.market_value-y.daily_gain_amount)-1,y.overall_gain_percent=y.market_value/(y.market_value-y.overall_gain_amount)-1,Object.assign(this.wallet.values,y)},get_account_number(y){return(y.account_number?y.account_number:y.id).toUpperCase()},log_data(){jv()&&(Ou.portfolio.forEach(y=>{(y.enabled||Gu.log_all)&&console.log(y.id,this.data[y.id])}),console.log(Ou.wallet.id,this.wallet))}},computed:{xcurrency_info(){if(this.wallet.xcurrency){let y=this.wallet.xcurrency.id.toUpperCase(),a=(1/this.wallet.xcurrency.rate).toFixed(4),i=this.wallet.xcurrency.rate.toFixed(4);return`1 ${y} = ${a} CAD, 1 CAD = ${i} ${y}`}else return"undefined"},xcurrency_date(){return this.wallet.xcurrency?br(this.wallet.xcurrency.date,"long_date_hour"):"undefined"}}},Pu=Object.assign(jm,{__name:"portfolio_old",setup(y){return(a,i)=>($e(),Ve(Tn,null,[a.wallet.accounts&&a.wallet.accounts.length?($e(),Ve("div",Qv,[O("table",em,[O("thead",null,[O("tr",tm,[nm,J(Xt,{group_name:"Daily CAD"}),J(Xt,{group_name:"Overall CAD"}),rm]),im]),($e(!0),Ve(Tn,null,ar(a.wallet.accounts,h=>($e(),Ve("tbody",{key:h.account_number},[O("tr",{id:"accounts",class:on(["accounts",[{expanded:h.expanded}]])},[J(qi,{institution:h.institution.type,name:h.name,number:h.number,type:h.type,show_expand:!h.no_holdings,expanded:h.expanded,onToggle:_=>h.expanded=!h.expanded},null,8,["institution","name","number","type","show_expand","expanded","onToggle"]),J(Ee,{value:h.values.daily_gain_amount,highlighted:!0},null,8,["value"]),J(pt,{value:h.values.daily_gain_percent,arrow:!0},null,8,["value"]),J(Ee,{value:h.values.overall_gain_amount,highlighted:!0},null,8,["value"]),J(pt,{value:h.values.overall_gain_percent,arrow:!0},null,8,["value"]),J(Ee,{span:2,value:h.values.market_value_CAD,colored:!1},null,8,["value"]),J(Ee,{span:2,value:h.values.market_value_USD,colored:!1},null,8,["value"]),J(Ee,{span:2,value:h.values.market_value_totalCAD},null,8,["value"]),J(pt,{value:h.values.weight,colored:!1},null,8,["value"])],2),h.expanded&&h.subaccounts&&h.subaccounts.length?($e(!0),Ve(Tn,{key:0},ar(h.subaccounts,_=>($e(),Ve(Tn,{key:_.id},[O("tr",{id:"subaccounts",class:on(["subaccounts",[{expanded:_.expanded}]])},[J(qi,{institution:"--",name:_.name,currency:_.currency,expanded:_.expanded,onToggle:f=>_.expanded=!_.expanded},null,8,["name","currency","expanded","onToggle"]),J(Ee,{value:_.values.daily_gain_amount,highlighted:!0,visible:!_.expanded},null,8,["value","visible"]),J(pt,{value:_.values.daily_gain_percent,arrow:!0,visible:!_.expanded},null,8,["value","visible"]),J(Ee,{value:_.values.overall_gain_amount,highlighted:!0,visible:!_.expanded},null,8,["value","visible"]),J(pt,{value:_.values.overall_gain_percent,arrow:!0,visible:!_.expanded},null,8,["value","visible"]),J(Ee,{span:2,value:_.values.market_value_CAD,colored:!1,visible:!_.expanded},null,8,["value","visible"]),J(Ee,{span:2,value:_.values.market_value_USD,colored:!1,visible:!_.expanded},null,8,["value","visible"]),J(Ee,{span:2,value:_.values.market_value_totalCAD,visible:!_.expanded},null,8,["value","visible"]),J(pt,{value:_.values.weight,colored:!1,visible:!_.expanded},null,8,["value","visible"])],2),_.expanded?($e(),Ve("tr",om)):Ot("",!0),_.expanded?($e(),Ve("tr",am,[sm,um,lm,J(Xt,{group_name:"Book"}),J(Xt,{group_name:"Daily"}),J(Xt,{group_name:"Overall"}),J(Xt,{group_name:"52 weeks"}),J(Xt,{group_name:"Market"}),J(Xt,{group_name:"Market CAD"}),cm])):Ot("",!0),_.expanded?($e(),Ve("tr",fm,Sm)):Ot("",!0),_.expanded?($e(!0),Ve(Tn,{key:3},ar(_.holdings.filter(f=>!f.cash),f=>($e(),Ve("tr",Om,[J(Hi,{market:f.market,symbol:f.symbol,name:f.name},null,8,["market","symbol","name"]),Mm,J(Nr,{value:f.quantity,align:"center",colored:!1},null,8,["value"]),J(Ee,{value:f.values.book_price,colored:!1,tooltip:Ht(Zv)(f.values.book_price)},null,8,["value","tooltip"]),J(Ee,{value:f.values.book_value,colored:!1},null,8,["value"]),J(Ee,{value:f.values.daily_gain_amount,highlighted:!0,tooltip:Ht(Iu)(f.values.daily_change,f.values.market_date)},null,8,["value","tooltip"]),J(pt,{value:f.values.daily_gain_percent,arrow:!0,tooltip:Ht(Iu)(f.values.daily_change,f.values.market_date)},null,8,["value","tooltip"]),J(Ee,{value:f.values.overall_gain_amount,highlighted:!0},null,8,["value"]),J(pt,{value:f.values.overall_gain_percent,arrow:!0},null,8,["value"]),J(Ee,{value:f.history.low.value,colored:!1,tooltip:Ht(Mu)(f.history.low.date)},null,8,["value","tooltip"]),J(Ee,{value:f.history.high.value,colored:!1,tooltip:Ht(Mu)(f.history.high.date)},null,8,["value","tooltip"]),J(Ee,{value:f.values.market_price,colored:!1,tooltip:Ht(Xv)(f.values.market_date)},null,8,["value","tooltip"]),J(Ee,{value:f.values.market_value,colored:!1},null,8,["value"]),J(Ee,{value:f.values.market_price_CAD,tooltip:Ht(Fu)(f.currency,f.x_rate)},null,8,["value","tooltip"]),J(Ee,{value:f.values.market_value_CAD,tooltip:Ht(Fu)(f.currency,f.x_rate)},null,8,["value","tooltip"]),J(pt,{value:f.values.weight,colored:!1},null,8,["value"])]))),256)):Ot("",!0),_.expanded?($e(!0),Ve(Tn,{key:4},ar(_.holdings.filter(f=>f.cash),f=>($e(),Ve("tr",Im,[J(Hi,{market:f.market,symbol:f.symbol,name:f.name},null,8,["market","symbol","name"]),Fm,Pm,J(Ee,{value:f.values.market_value,colored:!1},null,8,["value"]),Rm,J(Ee,{value:f.values.market_value_CAD},null,8,["value"]),J(pt,{value:f.values.weight,colored:!1},null,8,["value"])]))),256)):Ot("",!0),_.expanded?($e(),Ve("tr",Dm,[Lm,J(Ee,{value:_.values.book_value,colored:!1},null,8,["value"]),J(Ee,{value:_.values.daily_gain_amount,highlighted:!0},null,8,["value"]),J(pt,{value:_.values.daily_gain_percent,arrow:!0},null,8,["value"]),J(Ee,{value:_.values.overall_gain_amount,highlighted:!0},null,8,["value"]),J(pt,{value:_.values.overall_gain_percent,arrow:!0},null,8,["value"]),Nm,Wm,zm,J(Ee,{value:_.values.market_value,colored:!1},null,8,["value"]),Um,J(Ee,{value:_.values.market_value_totalCAD},null,8,["value"]),J(pt,{value:_.values.holding_weights,colored:!1},null,8,["value"])])):Ot("",!0)],64))),128)):Ot("",!0),h.expanded?($e(),Ve("tr",Bm,Hm)):Ot("",!0)]))),128)),O("tfoot",null,[O("tr",qm,[Gm,J(Ee,{value:a.wallet.values.daily_gain_amount,highlighted:!0},null,8,["value"]),J(pt,{value:a.wallet.values.daily_gain_percent,arrow:!0},null,8,["value"]),J(Ee,{value:a.wallet.values.overall_gain_amount,highlighted:!0},null,8,["value"]),J(pt,{value:a.wallet.values.overall_gain_percent,arrow:!0},null,8,["value"]),J(Ee,{span:2,value:a.wallet.values.market_value_CAD,colored:!1},null,8,["value"]),J(Ee,{span:2,value:a.wallet.values.market_value_USD,colored:!1},null,8,["value"]),J(Ee,{span:2,value:a.wallet.values.market_value_totalCAD},null,8,["value"]),J(pt,{value:a.wallet.values.account_weights,colored:!1},null,8,["value"])])])])])):Ot("",!0),O("div",Jm,[Km,O("div",Vm,[a.wallet.xcurrency?($e(),Ve("div",{key:0,class:"x-rate-info",title:a.xcurrency_date},Kn(a.xcurrency_info),9,Ym)):Ot("",!0),O("button",{onClick:i[0]||(i[0]=(...h)=>a.refresh_wallet&&a.refresh_wallet(...h))},"Refresh")])])],64))}}),Xm={name:"tab_performance"},Zm={class:"tab-container"},Qm=O("div",{class:"tab-logo-container"},[O("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-performance-icon.png",alt:"Under Construction",class:"tab-logo-centered"})],-1),ey=[Qm];function ty(y,a,i,h,_,f){return $e(),Ve("div",Zm,ey)}const Ru=sr(Xm,[["render",ty]]),ny={name:"tab_wealth"},ry={class:"tab-container"},iy=O("div",{class:"tab-logo-container"},[O("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-wealth-icon.png",alt:"Under Construction",class:"tab-logo-centered"})],-1),oy=[iy];function ay(y,a,i,h,_,f){return $e(),Ve("div",ry,oy)}const Du=sr(ny,[["render",ay]]),sy={name:"tab_transactions"},uy={class:"tab-container"},ly=O("div",{class:"tab-logo-container"},[O("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-transactions-icon.png",alt:"Under Construction",class:"tab-logo-centered"})],-1),cy=[ly];function fy(y,a,i,h,_,f){return $e(),Ve("div",uy,cy)}const Lu=sr(sy,[["render",fy]]),dy={class:"tabs-container"},hy={class:"tabs"},_y=O("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-dashboard-icon.png",alt:"",class:"tab-img"},null,-1),gy=O("span",null,"Dashboard",-1),py=[_y,gy],vy=O("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-portfolio-icon.png",alt:"",class:"tab-img"},null,-1),my=O("span",null,"Portfolio",-1),yy=[vy,my],wy=O("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-portfolio-icon.png",alt:"",class:"tab-img"},null,-1),by=O("span",null,"Portfolio (old)",-1),xy=[wy,by],Ay=O("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-performance-icon.png",alt:"",class:"tab-img"},null,-1),ky=O("span",null,"Performance",-1),Cy=[Ay,ky],Ey=O("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-wealth-icon.png",alt:"",class:"tab-img"},null,-1),Ty=O("span",null,"Wealth",-1),Sy=[Ey,Ty],Oy=O("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-transactions-icon.png",alt:"",class:"tab-img"},null,-1),My=O("span",null,"Transactions",-1),Iy=[Oy,My],Fy={class:"state"},Py={key:0,src:"https://portfoliotech.github.io/investify/static/img/loading.gif",alt:"Loading...",class:"loading-gif"},Ry=O("div",{class:"top-space"},null,-1),Dy={name:"App",components:{Dashboard:Tu,Portfolio:Su,Portfolio_old:Pu,Performance:Ru,Wealth:Du,Transactions:Lu},data(){return{state:{loading:!0},active_tab:"Portfolio",tabs:{Dashboard:Lr(Tu),Portfolio:Lr(Su),Portfolio_old:Lr(Pu),Performance:Lr(Ru),Wealth:Lr(Du),Transactions:Lr(Lu)}}},provide(){return{data_store:new cp,state:this.state}},computed:{get_active_tab(){return this.tabs[this.active_tab]}}},Wy=Object.assign(Dy,{setup(y){return(a,i)=>($e(),Ve("div",null,[O("div",dy,[O("div",hy,[O("div",{onClick:i[0]||(i[0]=h=>a.active_tab="Dashboard"),class:on(["tab",{"tab-active":a.active_tab==="Dashboard"}])},py,2),O("div",{onClick:i[1]||(i[1]=h=>a.active_tab="Portfolio"),class:on(["tab",{"tab-active":a.active_tab==="Portfolio"}])},yy,2),O("div",{onClick:i[2]||(i[2]=h=>a.active_tab="Portfolio_old"),class:on(["tab",{"tab-active":a.active_tab==="Portfolio_old"}])},xy,2),O("div",{onClick:i[3]||(i[3]=h=>a.active_tab="Performance"),class:on(["tab",{"tab-active":a.active_tab==="Performance"}])},Cy,2),O("div",{onClick:i[4]||(i[4]=h=>a.active_tab="Wealth"),class:on(["tab",{"tab-active":a.active_tab==="Wealth"}])},Sy,2),O("div",{onClick:i[5]||(i[5]=h=>a.active_tab="Transactions"),class:on(["tab",{"tab-active":a.active_tab==="Transactions"}])},Iy,2)]),O("div",Fy,[a.state.loading?($e(),Ve("img",Py)):Ot("",!0)])]),Ry,O("div",null,[($e(),Bi(np,null,[($e(),Bi(tp(a.get_active_tab)))],1024))])]))}});export{Wy as default};
