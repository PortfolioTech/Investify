var G_=Object.defineProperty;var J_=(y,s,i)=>s in y?G_(y,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):y[s]=i;var Pn=(y,s,i)=>(J_(y,typeof s!="symbol"?s+"":s,i),i);import{o as $e,c as Ve,a as M,t as Kn,n as on,b as J,d as Ot,w as K_,e as Ui,u as Ht,F as Cn,r as ar,f as V_,g as Y_,K as j_,m as Rr}from"./index-DyOHu_w5.js";var Zr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function X_(y){return y&&y.__esModule&&Object.prototype.hasOwnProperty.call(y,"default")?y.default:y}var Ru={};(function(y){(()=>{var s={541:(l,B,D)=>{var j=D(353),ye=ce(j),le=D(37),Q=ce(le),S=D(630),F=ce(S),k=function(){function q(Y,x){for(var O=0;O<x.length;O++){var N=x[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(Y,N.key,N)}}return function(Y,x,O){return x&&q(Y.prototype,x),O&&q(Y,O),Y}}(),W=D(457),R=ce(W),ee=D(729),U=ce(ee),c=D(702);D(303);var K=D(248),f=ce(K),ue=D(249),ve=ce(ue);function ce(q){return q&&q.__esModule?q:{default:q}}function ze(q,Y){if(!(q instanceof Y))throw new TypeError("Cannot call a class as a function")}function Le(q,Y){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y&&(typeof Y=="object"||typeof Y=="function")?Y:q}function ot(q,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);q.prototype=Object.create(Y&&Y.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(q,Y):q.__proto__=Y)}window.iFrameResizer=ve.default;var be=function(q){ot(Y,q);function Y(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ze(this,Y);var O=Le(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this));return O.options=x,O.api=new f.default(O),O.channel=R.default.build({window:x.window||window.parent,origin:"*",scope:x.id||location.origin,postMessageObserver:function(ae,de){O.emit("postMessage",ae,de)},gotMessageObserver:function(ae,de){O.emit("gotMessage",ae,de)}}),["init","update","reload","_event"].forEach(function(N){O.channel.bind(N,function(ae,de){var ne=N,re=de;return N==="_event"&&(ne=de.eventName,re=de.eventData),O.emit(ne,re),"success"})}),O}return k(Y,[{key:"request",value:function(O){var N=this;return new c.Promise(function(ae,de){if(!(0,F.default)(O))throw new Error("Params must be an object");var ne=O.method,re=O.endpoint,Pe=O.query,De=O.body;if(!ne||!re||!(0,Q.default)(ne)||!(0,Q.default)(re))throw new Error("Invalid method or endpoint");if(!(0,ye.default)(Pe)&&!(0,F.default)(Pe))throw new Error("Query must be an object");if(!(0,ye.default)(De)&&!(0,F.default)(De))throw new Error("Body must be an object");N.effectiveUser&&(O.effectiveUser=N.effectiveUser),N.channel.call({method:"request",params:O,success:function(Me){ae(Me)},error:function(Me){de(Me)}})})}},{key:"setEffectiveUser",value:function(O){this.effectiveUser=O}},{key:"saveData",value:function(O){var N=this;return new c.Promise(function(ae,de){if(!(0,F.default)(O))throw new Error("Data must be an object");N.channel.call({method:"saveData",params:O,success:function(){ae()},error:function(re){de(re)}})})}},{key:"addTransaction",value:function(O){var N=this;return new c.Promise(function(ae,de){if(!(0,ye.default)(O)&&!(0,F.default)(O))throw new Error("Attrs must be an object");N.channel.call({method:"addTransaction",params:O,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"editTransaction",value:function(O){var N=this;return new c.Promise(function(ae,de){if(!O||!(0,Q.default)(O))throw new Error("Invalid id");N.channel.call({method:"editTransaction",params:O,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"addInstitution",value:function(O){var N=this;return new c.Promise(function(ae,de){if(!(0,ye.default)(O)&&!(0,F.default)(O))throw new Error("Attrs must be an object");N.channel.call({method:"addInstitution",params:O,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"addInvestment",value:function(){var O=this;return new c.Promise(function(N,ae){O.channel.call({method:"addInvestment",success:function(ne){N(ne)},error:function(ne){ae(ne)}})})}},{key:"editInstitution",value:function(O){var N=this;return new c.Promise(function(ae,de){if(!O||!(0,Q.default)(O))throw new Error("Invalid id");N.channel.call({method:"editInstitution",params:O,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"editAsset",value:function(O){var N=this;return new c.Promise(function(ae,de){if(!O||!(0,Q.default)(O))throw new Error("Invalid id");N.channel.call({method:"editAsset",params:O,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"editLiability",value:function(O){var N=this;return new c.Promise(function(ae,de){if(!O||!(0,Q.default)(O))throw new Error("Invalid id");N.channel.call({method:"editLiability",params:O,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"deleteInstitution",value:function(O){var N=this;return new c.Promise(function(ae,de){if(!O||!(0,Q.default)(O))throw new Error("Invalid id");N.channel.call({method:"deleteInstitution",params:O,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"deleteAsset",value:function(O){var N=this;return new c.Promise(function(ae,de){if(!O||!(0,Q.default)(O))throw new Error("Invalid id");N.channel.call({method:"deleteAsset",params:O,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"deleteLiability",value:function(O){var N=this;return new c.Promise(function(ae,de){if(!O||!(0,Q.default)(O))throw new Error("Invalid id");N.channel.call({method:"deleteLiability",params:O,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"downloadDocument",value:function(O){var N=this;return new c.Promise(function(ae,de){if(!O||!(0,Q.default)(O))throw new Error("Invalid id");N.channel.call({method:"downloadDocument",params:O,success:function(){ae()},error:function(re){de(re)}})})}},{key:"upgradePremium",value:function(){var O=this;return new c.Promise(function(N,ae){O.channel.call({method:"upgradePremium",success:function(){N()},error:function(ne){ae(ne)}})})}},{key:"getSharings",value:function(){var O=this;return new c.Promise(function(N,ae){O.channel.call({method:"getSharings",success:function(ne){N(ne)},error:function(ne){ae(ne)}})})}},{key:"switchUser",value:function(O){var N=this;return new c.Promise(function(ae,de){if(!O||!(0,Q.default)(O))throw new Error("Invalid id");N.channel.call({method:"switchUser",params:O,success:function(){ae()},error:function(re){de(re)}})})}},{key:"destroy",value:function(){this.channel.destroy()}}]),Y}(U.default);l.exports=be},248:l=>{var B=function(){function ye(le,Q){for(var S=0;S<Q.length;S++){var F=Q[S];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(le,F.key,F)}}return function(le,Q,S){return Q&&ye(le.prototype,Q),S&&ye(le,S),le}}();function D(ye,le){if(!(ye instanceof le))throw new TypeError("Cannot call a class as a function")}var j=function(){function ye(le){D(this,ye),this.addon=le}return B(ye,[{key:"getAssets",value:function(Q){return this.addon.request({method:"GET",endpoint:"assets",query:Q})}},{key:"getCurrencies",value:function(Q){return this.addon.request({method:"GET",endpoint:"currencies",query:Q})}},{key:"getInstitutions",value:function(Q){return this.addon.request({method:"GET",endpoint:"institutions",query:Q})}},{key:"getInstitution",value:function(Q){return this.addon.request({method:"GET",endpoint:"institutions/"+Q})}},{key:"pollInstitution",value:function(Q,S){return this.addon.request({method:"GET",endpoint:"institutions/"+Q+"/poll?v="+S})}},{key:"syncInstitution",value:function(Q){return this.addon.request({method:"POST",endpoint:"institutions/"+Q+"/sync"})}},{key:"addInstitution",value:function(Q){return console.warn("DEPRECATED: `addon.api.addInstitution`. Use `addon.addInstitution instead.`"),this.addon.request({method:"POST",endpoint:"institutions",body:Q})}},{key:"getLiabilities",value:function(Q){return this.addon.request({method:"GET",endpoint:"liabilities",query:Q})}},{key:"getPositions",value:function(Q){return this.addon.request({method:"GET",endpoint:"positions",query:Q})}},{key:"getTransactions",value:function(Q){return this.addon.request({method:"GET",endpoint:"transactions",query:Q})}},{key:"updateTransaction",value:function(Q){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.addon.request({method:"PUT",endpoint:"transactions/"+Q,body:S})}},{key:"getUser",value:function(){return this.addon.request({method:"GET",endpoint:"users/me"})}}]),ye}();l.exports=j},249:(l,B)=>{Object.defineProperty(B,"__esModule",{value:!0}),B.default={heightCalculationMethod:function(){var j=document,ye=j.body,le=j.documentElement;return Math.max.apply(null,[ye.scrollHeight,ye.offsetHeight,le.offsetHeight])}}},702:function(l,B,D){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(j,ye){l.exports=ye()})(this,function(){function j(_){var I=typeof _;return _!==null&&(I==="object"||I==="function")}function ye(_){return typeof _=="function"}var le=void 0;Array.isArray?le=Array.isArray:le=function(_){return Object.prototype.toString.call(_)==="[object Array]"};var Q=le,S=0,F=void 0,k=void 0,W=function(I,w){be[S]=I,be[S+1]=w,S+=2,S===2&&(k?k(q):x())};function R(_){k=_}function ee(_){W=_}var U=typeof window<"u"?window:void 0,c=U||{},K=c.MutationObserver||c.WebKitMutationObserver,f=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",ue=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function ve(){return function(){return process.nextTick(q)}}function ce(){return typeof F<"u"?function(){F(q)}:ot()}function ze(){var _=0,I=new K(q),w=document.createTextNode("");return I.observe(w,{characterData:!0}),function(){w.data=_=++_%2}}function Le(){var _=new MessageChannel;return _.port1.onmessage=q,function(){return _.port2.postMessage(0)}}function ot(){var _=setTimeout;return function(){return _(q,1)}}var be=new Array(1e3);function q(){for(var _=0;_<S;_+=2){var I=be[_],w=be[_+1];I(w),be[_]=void 0,be[_+1]=void 0}S=0}function Y(){try{var _=Function("return this")().require("vertx");return F=_.runOnLoop||_.runOnContext,ce()}catch{return ot()}}var x=void 0;f?x=ve():K?x=ze():ue?x=Le():U===void 0?x=Y():x=ot();function O(_,I){var w=this,L=new this.constructor(de);L[ae]===void 0&&H(L);var $=w._state;if($){var X=arguments[$-1];W(function(){return Wt($,L,X,w._result)})}else Ut(w,L,_,I);return L}function N(_){var I=this;if(_&&typeof _=="object"&&_.constructor===I)return _;var w=new I(de);return ft(w,_),w}var ae=Math.random().toString(36).substring(2);function de(){}var ne=void 0,re=1,Pe=2;function De(){return new TypeError("You cannot resolve a promise with itself")}function yt(){return new TypeError("A promises callback cannot return that same promise.")}function Me(_,I,w,L){try{_.call(I,w,L)}catch($){return $}}function Ge(_,I,w){W(function(L){var $=!1,X=Me(w,I,function(Je){$||($=!0,I!==Je?ft(L,Je):wt(L,Je))},function(Je){$||($=!0,at(L,Je))},"Settle: "+(L._label||" unknown promise"));!$&&X&&($=!0,at(L,X))},_)}function Ye(_,I){I._state===re?wt(_,I._result):I._state===Pe?at(_,I._result):Ut(I,void 0,function(w){return ft(_,w)},function(w){return at(_,w)})}function He(_,I,w){I.constructor===_.constructor&&w===O&&I.constructor.resolve===N?Ye(_,I):w===void 0?wt(_,I):ye(w)?Ge(_,I,w):wt(_,I)}function ft(_,I){if(_===I)at(_,De());else if(j(I)){var w=void 0;try{w=I.then}catch(L){at(_,L);return}He(_,I,w)}else wt(_,I)}function lt(_){_._onerror&&_._onerror(_._result),bt(_)}function wt(_,I){_._state===ne&&(_._result=I,_._state=re,_._subscribers.length!==0&&W(bt,_))}function at(_,I){_._state===ne&&(_._state=Pe,_._result=I,W(lt,_))}function Ut(_,I,w,L){var $=_._subscribers,X=$.length;_._onerror=null,$[X]=I,$[X+re]=w,$[X+Pe]=L,X===0&&_._state&&W(bt,_)}function bt(_){var I=_._subscribers,w=_._state;if(I.length!==0){for(var L=void 0,$=void 0,X=_._result,Je=0;Je<I.length;Je+=3)L=I[Je],$=I[Je+w],L?Wt(w,L,$,X):$(X);_._subscribers.length=0}}function Wt(_,I,w,L){var $=ye(w),X=void 0,Je=void 0,ct=!0;if($){try{X=w(L)}catch(zt){ct=!1,Je=zt}if(I===X){at(I,yt());return}}else X=L;I._state!==ne||($&&ct?ft(I,X):ct===!1?at(I,Je):_===re?wt(I,X):_===Pe&&at(I,X))}function A(_,I){try{I(function(L){ft(_,L)},function(L){at(_,L)})}catch(w){at(_,w)}}var he=0;function m(){return he++}function H(_){_[ae]=he++,_._state=void 0,_._result=void 0,_._subscribers=[]}function ge(){return new Error("Array Methods must be provided an Array")}var fe=function(){function _(I,w){this._instanceConstructor=I,this.promise=new I(de),this.promise[ae]||H(this.promise),Q(w)?(this.length=w.length,this._remaining=w.length,this._result=new Array(this.length),this.length===0?wt(this.promise,this._result):(this.length=this.length||0,this._enumerate(w),this._remaining===0&&wt(this.promise,this._result))):at(this.promise,ge())}return _.prototype._enumerate=function(w){for(var L=0;this._state===ne&&L<w.length;L++)this._eachEntry(w[L],L)},_.prototype._eachEntry=function(w,L){var $=this._instanceConstructor,X=$.resolve;if(X===N){var Je=void 0,ct=void 0,zt=!1;try{Je=w.then}catch(Ft){zt=!0,ct=Ft}if(Je===O&&w._state!==ne)this._settledAt(w._state,L,w._result);else if(typeof Je!="function")this._remaining--,this._result[L]=w;else if($===E){var fn=new $(de);zt?at(fn,ct):He(fn,w,Je),this._willSettleAt(fn,L)}else this._willSettleAt(new $(function(Ft){return Ft(w)}),L)}else this._willSettleAt(X(w),L)},_.prototype._settledAt=function(w,L,$){var X=this.promise;X._state===ne&&(this._remaining--,w===Pe?at(X,$):this._result[L]=$),this._remaining===0&&wt(X,this._result)},_.prototype._willSettleAt=function(w,L){var $=this;Ut(w,void 0,function(X){return $._settledAt(re,L,X)},function(X){return $._settledAt(Pe,L,X)})},_}();function ke(_){return new fe(this,_).promise}function Ne(_){var I=this;return Q(_)?new I(function(w,L){for(var $=_.length,X=0;X<$;X++)I.resolve(_[X]).then(w,L)}):new I(function(w,L){return L(new TypeError("You must pass an array to race."))})}function _t(_){var I=this,w=new I(de);return at(w,_),w}function Ce(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Tt(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var E=function(){function _(I){this[ae]=m(),this._result=this._state=void 0,this._subscribers=[],de!==I&&(typeof I!="function"&&Ce(),this instanceof _?A(this,I):Tt())}return _.prototype.catch=function(w){return this.then(null,w)},_.prototype.finally=function(w){var L=this,$=L.constructor;return ye(w)?L.then(function(X){return $.resolve(w()).then(function(){return X})},function(X){return $.resolve(w()).then(function(){throw X})}):L.then(w,w)},_}();E.prototype.then=O,E.all=ke,E.race=Ne,E.resolve=N,E.reject=_t,E._setScheduler=R,E._setAsap=ee,E._asap=W;function ie(){var _=void 0;if(typeof D.g<"u")_=D.g;else if(typeof self<"u")_=self;else try{_=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var I=_.Promise;if(I){var w=null;try{w=Object.prototype.toString.call(I.resolve())}catch{}if(w==="[object Promise]"&&!I.cast)return}_.Promise=E}return E.polyfill=ie,E.Promise=E,E})},729:l=>{var B=Object.prototype.hasOwnProperty,D="~";function j(){}Object.create&&(j.prototype=Object.create(null),new j().__proto__||(D=!1));function ye(F,k,W){this.fn=F,this.context=k,this.once=W||!1}function le(F,k,W,R,ee){if(typeof W!="function")throw new TypeError("The listener must be a function");var U=new ye(W,R||F,ee),c=D?D+k:k;return F._events[c]?F._events[c].fn?F._events[c]=[F._events[c],U]:F._events[c].push(U):(F._events[c]=U,F._eventsCount++),F}function Q(F,k){--F._eventsCount===0?F._events=new j:delete F._events[k]}function S(){this._events=new j,this._eventsCount=0}S.prototype.eventNames=function(){var k=[],W,R;if(this._eventsCount===0)return k;for(R in W=this._events)B.call(W,R)&&k.push(D?R.slice(1):R);return Object.getOwnPropertySymbols?k.concat(Object.getOwnPropertySymbols(W)):k},S.prototype.listeners=function(k){var W=D?D+k:k,R=this._events[W];if(!R)return[];if(R.fn)return[R.fn];for(var ee=0,U=R.length,c=new Array(U);ee<U;ee++)c[ee]=R[ee].fn;return c},S.prototype.listenerCount=function(k){var W=D?D+k:k,R=this._events[W];return R?R.fn?1:R.length:0},S.prototype.emit=function(k,W,R,ee,U,c){var K=D?D+k:k;if(!this._events[K])return!1;var f=this._events[K],ue=arguments.length,ve,ce;if(f.fn){switch(f.once&&this.removeListener(k,f.fn,void 0,!0),ue){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,W),!0;case 3:return f.fn.call(f.context,W,R),!0;case 4:return f.fn.call(f.context,W,R,ee),!0;case 5:return f.fn.call(f.context,W,R,ee,U),!0;case 6:return f.fn.call(f.context,W,R,ee,U,c),!0}for(ce=1,ve=new Array(ue-1);ce<ue;ce++)ve[ce-1]=arguments[ce];f.fn.apply(f.context,ve)}else{var ze=f.length,Le;for(ce=0;ce<ze;ce++)switch(f[ce].once&&this.removeListener(k,f[ce].fn,void 0,!0),ue){case 1:f[ce].fn.call(f[ce].context);break;case 2:f[ce].fn.call(f[ce].context,W);break;case 3:f[ce].fn.call(f[ce].context,W,R);break;case 4:f[ce].fn.call(f[ce].context,W,R,ee);break;default:if(!ve)for(Le=1,ve=new Array(ue-1);Le<ue;Le++)ve[Le-1]=arguments[Le];f[ce].fn.apply(f[ce].context,ve)}}return!0},S.prototype.on=function(k,W,R){return le(this,k,W,R,!1)},S.prototype.once=function(k,W,R){return le(this,k,W,R,!0)},S.prototype.removeListener=function(k,W,R,ee){var U=D?D+k:k;if(!this._events[U])return this;if(!W)return Q(this,U),this;var c=this._events[U];if(c.fn)c.fn===W&&(!ee||c.once)&&(!R||c.context===R)&&Q(this,U);else{for(var K=0,f=[],ue=c.length;K<ue;K++)(c[K].fn!==W||ee&&!c[K].once||R&&c[K].context!==R)&&f.push(c[K]);f.length?this._events[U]=f.length===1?f[0]:f:Q(this,U)}return this},S.prototype.removeAllListeners=function(k){var W;return k?(W=D?D+k:k,this._events[W]&&Q(this,W)):(this._events=new j,this._eventsCount=0),this},S.prototype.off=S.prototype.removeListener,S.prototype.addListener=S.prototype.on,S.prefixed=D,S.EventEmitter=S,l.exports=S},303:(l,B,D)=>{l.exports=D(683)},402:l=>{(function(B){if(typeof window>"u")return;var D=!0,j=10,ye="",le=0,Q="",S=null,F="",k=!1,W={resize:1,click:1},R=128,ee=!0,U=1,c="bodyOffset",K=c,f=!0,ue="",ve={},ce=32,ze=null,Le=!1,ot="[iFrameSizer]",be=ot.length,q="",Y={max:1,min:1,bodyScroll:1,documentElementScroll:1},x="child",O=!0,N=window.parent,ae="*",de=0,ne=!1,re=null,Pe=16,De=1,yt="scroll",Me=yt,Ge=window,Ye=function(){H("MessageCallback function not defined")},He=function(){},ft=function(){},lt={height:function(){return H("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return H("Custom width calculation function not defined"),document.body.scrollWidth}},wt={};function at(g,C,oe){"addEventListener"in window?g.addEventListener(C,oe,!1):"attachEvent"in window&&g.attachEvent("on"+C,oe)}function Ut(g,C,oe){"removeEventListener"in window?g.removeEventListener(C,oe,!1):"detachEvent"in window&&g.detachEvent("on"+C,oe)}function bt(g){return g.charAt(0).toUpperCase()+g.slice(1)}function Wt(g){var C,oe,xe,Ie=null,je=0,Qe=function(){je=A(),Ie=null,xe=g.apply(C,oe),Ie||(C=oe=null)};return function(){var et=A();je||(je=et);var Re=Pe-(et-je);return C=this,oe=arguments,Re<=0||Re>Pe?(Ie&&(clearTimeout(Ie),Ie=null),je=et,xe=g.apply(C,oe),Ie||(C=oe=null)):Ie||(Ie=setTimeout(Qe,Re)),xe}}var A=Date.now||function(){return new Date().getTime()};function he(g){return ot+"["+q+"] "+g}function m(g){Le&&typeof window.console=="object"&&console.log(he(g))}function H(g){typeof window.console=="object"&&console.warn(he(g))}function ge(){fe(),m("Initialising iFrame ("+location.href+")"),ke(),Ce(),_t("background",ye),_t("padding",F),fn(),I(),w(),Tt(),xt(),L(),ve=Ft(),mn("init","Init message from host page"),He()}function fe(){function g(oe){return oe==="true"}var C=ue.substr(be).split(":");q=C[0],le=B!==C[1]?Number(C[1]):le,k=B!==C[2]?g(C[2]):k,Le=B!==C[3]?g(C[3]):Le,ce=B!==C[4]?Number(C[4]):ce,D=B!==C[6]?g(C[6]):D,Q=C[7],K=B!==C[8]?C[8]:K,ye=C[9],F=C[10],de=B!==C[11]?Number(C[11]):de,ve.enable=B!==C[12]?g(C[12]):!1,x=B!==C[13]?C[13]:x,Me=B!==C[14]?C[14]:Me}function ke(){function g(){var oe=window.iFrameResizer;m("Reading data from page: "+JSON.stringify(oe)),Ye="messageCallback"in oe?oe.messageCallback:Ye,He="readyCallback"in oe?oe.readyCallback:He,ae="targetOrigin"in oe?oe.targetOrigin:ae,K="heightCalculationMethod"in oe?oe.heightCalculationMethod:K,Me="widthCalculationMethod"in oe?oe.widthCalculationMethod:Me}function C(oe,xe){return typeof oe=="function"&&(m("Setup custom "+xe+"CalcMethod"),lt[xe]=oe,oe="custom"),oe}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(g(),K=C(K,"height"),Me=C(Me,"width")),m("TargetOrigin for parent set to: "+ae)}function Ne(g,C){return C.indexOf("-")!==-1&&(H("Negative CSS value ignored for "+g),C=""),C}function _t(g,C){B!==C&&C!==""&&C!=="null"&&(document.body.style[g]=C,m("Body "+g+' set to "'+C+'"'))}function Ce(){B===Q&&(Q=le+"px"),_t("margin",Ne("margin",Q))}function Tt(){document.documentElement.style.height="",document.body.style.height="",m('HTML & body height set to "auto"')}function E(g){var C={add:function(oe){function xe(){mn(g.eventName,g.eventType)}wt[oe]=xe,at(window,oe,xe)},remove:function(oe){var xe=wt[oe];delete wt[oe],Ut(window,oe,xe)}};g.eventNames&&Array.prototype.map?(g.eventName=g.eventNames[0],g.eventNames.map(C[g.method])):C[g.method](g.eventName),m(bt(g.method)+" event listener: "+g.eventType)}function ie(g){E({method:g,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),E({method:g,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),E({method:g,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),E({method:g,eventType:"Input",eventName:"input"}),E({method:g,eventType:"Mouse Up",eventName:"mouseup"}),E({method:g,eventType:"Mouse Down",eventName:"mousedown"}),E({method:g,eventType:"Orientation Change",eventName:"orientationchange"}),E({method:g,eventType:"Print",eventName:["afterprint","beforeprint"]}),E({method:g,eventType:"Ready State Change",eventName:"readystatechange"}),E({method:g,eventType:"Touch Start",eventName:"touchstart"}),E({method:g,eventType:"Touch End",eventName:"touchend"}),E({method:g,eventType:"Touch Cancel",eventName:"touchcancel"}),E({method:g,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),E({method:g,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),E({method:g,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),x==="child"&&E({method:g,eventType:"IFrame Resized",eventName:"resize"})}function _(g,C,oe,xe){return C!==g&&(g in oe||(H(g+" is not a valid option for "+xe+"CalculationMethod."),g=C),m(xe+' calculation method set to "'+g+'"')),g}function I(){K=_(K,c,Pt,"height")}function w(){Me=_(Me,yt,Vt,"width")}function L(){D===!0?(ie("add"),_e()):m("Auto Resize disabled")}function $(){m("Disable outgoing messages"),O=!1}function X(){m("Remove event listener: Message"),Ut(window,"message",P)}function Je(){S!==null&&S.disconnect()}function ct(){ie("remove"),Je(),clearInterval(ze)}function zt(){$(),X(),D===!0&&ct()}function fn(){var g=document.createElement("div");g.style.clear="both",g.style.display="block",document.body.appendChild(g)}function Ft(){function g(){return{x:window.pageXOffset!==B?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==B?window.pageYOffset:document.documentElement.scrollTop}}function C(Re){var Fe=Re.getBoundingClientRect(),Xe=g();return{x:parseInt(Fe.left,10)+parseInt(Xe.x,10),y:parseInt(Fe.top,10)+parseInt(Xe.y,10)}}function oe(Re){function Fe(Qt){var Nn=C(Qt);m("Moving to in page link (#"+Xe+") at x: "+Nn.x+" y: "+Nn.y),an(Nn.y,Nn.x,"scrollToOffset")}var Xe=Re.split("#")[1]||Re,Ke=decodeURIComponent(Xe),Lt=document.getElementById(Ke)||document.getElementsByName(Ke)[0];B!==Lt?Fe(Lt):(m("In page link (#"+Xe+") not found in iFrame, so sending to parent"),an(0,0,"inPageLink","#"+Xe))}function xe(){location.hash!==""&&location.hash!=="#"&&oe(location.href)}function Ie(){function Re(Fe){function Xe(Ke){Ke.preventDefault(),oe(this.getAttribute("href"))}Fe.getAttribute("href")!=="#"&&at(Fe,"click",Xe)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),Re)}function je(){at(window,"hashchange",xe)}function Qe(){setTimeout(xe,R)}function et(){Array.prototype.forEach&&document.querySelectorAll?(m("Setting up location.hash handlers"),Ie(),je(),Qe()):H("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return ve.enable?et():m("In page linking not enabled"),{findTarget:oe}}function xt(){m("Enable public methods"),Ge.parentIFrame={autoResize:function(C){return C===!0&&D===!1?(D=!0,L()):C===!1&&D===!0&&(D=!1,ct()),D},close:function(){an(0,0,"close"),zt()},getId:function(){return q},getPageInfo:function(C){typeof C=="function"?(ft=C,an(0,0,"pageInfo")):(ft=function(){},an(0,0,"pageInfoStop"))},moveToAnchor:function(C){ve.findTarget(C)},reset:function(){lr("parentIFrame.reset")},scrollTo:function(C,oe){an(oe,C,"scrollTo")},scrollToOffset:function(C,oe){an(oe,C,"scrollToOffset")},sendMessage:function(C,oe){an(0,0,"message",JSON.stringify(C),oe)},setHeightCalculationMethod:function(C){K=C,I()},setWidthCalculationMethod:function(C){Me=C,w()},setTargetOrigin:function(C){m("Set targetOrigin: "+C),ae=C},size:function(C,oe){var xe=""+(C||"")+(oe?","+oe:"");mn("size","parentIFrame.size("+xe+")",C,oe)}}}function Te(){ce!==0&&(m("setInterval: "+ce+"ms"),ze=setInterval(function(){mn("interval","setInterval: "+ce)},Math.abs(ce)))}function pe(){function g(Ke){function Lt(Qt){Qt.complete===!1&&(m("Attach listeners to "+Qt.src),Qt.addEventListener("load",Ie,!1),Qt.addEventListener("error",je,!1),Re.push(Qt))}Ke.type==="attributes"&&Ke.attributeName==="src"?Lt(Ke.target):Ke.type==="childList"&&Array.prototype.forEach.call(Ke.target.querySelectorAll("img"),Lt)}function C(Ke){Re.splice(Re.indexOf(Ke),1)}function oe(Ke){m("Remove listeners from "+Ke.src),Ke.removeEventListener("load",Ie,!1),Ke.removeEventListener("error",je,!1),C(Ke)}function xe(Ke,Lt,Qt){oe(Ke.target),mn(Lt,Qt+": "+Ke.target.src,B,B)}function Ie(Ke){xe(Ke,"imageLoad","Image loaded")}function je(Ke){xe(Ke,"imageLoadFailed","Image load failed")}function Qe(Ke){mn("mutationObserver","mutationObserver: "+Ke[0].target+" "+Ke[0].type),Ke.forEach(g)}function et(){var Ke=document.querySelector("body"),Lt={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return Xe=new Fe(Qe),m("Create body MutationObserver"),Xe.observe(Ke,Lt),Xe}var Re=[],Fe=window.MutationObserver||window.WebKitMutationObserver,Xe=et();return{disconnect:function(){"disconnect"in Xe&&(m("Disconnect body MutationObserver"),Xe.disconnect(),Re.forEach(oe))}}}function _e(){var g=0>ce;window.MutationObserver||window.WebKitMutationObserver?g?Te():S=pe():(m("MutationObserver not supported in this browser!"),Te())}function me(g,C){function oe(Ie){var je=/^\d+(px)?$/i;if(je.test(Ie))return parseInt(Ie,j);var Qe=C.style.left,et=C.runtimeStyle.left;return C.runtimeStyle.left=C.currentStyle.left,C.style.left=Ie||0,Ie=C.style.pixelLeft,C.style.left=Qe,C.runtimeStyle.left=et,Ie}var xe=0;return C=C||document.body,"defaultView"in document&&"getComputedStyle"in document.defaultView?(xe=document.defaultView.getComputedStyle(C,null),xe=xe!==null?xe[g]:0):xe=oe(C.currentStyle[g]),parseInt(xe,j)}function Se(g){g>Pe/2&&(Pe=2*g,m("Event throttle increased to "+Pe+"ms"))}function Ze(g,C){for(var oe=C.length,xe=0,Ie=0,je=bt(g),Qe=A(),et=0;et<oe;et++)xe=C[et].getBoundingClientRect()[g]+me("margin"+je,C[et]),xe>Ie&&(Ie=xe);return Qe=A()-Qe,m("Parsed "+oe+" HTML elements"),m("Element position calculated in "+Qe+"ms"),Se(Qe),Ie}function qe(g){return[g.bodyOffset(),g.bodyScroll(),g.documentElementOffset(),g.documentElementScroll()]}function rt(g,C){function oe(){return H("No tagged elements ("+C+") found on page"),document.querySelectorAll("body *")}var xe=document.querySelectorAll("["+C+"]");return xe.length===0&&oe(),Ze(g,xe)}function pt(){return document.querySelectorAll("body *")}var Pt={bodyOffset:function(){return document.body.offsetHeight+me("marginTop")+me("marginBottom")},offset:function(){return Pt.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return lt.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,qe(Pt))},min:function(){return Math.min.apply(null,qe(Pt))},grow:function(){return Pt.max()},lowestElement:function(){return Math.max(Pt.bodyOffset(),Ze("bottom",pt()))},taggedElement:function(){return rt("bottom","data-iframe-height")}},Vt={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return lt.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(Vt.bodyScroll(),Vt.documentElementScroll())},max:function(){return Math.max.apply(null,qe(Vt))},min:function(){return Math.min.apply(null,qe(Vt))},rightMostElement:function(){return Ze("right",pt())},taggedElement:function(){return rt("right","data-iframe-width")}};function Sn(g,C,oe,xe){function Ie(){U=Xe,De=Ke,an(U,De,g)}function je(){function Lt(Qt,Nn){var Qr=Math.abs(Qt-Nn)<=de;return!Qr}return Xe=B!==oe?oe:Pt[K](),Ke=B!==xe?xe:Vt[Me](),Lt(U,Xe)||k&&Lt(De,Ke)}function Qe(){return!(g in{init:1,interval:1,size:1})}function et(){return K in Y||k&&Me in Y}function Re(){m("No change in size detected")}function Fe(){Qe()&&et()?lr(C):g in{interval:1}||Re()}var Xe,Ke;je()||g==="init"?(ur(),Ie()):Fe()}var Vn=Wt(Sn);function mn(g,C,oe,xe){function Ie(){g in{reset:1,resetPage:1,init:1}||m("Trigger event: "+C)}function je(){return ne&&g in W}je()?m("Trigger event cancelled: "+g):(Ie(),Vn(g,C,oe,xe))}function ur(){ne||(ne=!0,m("Trigger event lock on")),clearTimeout(re),re=setTimeout(function(){ne=!1,m("Trigger event lock off"),m("--")},R)}function Zt(g){U=Pt[K](),De=Vt[Me](),an(U,De,g)}function lr(g){var C=K;K=c,m("Reset trigger event: "+g),ur(),Zt("reset"),K=C}function an(g,C,oe,xe,Ie){function je(){B===Ie?Ie=ae:m("Message targetOrigin: "+Ie)}function Qe(){var et=g+":"+C,Re=q+":"+et+":"+oe+(B!==xe?":"+xe:"");m("Sending message to host page ("+Re+")"),N.postMessage(ot+Re,Ie)}O===!0&&(je(),Qe())}function P(g){var C={init:function(){function Xe(){ue=g.data,N=g.source,ge(),ee=!1,setTimeout(function(){f=!1},R)}document.readyState==="interactive"||document.readyState==="complete"?Xe():(m("Waiting for page ready"),at(window,"readystatechange",C.initFromParent))},reset:function(){f?m("Page reset ignored by init"):(m("Page size reset by host page"),Zt("resetPage"))},resize:function(){mn("resizeParent","Parent window requested size check")},moveToAnchor:function(){ve.findTarget(Ie())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var Xe=Ie();m("PageInfoFromParent called from parent: "+Xe),ft(JSON.parse(Xe)),m(" --")},message:function(){var Xe=Ie();m("MessageCallback called from parent: "+Xe),Ye(JSON.parse(Xe)),m(" --")}};function oe(){return ot===(""+g.data).substr(0,be)}function xe(){return g.data.split("]")[1].split(":")[0]}function Ie(){return g.data.substr(g.data.indexOf(":")+1)}function je(){return!l.exports&&"iFrameResize"in window}function Qe(){return g.data.split(":")[2]in{true:1,false:1}}function et(){var Fe=xe();Fe in C?C[Fe]():!je()&&!Qe()&&H("Unexpected message ("+g.data+")")}function Re(){ee===!1?et():Qe()?C.init():m('Ignored message of type "'+xe()+'". Received before initialization.')}oe()&&Re()}function V(){document.readyState!=="loading"&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}at(window,"message",P),V()})()},28:(l,B)=>{var D,j,ye;(function(le){if(typeof window>"u")return;var Q=0,S=!1,F=!1,k="message",W=k.length,R="[iFrameSizer]",ee=R.length,U=null,c=window.requestAnimationFrame,K={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},f={},ue=null,ve={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){O("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};function ce(m,H,ge){"addEventListener"in window?m.addEventListener(H,ge,!1):"attachEvent"in window&&m.attachEvent("on"+H,ge)}function ze(m,H,ge){"removeEventListener"in window?m.removeEventListener(H,ge,!1):"detachEvent"in window&&m.detachEvent("on"+H,ge)}function Le(){var m=["moz","webkit","o","ms"],H;for(H=0;H<m.length&&!c;H+=1)c=window[m[H]+"RequestAnimationFrame"];c||Y("setup","RequestAnimationFrame not supported")}function ot(m){var H="Host page: "+m;return window.top!==window.self&&(window.parentIFrame&&window.parentIFrame.getId?H=window.parentIFrame.getId()+": "+m:H="Nested host page: "+m),H}function be(m){return R+"["+ot(m)+"]"}function q(m){return f[m]?f[m].log:S}function Y(m,H){N("log",m,H,q(m))}function x(m,H){N("info",m,H,q(m))}function O(m,H){N("warn",m,H,!0)}function N(m,H,ge,fe){fe===!0&&typeof window.console=="object"&&console[m](be(H),ge)}function ae(m){function H(){function me(){Me(pe),Pe(_e),ct("resizedCallback",pe)}fe("Height"),fe("Width"),Ge(me,pe,"init")}function ge(){var me=Te.substr(ee).split(":");return{iframe:f[me[0]]&&f[me[0]].iframe,id:me[0],height:me[1],width:me[2],type:me[3]}}function fe(me){var Se=Number(f[_e]["max"+me]),Ze=Number(f[_e]["min"+me]),qe=me.toLowerCase(),rt=Number(pe[qe]);Y(_e,"Checking "+qe+" is in range "+Ze+"-"+Se),rt<Ze&&(rt=Ze,Y(_e,"Set "+qe+" to min value")),rt>Se&&(rt=Se,Y(_e,"Set "+qe+" to max value")),pe[qe]=""+rt}function ke(){function me(){function qe(){var pt=0,Pt=!1;for(Y(_e,"Checking connection is from allowed list of origins: "+Ze);pt<Ze.length;pt++)if(Ze[pt]===Se){Pt=!0;break}return Pt}function rt(){var pt=f[_e]&&f[_e].remoteHost;return Y(_e,"Checking connection is from: "+pt),Se===pt}return Ze.constructor===Array?qe():rt()}var Se=m.origin,Ze=f[_e]&&f[_e].checkOrigin;if(Ze&&""+Se!="null"&&!me())throw new Error("Unexpected message received from: "+Se+" for "+pe.iframe.id+". Message was: "+m.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function Ne(){return R===(""+Te).substr(0,ee)&&Te.substr(ee).split(":")[0]in f}function _t(){var me=pe.type in{true:1,false:1,undefined:1};return me&&Y(_e,"Ignoring init message from meta parent page"),me}function Ce(me){return Te.substr(Te.indexOf(":")+W+me)}function Tt(me){Y(_e,"MessageCallback passed: {iframe: "+pe.iframe.id+", message: "+me+"}"),ct("messageCallback",{iframe:pe.iframe,message:JSON.parse(me)}),Y(_e,"--")}function E(){var me=document.body.getBoundingClientRect(),Se=pe.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:Se.height,iframeWidth:Se.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(Se.top-me.top,10),offsetLeft:parseInt(Se.left-me.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})}function ie(me,Se){function Ze(){Ye("Send Page Info","pageInfo:"+E(),me,Se)}lt(Ze,32)}function _(){function me(rt,pt){function Pt(){f[qe]?ie(f[qe].iframe,qe):Se()}["scroll","resize"].forEach(function(Vt){Y(qe,rt+Vt+" listener for sendPageInfo"),pt(window,Vt,Pt)})}function Se(){me("Remove ",ze)}function Ze(){me("Add ",ce)}var qe=_e;Ze(),f[qe]&&(f[qe].stopPageInfo=Se)}function I(){f[_e]&&f[_e].stopPageInfo&&(f[_e].stopPageInfo(),delete f[_e].stopPageInfo)}function w(){var me=!0;return pe.iframe===null&&(O(_e,"IFrame ("+pe.id+") not found"),me=!1),me}function L(me){var Se=me.getBoundingClientRect();return re(_e),{x:Math.floor(Number(Se.left)+Number(U.x)),y:Math.floor(Number(Se.top)+Number(U.y))}}function $(me){function Se(){U=pt,X(),Y(_e,"--")}function Ze(){return{x:Number(pe.width)+rt.x,y:Number(pe.height)+rt.y}}function qe(){window.parentIFrame?window.parentIFrame["scrollTo"+(me?"Offset":"")](pt.x,pt.y):O(_e,"Unable to scroll to requested position, window.parentIFrame not found")}var rt=me?L(pe.iframe):{x:0,y:0},pt=Ze();Y(_e,"Reposition requested from iFrame (offset x:"+rt.x+" y:"+rt.y+")"),window.top!==window.self?qe():Se()}function X(){ct("scrollCallback",U)!==!1?Pe(_e):De()}function Je(me){function Se(){var Pt=L(pt);Y(_e,"Moving to in page link (#"+qe+") at x: "+Pt.x+" y: "+Pt.y),U={x:Pt.x,y:Pt.y},X(),Y(_e,"--")}function Ze(){window.parentIFrame?window.parentIFrame.moveToAnchor(qe):Y(_e,"In page link #"+qe+" not found and window.parentIFrame not found")}var qe=me.split("#")[1]||"",rt=decodeURIComponent(qe),pt=document.getElementById(rt)||document.getElementsByName(rt)[0];pt?Se():window.top!==window.self?Ze():Y(_e,"In page link #"+qe+" not found")}function ct(me,Se){return de(_e,me,Se)}function zt(){switch(f[_e]&&f[_e].firstRun&&xt(),pe.type){case"close":f[_e].closeRequestCallback?de(_e,"closeRequestCallback",f[_e].iframe):ne(pe.iframe);break;case"message":Tt(Ce(6));break;case"scrollTo":$(!1);break;case"scrollToOffset":$(!0);break;case"pageInfo":ie(f[_e]&&f[_e].iframe,_e),_();break;case"pageInfoStop":I();break;case"inPageLink":Je(Ce(9));break;case"reset":yt(pe);break;case"init":H(),ct("initCallback",pe.iframe);break;default:H()}}function fn(me){var Se=!0;return f[me]||(Se=!1,O(pe.type+" No settings for "+me+". Message was: "+Te)),Se}function Ft(){for(var me in f)Ye("iFrame requested init",He(me),document.getElementById(me),me)}function xt(){f[_e]&&(f[_e].firstRun=!1)}var Te=m.data,pe={},_e=null;Te==="[iFrameResizerChild]Ready"?Ft():Ne()?(pe=ge(),_e=pe.id,f[_e]&&(f[_e].loaded=!0),!_t()&&fn(_e)&&(Y(_e,"Received: "+Te),w()&&ke()&&zt())):x(_e,"Ignored: "+Te)}function de(m,H,ge){var fe=null,ke=null;if(f[m])if(fe=f[m][H],typeof fe=="function")ke=fe(ge);else throw new TypeError(H+" on iFrame["+m+"] is not a function");return ke}function ne(m){var H=m.id;Y(H,"Removing iFrame: "+H),m.parentNode&&m.parentNode.removeChild(m),de(H,"closedCallback",H),Y(H,"--"),delete f[H]}function re(m){U===null&&(U={x:window.pageXOffset!==le?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==le?window.pageYOffset:document.documentElement.scrollTop},Y(m,"Get page position: "+U.x+","+U.y))}function Pe(m){U!==null&&(window.scrollTo(U.x,U.y),Y(m,"Set page position: "+U.x+","+U.y),De())}function De(){U=null}function yt(m){function H(){Me(m),Ye("reset","reset",m.iframe,m.id)}Y(m.id,"Size reset requested by "+(m.type==="init"?"host page":"iFrame")),re(m.id),Ge(H,m,"reset")}function Me(m){function H(Ne){m.iframe.style[Ne]=m[Ne]+"px",Y(m.id,"IFrame ("+ke+") "+Ne+" set to "+m[Ne]+"px")}function ge(Ne){!F&&m[Ne]==="0"&&(F=!0,Y(ke,"Hidden iFrame detected, creating visibility listener"),wt())}function fe(Ne){H(Ne),ge(Ne)}var ke=m.iframe.id;f[ke]&&(f[ke].sizeHeight&&fe("height"),f[ke].sizeWidth&&fe("width"))}function Ge(m,H,ge){ge!==H.type&&c?(Y(H.id,"Requesting animation frame"),c(m)):m()}function Ye(m,H,ge,fe,ke){function Ne(){var ie=f[fe]&&f[fe].targetOrigin;Y(fe,"["+m+"] Sending msg to iframe["+fe+"] ("+H+") targetOrigin: "+ie),ge.contentWindow.postMessage(R+H,ie)}function _t(){O(fe,"["+m+"] IFrame("+fe+") not found")}function Ce(){ge&&"contentWindow"in ge&&ge.contentWindow!==null?Ne():_t()}function Tt(){function ie(){f[fe]&&!f[fe].loaded&&!E&&(E=!0,O(fe,"IFrame has not responded within "+f[fe].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ingored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}ke&&f[fe]&&f[fe].warningTimeout&&(f[fe].msgTimeout=setTimeout(ie,f[fe].warningTimeout))}var E=!1;fe=fe||ge.id,f[fe]&&(Ce(),Tt())}function He(m){return m+":"+f[m].bodyMarginV1+":"+f[m].sizeWidth+":"+f[m].log+":"+f[m].interval+":"+f[m].enablePublicMethods+":"+f[m].autoResize+":"+f[m].bodyMargin+":"+f[m].heightCalculationMethod+":"+f[m].bodyBackground+":"+f[m].bodyPadding+":"+f[m].tolerance+":"+f[m].inPageLinks+":"+f[m].resizeFrom+":"+f[m].widthCalculationMethod}function ft(m,H){function ge(){function X(ct){f[$][ct]!==1/0&&f[$][ct]!==0&&(m.style[ct]=f[$][ct]+"px",Y($,"Set "+ct+" = "+f[$][ct]+"px"))}function Je(ct){if(f[$]["min"+ct]>f[$]["max"+ct])throw new Error("Value for min"+ct+" can not be greater than max"+ct)}Je("Height"),Je("Width"),X("maxHeight"),X("minHeight"),X("maxWidth"),X("minWidth")}function fe(){var X=H&&H.id||ve.id+Q++;return document.getElementById(X)!==null&&(X=X+Q++),X}function ke(X){return X===""&&(m.id=X=fe(),S=(H||{}).log,Y(X,"Added missing iframe ID: "+X+" ("+m.src+")")),X}function Ne(){switch(Y($,"IFrame scrolling "+(f[$]&&f[$].scrolling?"enabled":"disabled")+" for "+$),m.style.overflow=(f[$]&&f[$].scrolling)===!1?"hidden":"auto",f[$]&&f[$].scrolling){case!0:m.scrolling="yes";break;case!1:m.scrolling="no";break;default:m.scrolling=f[$]?f[$].scrolling:"no"}}function _t(){(typeof(f[$]&&f[$].bodyMargin)=="number"||(f[$]&&f[$].bodyMargin)==="0")&&(f[$].bodyMarginV1=f[$].bodyMargin,f[$].bodyMargin=""+f[$].bodyMargin+"px")}function Ce(){var X=f[$]&&f[$].firstRun,Je=f[$]&&f[$].heightCalculationMethod in K;!X&&Je&&yt({iframe:m,height:0,width:0,type:"init"})}function Tt(){Function.prototype.bind&&f[$]&&(f[$].iframe.iFrameResizer={close:ne.bind(null,f[$].iframe),resize:Ye.bind(null,"Window resize","resize",f[$].iframe),moveToAnchor:function(X){Ye("Move to anchor","moveToAnchor:"+X,f[$].iframe,$)},sendMessage:function(X){X=JSON.stringify(X),Ye("Send Message","message:"+X,f[$].iframe,$)}})}function E(X){function Je(){Ye("iFrame.onload",X,m,le,!0),Ce()}ce(m,"load",Je),Ye("init",X,m,le,!0)}function ie(X){if(typeof X!="object")throw new TypeError("Options is not an object")}function _(X){for(var Je in ve)ve.hasOwnProperty(Je)&&(f[$][Je]=X.hasOwnProperty(Je)?X[Je]:ve[Je])}function I(X){return X===""||X==="file://"?"*":X}function w(X){X=X||{},f[$]={firstRun:!0,iframe:m,remoteHost:m.src.split("/").slice(0,3).join("/")},ie(X),_(X),f[$]&&(f[$].targetOrigin=f[$].checkOrigin===!0?I(f[$].remoteHost):"*")}function L(){return $ in f&&"iFrameResizer"in m}var $=ke(m.id);L()?O($,"Ignored iFrame, already setup."):(w(H),Ne(),ge(),_t(),E(He($)),Tt())}function lt(m,H){ue===null&&(ue=setTimeout(function(){ue=null,m()},H))}function wt(){function m(){function ke(_t){function Ce(E){return(f[_t]&&f[_t].iframe.style[E])==="0px"}function Tt(E){return E.offsetParent!==null}f[_t]&&Tt(f[_t].iframe)&&(Ce("height")||Ce("width"))&&Ye("Visibility change","resize",f[_t].iframe,_t)}for(var Ne in f)ke(Ne)}function H(ke){Y("window","Mutation observed: "+ke[0].target+" "+ke[0].type),lt(m,16)}function ge(){var ke=document.querySelector("body"),Ne={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},_t=new fe(H);_t.observe(ke,Ne)}var fe=window.MutationObserver||window.WebKitMutationObserver;fe&&ge()}function at(m){function H(){bt("Window "+m,"resize")}Y("window","Trigger event: "+m),lt(H,16)}function Ut(){function m(){bt("Tab Visable","resize")}document.visibilityState!=="hidden"&&(Y("document","Trigger event: Visiblity change"),lt(m,16))}function bt(m,H){function ge(ke){return f[ke]&&f[ke].resizeFrom==="parent"&&f[ke].autoResize&&!f[ke].firstRun}for(var fe in f)ge(fe)&&Ye(m,H,document.getElementById(fe),fe)}function Wt(){ce(window,"message",ae),ce(window,"resize",function(){at("resize")}),ce(document,"visibilitychange",Ut),ce(document,"-webkit-visibilitychange",Ut),ce(window,"focusin",function(){at("focus")}),ce(window,"focus",function(){at("focus")})}function A(){function m(fe,ke){function Ne(){if(ke.tagName){if(ke.tagName.toUpperCase()!=="IFRAME")throw new TypeError("Expected <IFRAME> tag, found <"+ke.tagName+">")}else throw new TypeError("Object is not a valid DOM element")}ke&&(Ne(),ft(ke,fe),ge.push(ke))}function H(fe){fe&&fe.enablePublicMethods&&O("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var ge;return Le(),Wt(),function(ke,Ne){switch(ge=[],H(ke),typeof Ne){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(Ne||"iframe"),m.bind(le,ke));break;case"object":m(ke,Ne);break;default:throw new TypeError("Unexpected data type ("+typeof Ne+")")}return ge}}function he(m){m.fn?m.fn.iFrameResize||(m.fn.iFrameResize=function(ge){function fe(ke,Ne){ft(Ne,ge)}return this.filter("iframe").each(fe).end()}):x("","Unable to bind to jQuery, it is not fully loaded.")}window.jQuery&&he(window.jQuery),j=[],D=A,ye=typeof D=="function"?D.apply(B,j):D,ye!==le&&(l.exports=ye)})()},683:(l,B,D)=>{B.iframeResizer=D(28),B.iframeResizerContentWindow=D(402)},457:l=>{var B=function(){var D=Math.floor(Math.random()*1000001),j={};function ye(k,W,R,ee){function U(f){for(var ue=0;ue<f.length;ue++)if(f[ue].win===k)return!0;return!1}var c=!1;if(W==="*"){for(var K in j)if(j.hasOwnProperty(K)&&K!=="*"&&typeof j[K][R]=="object"&&(c=U(j[K][R]),c))break}else j["*"]&&j["*"][R]&&(c=U(j["*"][R])),!c&&j[W]&&j[W][R]&&(c=U(j[W][R]));if(c)throw"A channel is already bound to the same window which overlaps with origin '"+W+"' and has scope '"+R+"'";typeof j[W]!="object"&&(j[W]={}),typeof j[W][R]!="object"&&(j[W][R]=[]),j[W][R].push({win:k,handler:ee})}function le(k,W,R){for(var ee=j[W][R],U=0;U<ee.length;U++)ee[U].win===k&&ee.splice(U,1);j[W][R].length===0&&delete j[W][R]}function Q(k){return Array.isArray?Array.isArray(k):k.constructor.toString().indexOf("Array")!=-1}var S={},F=function(k){try{var W=JSON.parse(k.data);if(typeof W!="object"||W===null)throw"malformed"}catch{return}var R=k.source,ee=k.origin,U,c,K;if(typeof W.method=="string"){var f=W.method.split("::");f.length==2?(U=f[0],K=f[1]):K=W.method}if(typeof W.id<"u"&&(c=W.id),typeof K=="string"){var ue=!1;if(j[ee]&&j[ee][U]){for(var ve=0;ve<j[ee][U].length;ve++)if(j[ee][U][ve].win===R){j[ee][U][ve].handler(ee,K,W),ue=!0;break}}if(!ue&&j["*"]&&j["*"][U]){for(var ve=0;ve<j["*"][U].length;ve++)if(j["*"][U][ve].win===R){j["*"][U][ve].handler(ee,K,W);break}}}else typeof c<"u"&&S[c]&&S[c](ee,K,W)};return window.addEventListener?window.addEventListener("message",F,!1):window.attachEvent&&window.attachEvent("onmessage",F),{build:function(k){var W=function(x){if(k.debugOutput&&window.console&&window.console.log){try{typeof x!="string"&&(x=JSON.stringify(x))}catch{}console.log("["+U+"] "+x)}};if(!window.postMessage)throw"jschannel cannot run this browser, no postMessage";if(!window.JSON||!window.JSON.stringify||!window.JSON.parse)throw"jschannel cannot run this browser, no JSON parsing/serialization";if(typeof k!="object")throw"Channel build invoked without a proper object argument";if(!k.window||!k.window.postMessage)throw"Channel.build() called without a valid window argument";if(window===k.window)throw"target window is same as present window -- not allowed";var R=!1;if(typeof k.origin=="string"){var ee;k.origin==="*"?R=!0:(ee=k.origin.match(/^https?:\/\/(?:[-a-zA-Z0-9_\.])+(?::\d+)?/))!==null&&(k.origin=ee[0].toLowerCase(),R=!0)}if(!R)throw"Channel.build() called with an invalid origin";if(typeof k.scope<"u"){if(typeof k.scope!="string")throw"scope, when specified, must be a string";if(k.scope.split("::").length>1)throw"scope may not contain double colons: '::'"}var U=function(){for(var x="",O="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",N=0;N<5;N++)x+=O.charAt(Math.floor(Math.random()*O.length));return x}(),c={},K={},f={},ue=!1,ve=[],ce=function(x,O,N){var ae=!1,de=!1;return{origin:O,invoke:function(ne,re){if(!f[x])throw"attempting to invoke a callback of a nonexistent transaction: "+x;for(var Pe=!1,De=0;De<N.length;De++)if(ne===N[De]){Pe=!0;break}if(!Pe)throw"request supports no such callback '"+ne+"'";be({id:x,callback:ne,params:re})},error:function(ne,re){if(de=!0,!f[x])throw"error called for nonexistent message: "+x;delete f[x],be({id:x,error:ne,message:re})},complete:function(ne){if(de=!0,!f[x])throw"complete called for nonexistent message: "+x;delete f[x],be({id:x,result:ne})},delayReturn:function(ne){return typeof ne=="boolean"&&(ae=ne===!0),ae},completed:function(){return de}}},ze=function(x,O,N){return window.setTimeout(function(){if(K[x]){var ae="timeout ("+O+"ms) exceeded on method '"+N+"'";(0,K[x].error)("timeout_error",ae),delete K[x],delete S[x]}},O)},Le=function(x,O,N){if(typeof k.gotMessageObserver=="function")try{k.gotMessageObserver(x,N)}catch(He){W("gotMessageObserver() raised an exception: "+He.toString())}if(N.id&&O){if(c[O]){var ae=ce(N.id,x,N.callbacks?N.callbacks:[]);f[N.id]={};try{if(N.callbacks&&Q(N.callbacks)&&N.callbacks.length>0)for(var de=0;de<N.callbacks.length;de++){for(var ne=N.callbacks[de],re=N.params,Pe=ne.split("/"),De=0;De<Pe.length-1;De++){var yt=Pe[De];typeof re[yt]!="object"&&(re[yt]={}),re=re[yt]}re[Pe[Pe.length-1]]=function(){var He=ne;return function(ft){return ae.invoke(He,ft)}}()}var Me=c[O](ae,N.params);!ae.delayReturn()&&!ae.completed()&&ae.complete(Me)}catch(He){var Ge="runtime_error",Ye=null;if(typeof He=="string"?Ye=He:typeof He=="object"&&(He&&Q(He)&&He.length==2?(Ge=He[0],Ye=He[1]):typeof He.error=="string"&&(Ge=He.error,He.message?typeof He.message=="string"?Ye=He.message:He=He.message:Ye="")),Ye===null)try{Ye=JSON.stringify(He),typeof Ye>"u"&&(Ye=He.toString())}catch{Ye=He.toString()}ae.error(Ge,Ye)}}}else N.id&&N.callback?!K[N.id]||!K[N.id].callbacks||!K[N.id].callbacks[N.callback]?W("ignoring invalid callback, id:"+N.id+" ("+N.callback+")"):K[N.id].callbacks[N.callback](N.params):N.id?K[N.id]?(N.error?(0,K[N.id].error)(N.error,N.message):N.result!==void 0?(0,K[N.id].success)(N.result):(0,K[N.id].success)(),delete K[N.id],delete S[N.id]):W("ignoring invalid response: "+N.id):O&&c[O]&&c[O]({origin:x},N.params)};ye(k.window,k.origin,typeof k.scope=="string"?k.scope:"",Le);var ot=function(x){return typeof k.scope=="string"&&k.scope.length&&(x=[k.scope,x].join("::")),x},be=function(x,O){if(!x)throw"postMessage called with null message";var N=ue?"post  ":"queue ";if(W(N+" message: "+JSON.stringify(x)),!O&&!ue)ve.push(x);else{if(typeof k.postMessageObserver=="function")try{k.postMessageObserver(k.origin,x)}catch(ae){W("postMessageObserver() raised an exception: "+ae.toString())}k.window.postMessage(JSON.stringify(x),k.origin)}},q=function(x,O){if(W("ready msg received"),ue)throw"received ready message while in ready state.  help!";for(O==="ping"?U+="-R":U+="-L",Y.unbind("__ready"),ue=!0,W("ready msg accepted."),O==="ping"&&Y.notify({method:"__ready",params:"pong"});ve.length;)be(ve.pop());typeof k.onReady=="function"&&k.onReady(Y)},Y={unbind:function(x){if(c[x]){if(!delete c[x])throw"can't delete method: "+x;return!0}return!1},bind:function(x,O){if(!x||typeof x!="string")throw"'method' argument to bind must be string";if(!O||typeof O!="function")throw"callback missing from bind params";if(c[x])throw"method '"+x+"' is already bound!";return c[x]=O,this},call:function(x){if(!x)throw"missing arguments to call function";if(!x.method||typeof x.method!="string")throw"'method' argument to call must be string";if(!x.success||typeof x.success!="function")throw"'success' callback missing from call";var O={},N=[],ae=[],de=function(re,Pe){if(ae.indexOf(Pe)>=0)throw"params cannot be a recursive data structure";if(ae.push(Pe),typeof Pe=="object"){for(var De in Pe)if(Pe.hasOwnProperty(De)){var yt=re+(re.length?"/":"")+De;typeof Pe[De]=="function"?(O[yt]=Pe[De],N.push(yt),delete Pe[De]):typeof Pe[De]=="object"&&Pe[De]!==null&&de(yt,Pe[De])}}};de("",x.params);var ne={id:D,method:ot(x.method),params:x.params};N.length&&(ne.callbacks=N),x.timeout&&ze(D,x.timeout,ot(x.method)),K[D]={callbacks:O,error:x.error,success:x.success},S[D]=Le,D++,be(ne)},notify:function(x){if(!x)throw"missing arguments to notify function";if(!x.method||typeof x.method!="string")throw"'method' argument to notify must be string";be({method:ot(x.method),params:x.params})},destroy:function(){le(k.window,k.origin,typeof k.scope=="string"?k.scope:""),window.removeEventListener?window.removeEventListener("message",Le,!1):window.detachEvent&&window.detachEvent("onmessage",Le),ue=!1,c={},f={},K={},k.origin=null,ve=[],W("channel destroyed"),U=""}};return Y.bind("__ready",q),setTimeout(function(){be({method:ot("__ready"),params:"ping"},!0)},0),Y}}}();l.exports=B},705:(l,B,D)=>{var j=D(639),ye=j.Symbol;l.exports=ye},239:(l,B,D)=>{var j=D(705),ye=D(607),le=D(333),Q="[object Null]",S="[object Undefined]",F=j?j.toStringTag:void 0;function k(W){return W==null?W===void 0?S:Q:F&&F in Object(W)?ye(W):le(W)}l.exports=k},957:(l,B,D)=>{var j=typeof D.g=="object"&&D.g&&D.g.Object===Object&&D.g;l.exports=j},924:(l,B,D)=>{var j=D(569),ye=j(Object.getPrototypeOf,Object);l.exports=ye},607:(l,B,D)=>{var j=D(705),ye=Object.prototype,le=ye.hasOwnProperty,Q=ye.toString,S=j?j.toStringTag:void 0;function F(k){var W=le.call(k,S),R=k[S];try{k[S]=void 0;var ee=!0}catch{}var U=Q.call(k);return ee&&(W?k[S]=R:delete k[S]),U}l.exports=F},333:l=>{var B=Object.prototype,D=B.toString;function j(ye){return D.call(ye)}l.exports=j},569:l=>{function B(D,j){return function(ye){return D(j(ye))}}l.exports=B},639:(l,B,D)=>{var j=D(957),ye=typeof self=="object"&&self&&self.Object===Object&&self,le=j||ye||Function("return this")();l.exports=le},469:l=>{var B=Array.isArray;l.exports=B},5:l=>{function B(D){return D!=null&&typeof D=="object"}l.exports=B},630:(l,B,D)=>{var j=D(239),ye=D(924),le=D(5),Q="[object Object]",S=Function.prototype,F=Object.prototype,k=S.toString,W=F.hasOwnProperty,R=k.call(Object);function ee(U){if(!le(U)||j(U)!=Q)return!1;var c=ye(U);if(c===null)return!0;var K=W.call(c,"constructor")&&c.constructor;return typeof K=="function"&&K instanceof K&&k.call(K)==R}l.exports=ee},37:(l,B,D)=>{var j=D(239),ye=D(469),le=D(5),Q="[object String]";function S(F){return typeof F=="string"||!ye(F)&&le(F)&&j(F)==Q}l.exports=S},353:l=>{function B(D){return D===void 0}l.exports=B}},i={};function d(l){var B=i[l];if(B!==void 0)return B.exports;var D=i[l]={exports:{}};return s[l].call(D.exports,D,D.exports,d),D.exports}d.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var p=d(541);y.Addon=p})()})(Ru);(()=>{var y={669:(d,p,l)=>{var B=l(218),D=W(B),j=function(){function K(f,ue){for(var ve=0;ve<ue.length;ve++){var ce=ue[ve];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(f,ce.key,ce)}}return function(f,ue,ve){return ue&&K(f.prototype,ue),ve&&K(f,ve),f}}(),ye=l(457),le=W(ye),Q=l(729),S=W(Q),F=l(702),k=l(303);function W(K){return K&&K.__esModule?K:{default:K}}function R(K,f){if(!(K instanceof f))throw new TypeError("Cannot call a class as a function")}function ee(K,f){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:K}function U(K,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);K.prototype=Object.create(f&&f.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(K,f):K.__proto__=f)}var c=function(K){U(f,K);function f(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};R(this,f);var ve=ee(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));if(ve.options=ue,!ue.iframe)throw new Error("Iframe not defined");return(0,k.iframeResizer)({checkOrigin:!0,heightCalculationMethod:window.ieVersion<=10?"max":"lowestElement",resizeFrom:"child",resizedCallback:function(ze){ve.emit("iframeResized",ze)}},ue.iframe),ve.channel=le.default.build({window:ue.iframe.contentWindow,origin:ue.origin||"*",scope:ue.id||ue.iframe.contentWindow.location.origin,postMessageObserver:function(ze,Le){ve.emit("postMessage",ze,Le)},gotMessageObserver:function(ze,Le){ve.emit("gotMessage",ze,Le)}}),["saveData","request","addTransaction","editTransaction","addInstitution","addInvestment","editInstitution","editAsset","editLiability","deleteInstitution","deleteAsset","deleteLiability","downloadDocument","upgradePremium","getSharings","switchUser"].forEach(function(ce){ve.channel.bind(ce,function(ze,Le){var ot=ce,be=Le;ze.delayReturn(!0);var q=function(x,O){return x?ze.error(x):ze.complete(O)};ve.emit(ot,be||q,be?q:void 0)})}),ve.channel.call({method:"init",params:ue.options,success:function(ze){ve.emit("init",ze)}}),ve}return j(f,[{key:"trigger",value:function(ve,ce){var ze=this,Le={eventName:ve};return ce&&(Le.eventData=ce),new F.Promise(function(ot,be){ze.channel.call({method:"_event",params:Le,success:ot,error:be})})}},{key:"update",value:function(ve){var ce=this;return new F.Promise(function(ze,Le){if(!(0,D.default)(ve))throw new Error("Data must be an object");ce.channel.call({method:"update",params:ve,success:ze,error:Le})})}},{key:"reload",value:function(){var ve=this;return new F.Promise(function(ce,ze){ve.channel.call({method:"reload",success:ce,error:ze})})}},{key:"destroy",value:function(){this.channel.destroy()}}]),f}(S.default);d.exports=c},702:function(d,p,l){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(B,D){d.exports=D()})(this,function(){function B(E){var ie=typeof E;return E!==null&&(ie==="object"||ie==="function")}function D(E){return typeof E=="function"}var j=void 0;Array.isArray?j=Array.isArray:j=function(E){return Object.prototype.toString.call(E)==="[object Array]"};var ye=j,le=0,Q=void 0,S=void 0,F=function(ie,_){Le[le]=ie,Le[le+1]=_,le+=2,le===2&&(S?S(ot):q())};function k(E){S=E}function W(E){F=E}var R=typeof window<"u"?window:void 0,ee=R||{},U=ee.MutationObserver||ee.WebKitMutationObserver,c=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",K=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function f(){return function(){return process.nextTick(ot)}}function ue(){return typeof Q<"u"?function(){Q(ot)}:ze()}function ve(){var E=0,ie=new U(ot),_=document.createTextNode("");return ie.observe(_,{characterData:!0}),function(){_.data=E=++E%2}}function ce(){var E=new MessageChannel;return E.port1.onmessage=ot,function(){return E.port2.postMessage(0)}}function ze(){var E=setTimeout;return function(){return E(ot,1)}}var Le=new Array(1e3);function ot(){for(var E=0;E<le;E+=2){var ie=Le[E],_=Le[E+1];ie(_),Le[E]=void 0,Le[E+1]=void 0}le=0}function be(){try{var E=Function("return this")().require("vertx");return Q=E.runOnLoop||E.runOnContext,ue()}catch{return ze()}}var q=void 0;c?q=f():U?q=ve():K?q=ce():R===void 0?q=be():q=ze();function Y(E,ie){var _=this,I=new this.constructor(N);I[O]===void 0&&he(I);var w=_._state;if(w){var L=arguments[w-1];F(function(){return Ut(w,I,L,_._result)})}else wt(_,I,E,ie);return I}function x(E){var ie=this;if(E&&typeof E=="object"&&E.constructor===ie)return E;var _=new ie(N);return Ye(_,E),_}var O=Math.random().toString(36).substring(2);function N(){}var ae=void 0,de=1,ne=2;function re(){return new TypeError("You cannot resolve a promise with itself")}function Pe(){return new TypeError("A promises callback cannot return that same promise.")}function De(E,ie,_,I){try{E.call(ie,_,I)}catch(w){return w}}function yt(E,ie,_){F(function(I){var w=!1,L=De(_,ie,function($){w||(w=!0,ie!==$?Ye(I,$):ft(I,$))},function($){w||(w=!0,lt(I,$))},"Settle: "+(I._label||" unknown promise"));!w&&L&&(w=!0,lt(I,L))},E)}function Me(E,ie){ie._state===de?ft(E,ie._result):ie._state===ne?lt(E,ie._result):wt(ie,void 0,function(_){return Ye(E,_)},function(_){return lt(E,_)})}function Ge(E,ie,_){ie.constructor===E.constructor&&_===Y&&ie.constructor.resolve===x?Me(E,ie):_===void 0?ft(E,ie):D(_)?yt(E,ie,_):ft(E,ie)}function Ye(E,ie){if(E===ie)lt(E,re());else if(B(ie)){var _=void 0;try{_=ie.then}catch(I){lt(E,I);return}Ge(E,ie,_)}else ft(E,ie)}function He(E){E._onerror&&E._onerror(E._result),at(E)}function ft(E,ie){E._state===ae&&(E._result=ie,E._state=de,E._subscribers.length!==0&&F(at,E))}function lt(E,ie){E._state===ae&&(E._state=ne,E._result=ie,F(He,E))}function wt(E,ie,_,I){var w=E._subscribers,L=w.length;E._onerror=null,w[L]=ie,w[L+de]=_,w[L+ne]=I,L===0&&E._state&&F(at,E)}function at(E){var ie=E._subscribers,_=E._state;if(ie.length!==0){for(var I=void 0,w=void 0,L=E._result,$=0;$<ie.length;$+=3)I=ie[$],w=ie[$+_],I?Ut(_,I,w,L):w(L);E._subscribers.length=0}}function Ut(E,ie,_,I){var w=D(_),L=void 0,$=void 0,X=!0;if(w){try{L=_(I)}catch(Je){X=!1,$=Je}if(ie===L){lt(ie,Pe());return}}else L=I;ie._state!==ae||(w&&X?Ye(ie,L):X===!1?lt(ie,$):E===de?ft(ie,L):E===ne&&lt(ie,L))}function bt(E,ie){try{ie(function(I){Ye(E,I)},function(I){lt(E,I)})}catch(_){lt(E,_)}}var Wt=0;function A(){return Wt++}function he(E){E[O]=Wt++,E._state=void 0,E._result=void 0,E._subscribers=[]}function m(){return new Error("Array Methods must be provided an Array")}var H=function(){function E(ie,_){this._instanceConstructor=ie,this.promise=new ie(N),this.promise[O]||he(this.promise),ye(_)?(this.length=_.length,this._remaining=_.length,this._result=new Array(this.length),this.length===0?ft(this.promise,this._result):(this.length=this.length||0,this._enumerate(_),this._remaining===0&&ft(this.promise,this._result))):lt(this.promise,m())}return E.prototype._enumerate=function(_){for(var I=0;this._state===ae&&I<_.length;I++)this._eachEntry(_[I],I)},E.prototype._eachEntry=function(_,I){var w=this._instanceConstructor,L=w.resolve;if(L===x){var $=void 0,X=void 0,Je=!1;try{$=_.then}catch(zt){Je=!0,X=zt}if($===Y&&_._state!==ae)this._settledAt(_._state,I,_._result);else if(typeof $!="function")this._remaining--,this._result[I]=_;else if(w===Ce){var ct=new w(N);Je?lt(ct,X):Ge(ct,_,$),this._willSettleAt(ct,I)}else this._willSettleAt(new w(function(zt){return zt(_)}),I)}else this._willSettleAt(L(_),I)},E.prototype._settledAt=function(_,I,w){var L=this.promise;L._state===ae&&(this._remaining--,_===ne?lt(L,w):this._result[I]=w),this._remaining===0&&ft(L,this._result)},E.prototype._willSettleAt=function(_,I){var w=this;wt(_,void 0,function(L){return w._settledAt(de,I,L)},function(L){return w._settledAt(ne,I,L)})},E}();function ge(E){return new H(this,E).promise}function fe(E){var ie=this;return ye(E)?new ie(function(_,I){for(var w=E.length,L=0;L<w;L++)ie.resolve(E[L]).then(_,I)}):new ie(function(_,I){return I(new TypeError("You must pass an array to race."))})}function ke(E){var ie=this,_=new ie(N);return lt(_,E),_}function Ne(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function _t(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Ce=function(){function E(ie){this[O]=A(),this._result=this._state=void 0,this._subscribers=[],N!==ie&&(typeof ie!="function"&&Ne(),this instanceof E?bt(this,ie):_t())}return E.prototype.catch=function(_){return this.then(null,_)},E.prototype.finally=function(_){var I=this,w=I.constructor;return D(_)?I.then(function(L){return w.resolve(_()).then(function(){return L})},function(L){return w.resolve(_()).then(function(){throw L})}):I.then(_,_)},E}();Ce.prototype.then=Y,Ce.all=ge,Ce.race=fe,Ce.resolve=x,Ce.reject=ke,Ce._setScheduler=k,Ce._setAsap=W,Ce._asap=F;function Tt(){var E=void 0;if(typeof l.g<"u")E=l.g;else if(typeof self<"u")E=self;else try{E=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ie=E.Promise;if(ie){var _=null;try{_=Object.prototype.toString.call(ie.resolve())}catch{}if(_==="[object Promise]"&&!ie.cast)return}E.Promise=Ce}return Ce.polyfill=Tt,Ce.Promise=Ce,Ce})},729:d=>{var p=Object.prototype.hasOwnProperty,l="~";function B(){}Object.create&&(B.prototype=Object.create(null),new B().__proto__||(l=!1));function D(Q,S,F){this.fn=Q,this.context=S,this.once=F||!1}function j(Q,S,F,k,W){if(typeof F!="function")throw new TypeError("The listener must be a function");var R=new D(F,k||Q,W),ee=l?l+S:S;return Q._events[ee]?Q._events[ee].fn?Q._events[ee]=[Q._events[ee],R]:Q._events[ee].push(R):(Q._events[ee]=R,Q._eventsCount++),Q}function ye(Q,S){--Q._eventsCount===0?Q._events=new B:delete Q._events[S]}function le(){this._events=new B,this._eventsCount=0}le.prototype.eventNames=function(){var S=[],F,k;if(this._eventsCount===0)return S;for(k in F=this._events)p.call(F,k)&&S.push(l?k.slice(1):k);return Object.getOwnPropertySymbols?S.concat(Object.getOwnPropertySymbols(F)):S},le.prototype.listeners=function(S){var F=l?l+S:S,k=this._events[F];if(!k)return[];if(k.fn)return[k.fn];for(var W=0,R=k.length,ee=new Array(R);W<R;W++)ee[W]=k[W].fn;return ee},le.prototype.listenerCount=function(S){var F=l?l+S:S,k=this._events[F];return k?k.fn?1:k.length:0},le.prototype.emit=function(S,F,k,W,R,ee){var U=l?l+S:S;if(!this._events[U])return!1;var c=this._events[U],K=arguments.length,f,ue;if(c.fn){switch(c.once&&this.removeListener(S,c.fn,void 0,!0),K){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,F),!0;case 3:return c.fn.call(c.context,F,k),!0;case 4:return c.fn.call(c.context,F,k,W),!0;case 5:return c.fn.call(c.context,F,k,W,R),!0;case 6:return c.fn.call(c.context,F,k,W,R,ee),!0}for(ue=1,f=new Array(K-1);ue<K;ue++)f[ue-1]=arguments[ue];c.fn.apply(c.context,f)}else{var ve=c.length,ce;for(ue=0;ue<ve;ue++)switch(c[ue].once&&this.removeListener(S,c[ue].fn,void 0,!0),K){case 1:c[ue].fn.call(c[ue].context);break;case 2:c[ue].fn.call(c[ue].context,F);break;case 3:c[ue].fn.call(c[ue].context,F,k);break;case 4:c[ue].fn.call(c[ue].context,F,k,W);break;default:if(!f)for(ce=1,f=new Array(K-1);ce<K;ce++)f[ce-1]=arguments[ce];c[ue].fn.apply(c[ue].context,f)}}return!0},le.prototype.on=function(S,F,k){return j(this,S,F,k,!1)},le.prototype.once=function(S,F,k){return j(this,S,F,k,!0)},le.prototype.removeListener=function(S,F,k,W){var R=l?l+S:S;if(!this._events[R])return this;if(!F)return ye(this,R),this;var ee=this._events[R];if(ee.fn)ee.fn===F&&(!W||ee.once)&&(!k||ee.context===k)&&ye(this,R);else{for(var U=0,c=[],K=ee.length;U<K;U++)(ee[U].fn!==F||W&&!ee[U].once||k&&ee[U].context!==k)&&c.push(ee[U]);c.length?this._events[R]=c.length===1?c[0]:c:ye(this,R)}return this},le.prototype.removeAllListeners=function(S){var F;return S?(F=l?l+S:S,this._events[F]&&ye(this,F)):(this._events=new B,this._eventsCount=0),this},le.prototype.off=le.prototype.removeListener,le.prototype.addListener=le.prototype.on,le.prefixed=l,le.EventEmitter=le,d.exports=le},303:(d,p,l)=>{d.exports=l(683)},402:d=>{(function(p){if(typeof window>"u")return;var l=!0,B=10,D="",j=0,ye="",le=null,Q="",S=!1,F={resize:1,click:1},k=128,W=!0,R=1,ee="bodyOffset",U=ee,c=!0,K="",f={},ue=32,ve=null,ce=!1,ze="[iFrameSizer]",Le=ze.length,ot="",be={max:1,min:1,bodyScroll:1,documentElementScroll:1},q="child",Y=!0,x=window.parent,O="*",N=0,ae=!1,de=null,ne=16,re=1,Pe="scroll",De=Pe,yt=window,Me=function(){he("MessageCallback function not defined")},Ge=function(){},Ye=function(){},He={height:function(){return he("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return he("Custom width calculation function not defined"),document.body.scrollWidth}},ft={};function lt(P,V,g){"addEventListener"in window?P.addEventListener(V,g,!1):"attachEvent"in window&&P.attachEvent("on"+V,g)}function wt(P,V,g){"removeEventListener"in window?P.removeEventListener(V,g,!1):"detachEvent"in window&&P.detachEvent("on"+V,g)}function at(P){return P.charAt(0).toUpperCase()+P.slice(1)}function Ut(P){var V,g,C,oe=null,xe=0,Ie=function(){xe=bt(),oe=null,C=P.apply(V,g),oe||(V=g=null)};return function(){var je=bt();xe||(xe=je);var Qe=ne-(je-xe);return V=this,g=arguments,Qe<=0||Qe>ne?(oe&&(clearTimeout(oe),oe=null),xe=je,C=P.apply(V,g),oe||(V=g=null)):oe||(oe=setTimeout(Ie,Qe)),C}}var bt=Date.now||function(){return new Date().getTime()};function Wt(P){return ze+"["+ot+"] "+P}function A(P){ce&&typeof window.console=="object"&&console.log(Wt(P))}function he(P){typeof window.console=="object"&&console.warn(Wt(P))}function m(){H(),A("Initialising iFrame ("+location.href+")"),ge(),Ne(),ke("background",D),ke("padding",Q),ct(),ie(),_(),_t(),fn(),I(),f=zt(),Sn("init","Init message from host page"),Ge()}function H(){function P(g){return g==="true"}var V=K.substr(Le).split(":");ot=V[0],j=p!==V[1]?Number(V[1]):j,S=p!==V[2]?P(V[2]):S,ce=p!==V[3]?P(V[3]):ce,ue=p!==V[4]?Number(V[4]):ue,l=p!==V[6]?P(V[6]):l,ye=V[7],U=p!==V[8]?V[8]:U,D=V[9],Q=V[10],N=p!==V[11]?Number(V[11]):N,f.enable=p!==V[12]?P(V[12]):!1,q=p!==V[13]?V[13]:q,De=p!==V[14]?V[14]:De}function ge(){function P(){var g=window.iFrameResizer;A("Reading data from page: "+JSON.stringify(g)),Me="messageCallback"in g?g.messageCallback:Me,Ge="readyCallback"in g?g.readyCallback:Ge,O="targetOrigin"in g?g.targetOrigin:O,U="heightCalculationMethod"in g?g.heightCalculationMethod:U,De="widthCalculationMethod"in g?g.widthCalculationMethod:De}function V(g,C){return typeof g=="function"&&(A("Setup custom "+C+"CalcMethod"),He[C]=g,g="custom"),g}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(P(),U=V(U,"height"),De=V(De,"width")),A("TargetOrigin for parent set to: "+O)}function fe(P,V){return V.indexOf("-")!==-1&&(he("Negative CSS value ignored for "+P),V=""),V}function ke(P,V){p!==V&&V!==""&&V!=="null"&&(document.body.style[P]=V,A("Body "+P+' set to "'+V+'"'))}function Ne(){p===ye&&(ye=j+"px"),ke("margin",fe("margin",ye))}function _t(){document.documentElement.style.height="",document.body.style.height="",A('HTML & body height set to "auto"')}function Ce(P){var V={add:function(g){function C(){Sn(P.eventName,P.eventType)}ft[g]=C,lt(window,g,C)},remove:function(g){var C=ft[g];delete ft[g],wt(window,g,C)}};P.eventNames&&Array.prototype.map?(P.eventName=P.eventNames[0],P.eventNames.map(V[P.method])):V[P.method](P.eventName),A(at(P.method)+" event listener: "+P.eventType)}function Tt(P){Ce({method:P,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),Ce({method:P,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),Ce({method:P,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),Ce({method:P,eventType:"Input",eventName:"input"}),Ce({method:P,eventType:"Mouse Up",eventName:"mouseup"}),Ce({method:P,eventType:"Mouse Down",eventName:"mousedown"}),Ce({method:P,eventType:"Orientation Change",eventName:"orientationchange"}),Ce({method:P,eventType:"Print",eventName:["afterprint","beforeprint"]}),Ce({method:P,eventType:"Ready State Change",eventName:"readystatechange"}),Ce({method:P,eventType:"Touch Start",eventName:"touchstart"}),Ce({method:P,eventType:"Touch End",eventName:"touchend"}),Ce({method:P,eventType:"Touch Cancel",eventName:"touchcancel"}),Ce({method:P,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),Ce({method:P,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),Ce({method:P,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),q==="child"&&Ce({method:P,eventType:"IFrame Resized",eventName:"resize"})}function E(P,V,g,C){return V!==P&&(P in g||(he(P+" is not a valid option for "+C+"CalculationMethod."),P=V),A(C+' calculation method set to "'+P+'"')),P}function ie(){U=E(U,ee,rt,"height")}function _(){De=E(De,Pe,pt,"width")}function I(){l===!0?(Tt("add"),Te()):A("Auto Resize disabled")}function w(){A("Disable outgoing messages"),Y=!1}function L(){A("Remove event listener: Message"),wt(window,"message",lr)}function $(){le!==null&&le.disconnect()}function X(){Tt("remove"),$(),clearInterval(ve)}function Je(){w(),L(),l===!0&&X()}function ct(){var P=document.createElement("div");P.style.clear="both",P.style.display="block",document.body.appendChild(P)}function zt(){function P(){return{x:window.pageXOffset!==p?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==p?window.pageYOffset:document.documentElement.scrollTop}}function V(Qe){var et=Qe.getBoundingClientRect(),Re=P();return{x:parseInt(et.left,10)+parseInt(Re.x,10),y:parseInt(et.top,10)+parseInt(Re.y,10)}}function g(Qe){function et(Ke){var Lt=V(Ke);A("Moving to in page link (#"+Re+") at x: "+Lt.x+" y: "+Lt.y),Zt(Lt.y,Lt.x,"scrollToOffset")}var Re=Qe.split("#")[1]||Qe,Fe=decodeURIComponent(Re),Xe=document.getElementById(Fe)||document.getElementsByName(Fe)[0];p!==Xe?et(Xe):(A("In page link (#"+Re+") not found in iFrame, so sending to parent"),Zt(0,0,"inPageLink","#"+Re))}function C(){location.hash!==""&&location.hash!=="#"&&g(location.href)}function oe(){function Qe(et){function Re(Fe){Fe.preventDefault(),g(this.getAttribute("href"))}et.getAttribute("href")!=="#"&&lt(et,"click",Re)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),Qe)}function xe(){lt(window,"hashchange",C)}function Ie(){setTimeout(C,k)}function je(){Array.prototype.forEach&&document.querySelectorAll?(A("Setting up location.hash handlers"),oe(),xe(),Ie()):he("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return f.enable?je():A("In page linking not enabled"),{findTarget:g}}function fn(){A("Enable public methods"),yt.parentIFrame={autoResize:function(V){return V===!0&&l===!1?(l=!0,I()):V===!1&&l===!0&&(l=!1,X()),l},close:function(){Zt(0,0,"close"),Je()},getId:function(){return ot},getPageInfo:function(V){typeof V=="function"?(Ye=V,Zt(0,0,"pageInfo")):(Ye=function(){},Zt(0,0,"pageInfoStop"))},moveToAnchor:function(V){f.findTarget(V)},reset:function(){ur("parentIFrame.reset")},scrollTo:function(V,g){Zt(g,V,"scrollTo")},scrollToOffset:function(V,g){Zt(g,V,"scrollToOffset")},sendMessage:function(V,g){Zt(0,0,"message",JSON.stringify(V),g)},setHeightCalculationMethod:function(V){U=V,ie()},setWidthCalculationMethod:function(V){De=V,_()},setTargetOrigin:function(V){A("Set targetOrigin: "+V),O=V},size:function(V,g){var C=""+(V||"")+(g?","+g:"");Sn("size","parentIFrame.size("+C+")",V,g)}}}function Ft(){ue!==0&&(A("setInterval: "+ue+"ms"),ve=setInterval(function(){Sn("interval","setInterval: "+ue)},Math.abs(ue)))}function xt(){function P(Fe){function Xe(Ke){Ke.complete===!1&&(A("Attach listeners to "+Ke.src),Ke.addEventListener("load",oe,!1),Ke.addEventListener("error",xe,!1),Qe.push(Ke))}Fe.type==="attributes"&&Fe.attributeName==="src"?Xe(Fe.target):Fe.type==="childList"&&Array.prototype.forEach.call(Fe.target.querySelectorAll("img"),Xe)}function V(Fe){Qe.splice(Qe.indexOf(Fe),1)}function g(Fe){A("Remove listeners from "+Fe.src),Fe.removeEventListener("load",oe,!1),Fe.removeEventListener("error",xe,!1),V(Fe)}function C(Fe,Xe,Ke){g(Fe.target),Sn(Xe,Ke+": "+Fe.target.src,p,p)}function oe(Fe){C(Fe,"imageLoad","Image loaded")}function xe(Fe){C(Fe,"imageLoadFailed","Image load failed")}function Ie(Fe){Sn("mutationObserver","mutationObserver: "+Fe[0].target+" "+Fe[0].type),Fe.forEach(P)}function je(){var Fe=document.querySelector("body"),Xe={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return Re=new et(Ie),A("Create body MutationObserver"),Re.observe(Fe,Xe),Re}var Qe=[],et=window.MutationObserver||window.WebKitMutationObserver,Re=je();return{disconnect:function(){"disconnect"in Re&&(A("Disconnect body MutationObserver"),Re.disconnect(),Qe.forEach(g))}}}function Te(){var P=0>ue;window.MutationObserver||window.WebKitMutationObserver?P?Ft():le=xt():(A("MutationObserver not supported in this browser!"),Ft())}function pe(P,V){function g(oe){var xe=/^\d+(px)?$/i;if(xe.test(oe))return parseInt(oe,B);var Ie=V.style.left,je=V.runtimeStyle.left;return V.runtimeStyle.left=V.currentStyle.left,V.style.left=oe||0,oe=V.style.pixelLeft,V.style.left=Ie,V.runtimeStyle.left=je,oe}var C=0;return V=V||document.body,"defaultView"in document&&"getComputedStyle"in document.defaultView?(C=document.defaultView.getComputedStyle(V,null),C=C!==null?C[P]:0):C=g(V.currentStyle[P]),parseInt(C,B)}function _e(P){P>ne/2&&(ne=2*P,A("Event throttle increased to "+ne+"ms"))}function me(P,V){for(var g=V.length,C=0,oe=0,xe=at(P),Ie=bt(),je=0;je<g;je++)C=V[je].getBoundingClientRect()[P]+pe("margin"+xe,V[je]),C>oe&&(oe=C);return Ie=bt()-Ie,A("Parsed "+g+" HTML elements"),A("Element position calculated in "+Ie+"ms"),_e(Ie),oe}function Se(P){return[P.bodyOffset(),P.bodyScroll(),P.documentElementOffset(),P.documentElementScroll()]}function Ze(P,V){function g(){return he("No tagged elements ("+V+") found on page"),document.querySelectorAll("body *")}var C=document.querySelectorAll("["+V+"]");return C.length===0&&g(),me(P,C)}function qe(){return document.querySelectorAll("body *")}var rt={bodyOffset:function(){return document.body.offsetHeight+pe("marginTop")+pe("marginBottom")},offset:function(){return rt.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return He.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,Se(rt))},min:function(){return Math.min.apply(null,Se(rt))},grow:function(){return rt.max()},lowestElement:function(){return Math.max(rt.bodyOffset(),me("bottom",qe()))},taggedElement:function(){return Ze("bottom","data-iframe-height")}},pt={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return He.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(pt.bodyScroll(),pt.documentElementScroll())},max:function(){return Math.max.apply(null,Se(pt))},min:function(){return Math.min.apply(null,Se(pt))},rightMostElement:function(){return me("right",qe())},taggedElement:function(){return Ze("right","data-iframe-width")}};function Pt(P,V,g,C){function oe(){R=Re,re=Fe,Zt(R,re,P)}function xe(){function Xe(Ke,Lt){var Qt=Math.abs(Ke-Lt)<=N;return!Qt}return Re=p!==g?g:rt[U](),Fe=p!==C?C:pt[De](),Xe(R,Re)||S&&Xe(re,Fe)}function Ie(){return!(P in{init:1,interval:1,size:1})}function je(){return U in be||S&&De in be}function Qe(){A("No change in size detected")}function et(){Ie()&&je()?ur(V):P in{interval:1}||Qe()}var Re,Fe;xe()||P==="init"?(Vn(),oe()):et()}var Vt=Ut(Pt);function Sn(P,V,g,C){function oe(){P in{reset:1,resetPage:1,init:1}||A("Trigger event: "+V)}function xe(){return ae&&P in F}xe()?A("Trigger event cancelled: "+P):(oe(),Vt(P,V,g,C))}function Vn(){ae||(ae=!0,A("Trigger event lock on")),clearTimeout(de),de=setTimeout(function(){ae=!1,A("Trigger event lock off"),A("--")},k)}function mn(P){R=rt[U](),re=pt[De](),Zt(R,re,P)}function ur(P){var V=U;U=ee,A("Reset trigger event: "+P),Vn(),mn("reset"),U=V}function Zt(P,V,g,C,oe){function xe(){p===oe?oe=O:A("Message targetOrigin: "+oe)}function Ie(){var je=P+":"+V,Qe=ot+":"+je+":"+g+(p!==C?":"+C:"");A("Sending message to host page ("+Qe+")"),x.postMessage(ze+Qe,oe)}Y===!0&&(xe(),Ie())}function lr(P){var V={init:function(){function Re(){K=P.data,x=P.source,m(),W=!1,setTimeout(function(){c=!1},k)}document.readyState==="interactive"||document.readyState==="complete"?Re():(A("Waiting for page ready"),lt(window,"readystatechange",V.initFromParent))},reset:function(){c?A("Page reset ignored by init"):(A("Page size reset by host page"),mn("resetPage"))},resize:function(){Sn("resizeParent","Parent window requested size check")},moveToAnchor:function(){f.findTarget(oe())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var Re=oe();A("PageInfoFromParent called from parent: "+Re),Ye(JSON.parse(Re)),A(" --")},message:function(){var Re=oe();A("MessageCallback called from parent: "+Re),Me(JSON.parse(Re)),A(" --")}};function g(){return ze===(""+P.data).substr(0,Le)}function C(){return P.data.split("]")[1].split(":")[0]}function oe(){return P.data.substr(P.data.indexOf(":")+1)}function xe(){return!d.exports&&"iFrameResize"in window}function Ie(){return P.data.split(":")[2]in{true:1,false:1}}function je(){var et=C();et in V?V[et]():!xe()&&!Ie()&&he("Unexpected message ("+P.data+")")}function Qe(){W===!1?je():Ie()?V.init():A('Ignored message of type "'+C()+'". Received before initialization.')}g()&&Qe()}function an(){document.readyState!=="loading"&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}lt(window,"message",lr),an()})()},28:(d,p)=>{var l,B,D;(function(j){if(typeof window>"u")return;var ye=0,le=!1,Q=!1,S="message",F=S.length,k="[iFrameSizer]",W=k.length,R=null,ee=window.requestAnimationFrame,U={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},c={},K=null,f={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){Y("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};function ue(A,he,m){"addEventListener"in window?A.addEventListener(he,m,!1):"attachEvent"in window&&A.attachEvent("on"+he,m)}function ve(A,he,m){"removeEventListener"in window?A.removeEventListener(he,m,!1):"detachEvent"in window&&A.detachEvent("on"+he,m)}function ce(){var A=["moz","webkit","o","ms"],he;for(he=0;he<A.length&&!ee;he+=1)ee=window[A[he]+"RequestAnimationFrame"];ee||be("setup","RequestAnimationFrame not supported")}function ze(A){var he="Host page: "+A;return window.top!==window.self&&(window.parentIFrame&&window.parentIFrame.getId?he=window.parentIFrame.getId()+": "+A:he="Nested host page: "+A),he}function Le(A){return k+"["+ze(A)+"]"}function ot(A){return c[A]?c[A].log:le}function be(A,he){x("log",A,he,ot(A))}function q(A,he){x("info",A,he,ot(A))}function Y(A,he){x("warn",A,he,!0)}function x(A,he,m,H){H===!0&&typeof window.console=="object"&&console[A](Le(he),m)}function O(A){function he(){function pe(){De(xt),ne(Te),X("resizedCallback",xt)}H("Height"),H("Width"),yt(pe,xt,"init")}function m(){var pe=Ft.substr(W).split(":");return{iframe:c[pe[0]]&&c[pe[0]].iframe,id:pe[0],height:pe[1],width:pe[2],type:pe[3]}}function H(pe){var _e=Number(c[Te]["max"+pe]),me=Number(c[Te]["min"+pe]),Se=pe.toLowerCase(),Ze=Number(xt[Se]);be(Te,"Checking "+Se+" is in range "+me+"-"+_e),Ze<me&&(Ze=me,be(Te,"Set "+Se+" to min value")),Ze>_e&&(Ze=_e,be(Te,"Set "+Se+" to max value")),xt[Se]=""+Ze}function ge(){function pe(){function Se(){var qe=0,rt=!1;for(be(Te,"Checking connection is from allowed list of origins: "+me);qe<me.length;qe++)if(me[qe]===_e){rt=!0;break}return rt}function Ze(){var qe=c[Te]&&c[Te].remoteHost;return be(Te,"Checking connection is from: "+qe),_e===qe}return me.constructor===Array?Se():Ze()}var _e=A.origin,me=c[Te]&&c[Te].checkOrigin;if(me&&""+_e!="null"&&!pe())throw new Error("Unexpected message received from: "+_e+" for "+xt.iframe.id+". Message was: "+A.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function fe(){return k===(""+Ft).substr(0,W)&&Ft.substr(W).split(":")[0]in c}function ke(){var pe=xt.type in{true:1,false:1,undefined:1};return pe&&be(Te,"Ignoring init message from meta parent page"),pe}function Ne(pe){return Ft.substr(Ft.indexOf(":")+F+pe)}function _t(pe){be(Te,"MessageCallback passed: {iframe: "+xt.iframe.id+", message: "+pe+"}"),X("messageCallback",{iframe:xt.iframe,message:JSON.parse(pe)}),be(Te,"--")}function Ce(){var pe=document.body.getBoundingClientRect(),_e=xt.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:_e.height,iframeWidth:_e.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(_e.top-pe.top,10),offsetLeft:parseInt(_e.left-pe.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})}function Tt(pe,_e){function me(){Me("Send Page Info","pageInfo:"+Ce(),pe,_e)}He(me,32)}function E(){function pe(Ze,qe){function rt(){c[Se]?Tt(c[Se].iframe,Se):_e()}["scroll","resize"].forEach(function(pt){be(Se,Ze+pt+" listener for sendPageInfo"),qe(window,pt,rt)})}function _e(){pe("Remove ",ve)}function me(){pe("Add ",ue)}var Se=Te;me(),c[Se]&&(c[Se].stopPageInfo=_e)}function ie(){c[Te]&&c[Te].stopPageInfo&&(c[Te].stopPageInfo(),delete c[Te].stopPageInfo)}function _(){var pe=!0;return xt.iframe===null&&(Y(Te,"IFrame ("+xt.id+") not found"),pe=!1),pe}function I(pe){var _e=pe.getBoundingClientRect();return de(Te),{x:Math.floor(Number(_e.left)+Number(R.x)),y:Math.floor(Number(_e.top)+Number(R.y))}}function w(pe){function _e(){R=qe,L(),be(Te,"--")}function me(){return{x:Number(xt.width)+Ze.x,y:Number(xt.height)+Ze.y}}function Se(){window.parentIFrame?window.parentIFrame["scrollTo"+(pe?"Offset":"")](qe.x,qe.y):Y(Te,"Unable to scroll to requested position, window.parentIFrame not found")}var Ze=pe?I(xt.iframe):{x:0,y:0},qe=me();be(Te,"Reposition requested from iFrame (offset x:"+Ze.x+" y:"+Ze.y+")"),window.top!==window.self?Se():_e()}function L(){X("scrollCallback",R)!==!1?ne(Te):re()}function $(pe){function _e(){var rt=I(qe);be(Te,"Moving to in page link (#"+Se+") at x: "+rt.x+" y: "+rt.y),R={x:rt.x,y:rt.y},L(),be(Te,"--")}function me(){window.parentIFrame?window.parentIFrame.moveToAnchor(Se):be(Te,"In page link #"+Se+" not found and window.parentIFrame not found")}var Se=pe.split("#")[1]||"",Ze=decodeURIComponent(Se),qe=document.getElementById(Ze)||document.getElementsByName(Ze)[0];qe?_e():window.top!==window.self?me():be(Te,"In page link #"+Se+" not found")}function X(pe,_e){return N(Te,pe,_e)}function Je(){switch(c[Te]&&c[Te].firstRun&&fn(),xt.type){case"close":c[Te].closeRequestCallback?N(Te,"closeRequestCallback",c[Te].iframe):ae(xt.iframe);break;case"message":_t(Ne(6));break;case"scrollTo":w(!1);break;case"scrollToOffset":w(!0);break;case"pageInfo":Tt(c[Te]&&c[Te].iframe,Te),E();break;case"pageInfoStop":ie();break;case"inPageLink":$(Ne(9));break;case"reset":Pe(xt);break;case"init":he(),X("initCallback",xt.iframe);break;default:he()}}function ct(pe){var _e=!0;return c[pe]||(_e=!1,Y(xt.type+" No settings for "+pe+". Message was: "+Ft)),_e}function zt(){for(var pe in c)Me("iFrame requested init",Ge(pe),document.getElementById(pe),pe)}function fn(){c[Te]&&(c[Te].firstRun=!1)}var Ft=A.data,xt={},Te=null;Ft==="[iFrameResizerChild]Ready"?zt():fe()?(xt=m(),Te=xt.id,c[Te]&&(c[Te].loaded=!0),!ke()&&ct(Te)&&(be(Te,"Received: "+Ft),_()&&ge()&&Je())):q(Te,"Ignored: "+Ft)}function N(A,he,m){var H=null,ge=null;if(c[A])if(H=c[A][he],typeof H=="function")ge=H(m);else throw new TypeError(he+" on iFrame["+A+"] is not a function");return ge}function ae(A){var he=A.id;be(he,"Removing iFrame: "+he),A.parentNode&&A.parentNode.removeChild(A),N(he,"closedCallback",he),be(he,"--"),delete c[he]}function de(A){R===null&&(R={x:window.pageXOffset!==j?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==j?window.pageYOffset:document.documentElement.scrollTop},be(A,"Get page position: "+R.x+","+R.y))}function ne(A){R!==null&&(window.scrollTo(R.x,R.y),be(A,"Set page position: "+R.x+","+R.y),re())}function re(){R=null}function Pe(A){function he(){De(A),Me("reset","reset",A.iframe,A.id)}be(A.id,"Size reset requested by "+(A.type==="init"?"host page":"iFrame")),de(A.id),yt(he,A,"reset")}function De(A){function he(fe){A.iframe.style[fe]=A[fe]+"px",be(A.id,"IFrame ("+ge+") "+fe+" set to "+A[fe]+"px")}function m(fe){!Q&&A[fe]==="0"&&(Q=!0,be(ge,"Hidden iFrame detected, creating visibility listener"),ft())}function H(fe){he(fe),m(fe)}var ge=A.iframe.id;c[ge]&&(c[ge].sizeHeight&&H("height"),c[ge].sizeWidth&&H("width"))}function yt(A,he,m){m!==he.type&&ee?(be(he.id,"Requesting animation frame"),ee(A)):A()}function Me(A,he,m,H,ge){function fe(){var Tt=c[H]&&c[H].targetOrigin;be(H,"["+A+"] Sending msg to iframe["+H+"] ("+he+") targetOrigin: "+Tt),m.contentWindow.postMessage(k+he,Tt)}function ke(){Y(H,"["+A+"] IFrame("+H+") not found")}function Ne(){m&&"contentWindow"in m&&m.contentWindow!==null?fe():ke()}function _t(){function Tt(){c[H]&&!c[H].loaded&&!Ce&&(Ce=!0,Y(H,"IFrame has not responded within "+c[H].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ingored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}ge&&c[H]&&c[H].warningTimeout&&(c[H].msgTimeout=setTimeout(Tt,c[H].warningTimeout))}var Ce=!1;H=H||m.id,c[H]&&(Ne(),_t())}function Ge(A){return A+":"+c[A].bodyMarginV1+":"+c[A].sizeWidth+":"+c[A].log+":"+c[A].interval+":"+c[A].enablePublicMethods+":"+c[A].autoResize+":"+c[A].bodyMargin+":"+c[A].heightCalculationMethod+":"+c[A].bodyBackground+":"+c[A].bodyPadding+":"+c[A].tolerance+":"+c[A].inPageLinks+":"+c[A].resizeFrom+":"+c[A].widthCalculationMethod}function Ye(A,he){function m(){function L(X){c[w][X]!==1/0&&c[w][X]!==0&&(A.style[X]=c[w][X]+"px",be(w,"Set "+X+" = "+c[w][X]+"px"))}function $(X){if(c[w]["min"+X]>c[w]["max"+X])throw new Error("Value for min"+X+" can not be greater than max"+X)}$("Height"),$("Width"),L("maxHeight"),L("minHeight"),L("maxWidth"),L("minWidth")}function H(){var L=he&&he.id||f.id+ye++;return document.getElementById(L)!==null&&(L=L+ye++),L}function ge(L){return L===""&&(A.id=L=H(),le=(he||{}).log,be(L,"Added missing iframe ID: "+L+" ("+A.src+")")),L}function fe(){switch(be(w,"IFrame scrolling "+(c[w]&&c[w].scrolling?"enabled":"disabled")+" for "+w),A.style.overflow=(c[w]&&c[w].scrolling)===!1?"hidden":"auto",c[w]&&c[w].scrolling){case!0:A.scrolling="yes";break;case!1:A.scrolling="no";break;default:A.scrolling=c[w]?c[w].scrolling:"no"}}function ke(){(typeof(c[w]&&c[w].bodyMargin)=="number"||(c[w]&&c[w].bodyMargin)==="0")&&(c[w].bodyMarginV1=c[w].bodyMargin,c[w].bodyMargin=""+c[w].bodyMargin+"px")}function Ne(){var L=c[w]&&c[w].firstRun,$=c[w]&&c[w].heightCalculationMethod in U;!L&&$&&Pe({iframe:A,height:0,width:0,type:"init"})}function _t(){Function.prototype.bind&&c[w]&&(c[w].iframe.iFrameResizer={close:ae.bind(null,c[w].iframe),resize:Me.bind(null,"Window resize","resize",c[w].iframe),moveToAnchor:function(L){Me("Move to anchor","moveToAnchor:"+L,c[w].iframe,w)},sendMessage:function(L){L=JSON.stringify(L),Me("Send Message","message:"+L,c[w].iframe,w)}})}function Ce(L){function $(){Me("iFrame.onload",L,A,j,!0),Ne()}ue(A,"load",$),Me("init",L,A,j,!0)}function Tt(L){if(typeof L!="object")throw new TypeError("Options is not an object")}function E(L){for(var $ in f)f.hasOwnProperty($)&&(c[w][$]=L.hasOwnProperty($)?L[$]:f[$])}function ie(L){return L===""||L==="file://"?"*":L}function _(L){L=L||{},c[w]={firstRun:!0,iframe:A,remoteHost:A.src.split("/").slice(0,3).join("/")},Tt(L),E(L),c[w]&&(c[w].targetOrigin=c[w].checkOrigin===!0?ie(c[w].remoteHost):"*")}function I(){return w in c&&"iFrameResizer"in A}var w=ge(A.id);I()?Y(w,"Ignored iFrame, already setup."):(_(he),fe(),m(),ke(),Ce(Ge(w)),_t())}function He(A,he){K===null&&(K=setTimeout(function(){K=null,A()},he))}function ft(){function A(){function ge(ke){function Ne(Ce){return(c[ke]&&c[ke].iframe.style[Ce])==="0px"}function _t(Ce){return Ce.offsetParent!==null}c[ke]&&_t(c[ke].iframe)&&(Ne("height")||Ne("width"))&&Me("Visibility change","resize",c[ke].iframe,ke)}for(var fe in c)ge(fe)}function he(ge){be("window","Mutation observed: "+ge[0].target+" "+ge[0].type),He(A,16)}function m(){var ge=document.querySelector("body"),fe={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},ke=new H(he);ke.observe(ge,fe)}var H=window.MutationObserver||window.WebKitMutationObserver;H&&m()}function lt(A){function he(){at("Window "+A,"resize")}be("window","Trigger event: "+A),He(he,16)}function wt(){function A(){at("Tab Visable","resize")}document.visibilityState!=="hidden"&&(be("document","Trigger event: Visiblity change"),He(A,16))}function at(A,he){function m(ge){return c[ge]&&c[ge].resizeFrom==="parent"&&c[ge].autoResize&&!c[ge].firstRun}for(var H in c)m(H)&&Me(A,he,document.getElementById(H),H)}function Ut(){ue(window,"message",O),ue(window,"resize",function(){lt("resize")}),ue(document,"visibilitychange",wt),ue(document,"-webkit-visibilitychange",wt),ue(window,"focusin",function(){lt("focus")}),ue(window,"focus",function(){lt("focus")})}function bt(){function A(H,ge){function fe(){if(ge.tagName){if(ge.tagName.toUpperCase()!=="IFRAME")throw new TypeError("Expected <IFRAME> tag, found <"+ge.tagName+">")}else throw new TypeError("Object is not a valid DOM element")}ge&&(fe(),Ye(ge,H),m.push(ge))}function he(H){H&&H.enablePublicMethods&&Y("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var m;return ce(),Ut(),function(ge,fe){switch(m=[],he(ge),typeof fe){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(fe||"iframe"),A.bind(j,ge));break;case"object":A(ge,fe);break;default:throw new TypeError("Unexpected data type ("+typeof fe+")")}return m}}function Wt(A){A.fn?A.fn.iFrameResize||(A.fn.iFrameResize=function(m){function H(ge,fe){Ye(fe,m)}return this.filter("iframe").each(H).end()}):q("","Unable to bind to jQuery, it is not fully loaded.")}window.jQuery&&Wt(window.jQuery),B=[],l=bt,D=typeof l=="function"?l.apply(p,B):l,D!==j&&(d.exports=D)})()},683:(d,p,l)=>{p.iframeResizer=l(28),p.iframeResizerContentWindow=l(402)},457:d=>{var p=function(){var l=Math.floor(Math.random()*1000001),B={};function D(S,F,k,W){function R(c){for(var K=0;K<c.length;K++)if(c[K].win===S)return!0;return!1}var ee=!1;if(F==="*"){for(var U in B)if(B.hasOwnProperty(U)&&U!=="*"&&typeof B[U][k]=="object"&&(ee=R(B[U][k]),ee))break}else B["*"]&&B["*"][k]&&(ee=R(B["*"][k])),!ee&&B[F]&&B[F][k]&&(ee=R(B[F][k]));if(ee)throw"A channel is already bound to the same window which overlaps with origin '"+F+"' and has scope '"+k+"'";typeof B[F]!="object"&&(B[F]={}),typeof B[F][k]!="object"&&(B[F][k]=[]),B[F][k].push({win:S,handler:W})}function j(S,F,k){for(var W=B[F][k],R=0;R<W.length;R++)W[R].win===S&&W.splice(R,1);B[F][k].length===0&&delete B[F][k]}function ye(S){return Array.isArray?Array.isArray(S):S.constructor.toString().indexOf("Array")!=-1}var le={},Q=function(S){try{var F=JSON.parse(S.data);if(typeof F!="object"||F===null)throw"malformed"}catch{return}var k=S.source,W=S.origin,R,ee,U;if(typeof F.method=="string"){var c=F.method.split("::");c.length==2?(R=c[0],U=c[1]):U=F.method}if(typeof F.id<"u"&&(ee=F.id),typeof U=="string"){var K=!1;if(B[W]&&B[W][R]){for(var f=0;f<B[W][R].length;f++)if(B[W][R][f].win===k){B[W][R][f].handler(W,U,F),K=!0;break}}if(!K&&B["*"]&&B["*"][R]){for(var f=0;f<B["*"][R].length;f++)if(B["*"][R][f].win===k){B["*"][R][f].handler(W,U,F);break}}}else typeof ee<"u"&&le[ee]&&le[ee](W,U,F)};return window.addEventListener?window.addEventListener("message",Q,!1):window.attachEvent&&window.attachEvent("onmessage",Q),{build:function(S){var F=function(q){if(S.debugOutput&&window.console&&window.console.log){try{typeof q!="string"&&(q=JSON.stringify(q))}catch{}console.log("["+R+"] "+q)}};if(!window.postMessage)throw"jschannel cannot run this browser, no postMessage";if(!window.JSON||!window.JSON.stringify||!window.JSON.parse)throw"jschannel cannot run this browser, no JSON parsing/serialization";if(typeof S!="object")throw"Channel build invoked without a proper object argument";if(!S.window||!S.window.postMessage)throw"Channel.build() called without a valid window argument";if(window===S.window)throw"target window is same as present window -- not allowed";var k=!1;if(typeof S.origin=="string"){var W;S.origin==="*"?k=!0:(W=S.origin.match(/^https?:\/\/(?:[-a-zA-Z0-9_\.])+(?::\d+)?/))!==null&&(S.origin=W[0].toLowerCase(),k=!0)}if(!k)throw"Channel.build() called with an invalid origin";if(typeof S.scope<"u"){if(typeof S.scope!="string")throw"scope, when specified, must be a string";if(S.scope.split("::").length>1)throw"scope may not contain double colons: '::'"}var R=function(){for(var q="",Y="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",x=0;x<5;x++)q+=Y.charAt(Math.floor(Math.random()*Y.length));return q}(),ee={},U={},c={},K=!1,f=[],ue=function(q,Y,x){var O=!1,N=!1;return{origin:Y,invoke:function(ae,de){if(!c[q])throw"attempting to invoke a callback of a nonexistent transaction: "+q;for(var ne=!1,re=0;re<x.length;re++)if(ae===x[re]){ne=!0;break}if(!ne)throw"request supports no such callback '"+ae+"'";Le({id:q,callback:ae,params:de})},error:function(ae,de){if(N=!0,!c[q])throw"error called for nonexistent message: "+q;delete c[q],Le({id:q,error:ae,message:de})},complete:function(ae){if(N=!0,!c[q])throw"complete called for nonexistent message: "+q;delete c[q],Le({id:q,result:ae})},delayReturn:function(ae){return typeof ae=="boolean"&&(O=ae===!0),O},completed:function(){return N}}},ve=function(q,Y,x){return window.setTimeout(function(){if(U[q]){var O="timeout ("+Y+"ms) exceeded on method '"+x+"'";(0,U[q].error)("timeout_error",O),delete U[q],delete le[q]}},Y)},ce=function(q,Y,x){if(typeof S.gotMessageObserver=="function")try{S.gotMessageObserver(q,x)}catch(Ge){F("gotMessageObserver() raised an exception: "+Ge.toString())}if(x.id&&Y){if(ee[Y]){var O=ue(x.id,q,x.callbacks?x.callbacks:[]);c[x.id]={};try{if(x.callbacks&&ye(x.callbacks)&&x.callbacks.length>0)for(var N=0;N<x.callbacks.length;N++){for(var ae=x.callbacks[N],de=x.params,ne=ae.split("/"),re=0;re<ne.length-1;re++){var Pe=ne[re];typeof de[Pe]!="object"&&(de[Pe]={}),de=de[Pe]}de[ne[ne.length-1]]=function(){var Ge=ae;return function(Ye){return O.invoke(Ge,Ye)}}()}var De=ee[Y](O,x.params);!O.delayReturn()&&!O.completed()&&O.complete(De)}catch(Ge){var yt="runtime_error",Me=null;if(typeof Ge=="string"?Me=Ge:typeof Ge=="object"&&(Ge&&ye(Ge)&&Ge.length==2?(yt=Ge[0],Me=Ge[1]):typeof Ge.error=="string"&&(yt=Ge.error,Ge.message?typeof Ge.message=="string"?Me=Ge.message:Ge=Ge.message:Me="")),Me===null)try{Me=JSON.stringify(Ge),typeof Me>"u"&&(Me=Ge.toString())}catch{Me=Ge.toString()}O.error(yt,Me)}}}else x.id&&x.callback?!U[x.id]||!U[x.id].callbacks||!U[x.id].callbacks[x.callback]?F("ignoring invalid callback, id:"+x.id+" ("+x.callback+")"):U[x.id].callbacks[x.callback](x.params):x.id?U[x.id]?(x.error?(0,U[x.id].error)(x.error,x.message):x.result!==void 0?(0,U[x.id].success)(x.result):(0,U[x.id].success)(),delete U[x.id],delete le[x.id]):F("ignoring invalid response: "+x.id):Y&&ee[Y]&&ee[Y]({origin:q},x.params)};D(S.window,S.origin,typeof S.scope=="string"?S.scope:"",ce);var ze=function(q){return typeof S.scope=="string"&&S.scope.length&&(q=[S.scope,q].join("::")),q},Le=function(q,Y){if(!q)throw"postMessage called with null message";var x=K?"post  ":"queue ";if(F(x+" message: "+JSON.stringify(q)),!Y&&!K)f.push(q);else{if(typeof S.postMessageObserver=="function")try{S.postMessageObserver(S.origin,q)}catch(O){F("postMessageObserver() raised an exception: "+O.toString())}S.window.postMessage(JSON.stringify(q),S.origin)}},ot=function(q,Y){if(F("ready msg received"),K)throw"received ready message while in ready state.  help!";for(Y==="ping"?R+="-R":R+="-L",be.unbind("__ready"),K=!0,F("ready msg accepted."),Y==="ping"&&be.notify({method:"__ready",params:"pong"});f.length;)Le(f.pop());typeof S.onReady=="function"&&S.onReady(be)},be={unbind:function(q){if(ee[q]){if(!delete ee[q])throw"can't delete method: "+q;return!0}return!1},bind:function(q,Y){if(!q||typeof q!="string")throw"'method' argument to bind must be string";if(!Y||typeof Y!="function")throw"callback missing from bind params";if(ee[q])throw"method '"+q+"' is already bound!";return ee[q]=Y,this},call:function(q){if(!q)throw"missing arguments to call function";if(!q.method||typeof q.method!="string")throw"'method' argument to call must be string";if(!q.success||typeof q.success!="function")throw"'success' callback missing from call";var Y={},x=[],O=[],N=function(de,ne){if(O.indexOf(ne)>=0)throw"params cannot be a recursive data structure";if(O.push(ne),typeof ne=="object"){for(var re in ne)if(ne.hasOwnProperty(re)){var Pe=de+(de.length?"/":"")+re;typeof ne[re]=="function"?(Y[Pe]=ne[re],x.push(Pe),delete ne[re]):typeof ne[re]=="object"&&ne[re]!==null&&N(Pe,ne[re])}}};N("",q.params);var ae={id:l,method:ze(q.method),params:q.params};x.length&&(ae.callbacks=x),q.timeout&&ve(l,q.timeout,ze(q.method)),U[l]={callbacks:Y,error:q.error,success:q.success},le[l]=ce,l++,Le(ae)},notify:function(q){if(!q)throw"missing arguments to notify function";if(!q.method||typeof q.method!="string")throw"'method' argument to notify must be string";Le({method:ze(q.method),params:q.params})},destroy:function(){j(S.window,S.origin,typeof S.scope=="string"?S.scope:""),window.removeEventListener?window.removeEventListener("message",ce,!1):window.detachEvent&&window.detachEvent("onmessage",ce),K=!1,ee={},c={},U={},S.origin=null,f=[],F("channel destroyed"),R=""}};return be.bind("__ready",ot),setTimeout(function(){Le({method:ze("__ready"),params:"ping"},!0)},0),be}}}();d.exports=p},218:d=>{function p(l){var B=typeof l;return l!=null&&(B=="object"||B=="function")}d.exports=p}},s={};function i(d){var p=s[d];if(p!==void 0)return p.exports;var l=s[d]={exports:{}};return y[d].call(l.exports,l,l.exports,i),l.exports}i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i(669)})();var Z_=Ru.Addon;class Q_{constructor(){this.addon=new Z_,this.addon.on("init",s=>{this.addon.options=s})}fetch_user(){try{return this.addon.api.getUser()}catch(s){throw s}}fetch_currencies(){try{return this.addon.request({method:"GET",endpoint:"currencies"})}catch(s){throw s}}fetch_institutions(){try{return this.addon.api.getInstitutions(this.get_options_query(this.addon.options))}catch(s){throw s}}fetch_positions(){try{return this.addon.api.getPositions(this.get_options_query(this.addon.options))}catch(s){throw s}}fetch_historical_data(s){try{return this.addon.request({method:"GET",endpoint:`securities/${s}/history`})}catch(i){throw i}}fetch_stock_prices(s,i){return fetch("https://data.wealthica.com/api/streams",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:s,symbols:i})}).then(l=>l.json()).catch(l=>{throw l})}get_options_query(s){return{from:s.dateRangeFilter&&s.dateRangeFilter[0],to:s.dateRangeFilter&&s.dateRangeFilter[1],groups:s.groupsFilter,institutions:s.institutionsFilter,investments:s.investmentsFilter==="all"?null:s.investmentsFilter}}}function ev(y){if(this.storage_activated){const s=localStorage.getItem(y);return s?JSON.parse(s):null}else return null}function tv(y,s){this.storage_activated&&localStorage.setItem(y,JSON.stringify(s))}const ir=!1,qi=[{name:"INVESTOR - CELI",account_number:"22981483",order:1,type:null,no_holdings:!1,exluded:!1},{name:"INVESTOR - RESP",account_number:"21921430",order:2,type:null,no_holdings:!1,exluded:!1},{name:"NESBITT - NON-ENRG",account_number:"31015145",order:3,type:null,no_holdings:!1,exluded:!0},{name:"NESBITT - BELSKI",account_number:"31107566",order:4,type:null,no_holdings:!1,exluded:ir},{name:"NESBITT - FONDS",account_number:"31107567",order:5,type:null,no_holdings:!1,exluded:ir},{name:"NESBITT - ACTIONS (REER)",account_number:"31107798",order:6,type:null,no_holdings:!1,exluded:ir},{name:"NESBITT - ACTIONS (CELI)",account_number:"78124230",order:7,type:null,no_holdings:!1,exluded:ir},{name:"CGI - ACTIONS (REER)",account_number:"197287703264",order:8,type:null,no_holdings:!0,exluded:ir},{name:"CGI - ACTIONS (NON-ENRG)",account_number:"197287499339",order:8,type:"NRG",no_holdings:!0,exluded:ir},{name:"FTQ - REER",account_number:"107935800-01R",order:9,type:"RRSP",no_holdings:!0,exluded:ir},{name:"BMO - INVEST",account_number:"XXXX6679",order:10,type:"CASH",no_holdings:!0,exluded:ir}];function Lu(y,s){const i=qi.find(d=>d.account_number===y);return i?i.type||s.toUpperCase():""}function Du(y){var s=qi.find(i=>i.account_number===y);return s?s.exluded:!0}function Nu(y){var s=qi.find(i=>i.account_number===y);return s?s.order:999}function Wu(y){var s=qi.find(i=>i.account_number===y);return s?s.no_holdings:!1}const Kt={user:"user",currencies:"currencies",institutions:"institutions",positions:"positions",prices:"prices",accounts:"accounts",holdings:"holdings",totals:"totals",x_usd:"x_usd"},Lr={unknown:"unknown",memory:"memory",store:"store",fetched:"fetched",loading:"loading",refreshed:"refreshed"};class nv{constructor(){Pn(this,"storage_activated",!1);Pn(this,"user",null);Pn(this,"currencies",null);Pn(this,"institutions",null);Pn(this,"positions",null);Pn(this,"prices",null);Pn(this,"accounts",null);Pn(this,"holdings",null);Pn(this,"totals",null);Pn(this,"x_usd",null);this.wealthica=new Q_}async load(s){let i=Lr.unknown;this[s]?this[s]instanceof Promise?(i=Lr.loading,await this[s]):i=Lr.memory:(this[s]=ev(s))?i=Lr.store:(i=Lr.fetched,this[s]=this.retrieve_data(s),this[s]=await this[s],tv(s,this[s])),i!=Lr.loading&&(this[s],void 0)}retrieve_data(s){switch(s){case"user":return this.wealthica.fetch_user();case"currencies":return this.wealthica.fetch_currencies();case"institutions":return this.wealthica.fetch_institutions();case"positions":return this.wealthica.fetch_positions();case"prices":return this.fetch_stock_prices();case"accounts":return this.retrieve_accounts_data();case"holdings":return this.retrieve_holdings_data();case"totals":return this.retrieve_accounts_totals();case"x_usd":return this.retrieve_x_usd_data();default:throw`No such data to fetch (${s})`}}async retrieve_accounts_data(){return await this.load(Kt.institutions),this.institutions.flatMap(i=>{const d=new Map;return i.investments.forEach(p=>{let l=this.get_account_number(p);if(!p.ignored&&!Du(l)){let B=d.get(l)??{institution:{name:i.name,type:i.type},number:l,name:p.name,type:Lu(l,p.type),order:Nu(l),no_holdings:Wu(l),expanded:!1,subaccounts:[]};B.subaccounts.push({id:p._id,name:p.name,currency:p.currency,value:p.currency_value,expanded:!0}),d.set(l,B)}}),Array.from(d.values())}).sort((i,d)=>i.order-d.order)}get_account_number(s){return(s.account_number?s.account_number:s.id).toUpperCase()}async retrieve_accounts_totals(){let s={};return await Promise.all([this.load(Kt.accounts),this.load(Kt.holdings)]),this.accounts.forEach(i=>{let d={};i.subaccounts.forEach(p=>{let l=this.calculate_holdings_totals("subaccount_id",p.id);i.no_holdings&&this.calculate_no_holdings_totals(p,l),(s[i.number]=s[i.number]||{})[p.id]=l,d=this.sum_account_totals(d,l)}),s[i.number]={...s[i.number]||{},...d},s.all=this.sum_account_totals(s.all||{},d)}),this.calculate_accounts_weights(s),s}calculate_holdings_totals(s,i){let d=this.holdings.filter(p=>p[s]===i).reduce((p,l)=>(l.symbol!="REALCASH"&&(p.book_value+=l.values.book_value,p.close_amount+=l.values.close_amount,p.gain_daily_amount+=l.values.gain_daily_amount,p.gain_period_amount+=l.values.gain_period_amount,p.gain_overall_amount+=l.values.gain_overall_amount),p.market_value+=l.values.market_value,p.market_value_CAD+=l.currency!="usd"?l.values.market_value:0,p.market_value_USD+=l.currency=="usd"?l.values.market_value:0,p.market_total_CAD+=l.values.market_value_CAD,p.weight+=l.values.weight,p),this.initialized_holdings_totals());return d.gain_daily_percent=d.market_value/(d.market_value-d.gain_daily_amount)-1,d.gain_period_percent=d.market_value/(d.market_value-d.gain_period_amount)-1,d.gain_overall_percent=d.market_value/(d.market_value-d.gain_overall_amount)-1,d}calculate_no_holdings_totals(s,i){const d=s.currency=="usd";i.market_value_CAD=d?0:s.value,i.market_value_USD=d?s.value:0,i.market_total_CAD=s.value*(d?1/this.x_usd.rate:1)}calculate_accounts_weights(s){s.all.weight=this.accounts.reduce((i,d)=>{let p=s[d.number].market_total_CAD/s.all.market_total_CAD;return s[d.number].weight=p,i+p},0)}sum_account_totals(s,i){let d=Object.keys(i).reduce((p,l)=>({...p,[l]:(s[l]||0)+i[l]}),{});return delete d.market_value,d}async retrieve_holdings_data(){await Promise.all([this.load(Kt.positions),this.load(Kt.x_usd)]);let s=[];return this.positions.forEach(i=>{i.investments.forEach(d=>{let p=this.create_holding(i,d);s.push(p)})}),await Promise.all(s.map(async i=>{i.history=await i.history})),this.holdings=s,await this.refresh_stock_prices(),this.calc_holdings_weigth(),s}create_holding(s,i){return{account_number:i.investment.split(":")[0],subaccount_id:i.investment,market:i.currency.substring(0,2).toUpperCase(),symbol:s.security.symbol,symbol_mrkt:i.currency.substring(0,2).toUpperCase()+":"+s.security.symbol,name:s.security.name,currency:i.currency,xrate:i.currency==="usd"?1/this.x_usd.rate:1,quantity:i.quantity,cash:s.security.symbol=="REALCASH",history:this.wealthica.fetch_historical_data(s.security._id),values:{book_price:i.book_value/i.quantity,book_value:i.book_value,close_date:null,close_price:0,close_amount:0,daily_change:0,daily_date:null,gain_daily_amount:0,gain_daily_percent:0,gain_period_amount:0,gain_period_percent:0,gain_overall_amount:i.quantity*s.security.last_price-i.book_value,gain_overall_percent:(i.quantity*s.security.last_price-i.book_value)/i.book_value,market_date:s.security.last_date,market_price:s.security.last_price,market_value:i.quantity*s.security.last_price,market_price_CAD:s.security.last_price*(i.currency==="usd"?1/this.x_usd.rate:1),market_value_CAD:i.quantity*s.security.last_price*(i.currency==="usd"?1/this.x_usd.rate:1)}}}initialized_holdings_totals(){return{book_value:0,close_amount:0,gain_daily_amount:0,gain_daily_percent:0,gain_period_percent:0,gain_period_amount:0,gain_overall_amount:0,gain_overall_percent:0,market_value:0,market_value_CAD:0,market_value_USD:0,market_total_CAD:0,weight_childs:0,weight:0}}calc_holdings_weigth(){[...new Set(this.holdings.map(i=>i.account_number))].forEach(i=>{let d=this.holdings.filter(l=>l.account_number===i),p=d.reduce((l,B)=>l+B.values.market_value_CAD,0);d.forEach(l=>{l.values.weight_account=l.values.market_value_CAD/p})})}async fetch_stock_prices(){await this.load(Kt.user);let s=this.holdings.map(i=>i.symbol_mrkt);return this.wealthica.fetch_stock_prices(this.user.email,s)}async refresh_stock_prices(){await this.load(Kt.prices),this.prices.securities.forEach(s=>{let i=`${s.market}:${s.symbol.split(":")[1]}`;this.holdings.filter(d=>d.symbol_mrkt===i).forEach(d=>{d.values.close_price=s.price-s.change,d.values.close_amount=d.quantity*(s.price-s.change),d.values.daily_change=s.change,d.values.daily_date=s.update_date,d.values.gain_daily_amount=d.quantity*s.change,d.values.gain_daily_percent=(s.price-s.change)/(s.price-s.change-s.change)-1,d.values.gain_period_amount=0,d.values.gain_period_percent=0,d.values.gain_overall_amount=d.quantity*s.price-d.values.book_value,d.values.gain_overall_percent=(d.quantity*s.price-d.values.book_value)/d.values.book_value,d.values.market_price=s.price,d.values.market_value=d.quantity*s.price,d.values.market_date=s.quote_date,d.values.market_price_CAD=s.price*(d.currency==="usd"?1/this.x_usd.rate:1),d.values.market_value_CAD=d.quantity*s.price*(d.currency==="usd"?1/this.x_usd.rate:1)})})}async retrieve_x_usd_data(){await this.load(Kt.currencies);let s=this.currencies.find(i=>i._id==="usd");return s?{id:s._id,rate:s.exchange_rate,date:s.update_date}:null}}const sr=(y,s)=>{const i=y.__vccOpts||y;for(const[d,p]of s)i[d]=p;return i},rv={name:"tab_dashboard"},iv={class:"tab-container"},ov=M("div",{class:"tab-logo-container"},[M("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-dashboard-icon.png",alt:"Under Construction",class:"tab-logo-centered"})],-1),av=[ov];function sv(y,s,i,d,p,l){return $e(),Ve("div",iv,av)}const Tu=sr(rv,[["render",sv]]),uv={props:{group_name:{type:String,default:""}}},lv={colspan:"2"},cv={class:"centered"},fv={class:"group-name"};function dv(y,s,i,d,p,l){return $e(),Ve("th",lv,[M("div",cv,[M("div",fv,Kn(i.group_name),1)])])}const Xt=sr(uv,[["render",dv]]);var Bi={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Bi.exports;(function(y,s){(function(){var i,d="4.17.21",p=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",B="Expected a function",D="Invalid `variable` option passed into `_.template`",j="__lodash_hash_undefined__",ye=500,le="__lodash_placeholder__",Q=1,S=2,F=4,k=1,W=2,R=1,ee=2,U=4,c=8,K=16,f=32,ue=64,ve=128,ce=256,ze=512,Le=30,ot="...",be=800,q=16,Y=1,x=2,O=3,N=1/0,ae=9007199254740991,de=17976931348623157e292,ne=NaN,re=4294967295,Pe=re-1,De=re>>>1,yt=[["ary",ve],["bind",R],["bindKey",ee],["curry",c],["curryRight",K],["flip",ze],["partial",f],["partialRight",ue],["rearg",ce]],Me="[object Arguments]",Ge="[object Array]",Ye="[object AsyncFunction]",He="[object Boolean]",ft="[object Date]",lt="[object DOMException]",wt="[object Error]",at="[object Function]",Ut="[object GeneratorFunction]",bt="[object Map]",Wt="[object Number]",A="[object Null]",he="[object Object]",m="[object Promise]",H="[object Proxy]",ge="[object RegExp]",fe="[object Set]",ke="[object String]",Ne="[object Symbol]",_t="[object Undefined]",Ce="[object WeakMap]",Tt="[object WeakSet]",E="[object ArrayBuffer]",ie="[object DataView]",_="[object Float32Array]",I="[object Float64Array]",w="[object Int8Array]",L="[object Int16Array]",$="[object Int32Array]",X="[object Uint8Array]",Je="[object Uint8ClampedArray]",ct="[object Uint16Array]",zt="[object Uint32Array]",fn=/\b__p \+= '';/g,Ft=/\b(__p \+=) '' \+/g,xt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Te=/&(?:amp|lt|gt|quot|#39);/g,pe=/[&<>"']/g,_e=RegExp(Te.source),me=RegExp(pe.source),Se=/<%-([\s\S]+?)%>/g,Ze=/<%([\s\S]+?)%>/g,qe=/<%=([\s\S]+?)%>/g,rt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pt=/^\w*$/,Pt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vt=/[\\^$.*+?()[\]{}|]/g,Sn=RegExp(Vt.source),Vn=/^\s+/,mn=/\s/,ur=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Zt=/\{\n\/\* \[wrapped with (.+)\] \*/,lr=/,? & /,an=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,P=/[()=,{}\[\]\/\s]/,V=/\\(\\)?/g,g=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,C=/\w*$/,oe=/^[-+]0x[0-9a-f]+$/i,xe=/^0b[01]+$/i,Ie=/^\[object .+?Constructor\]$/,je=/^0o[0-7]+$/i,Qe=/^(?:0|[1-9]\d*)$/,et=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Re=/($^)/,Fe=/['\n\r\u2028\u2029\\]/g,Xe="\\ud800-\\udfff",Ke="\\u0300-\\u036f",Lt="\\ufe20-\\ufe2f",Qt="\\u20d0-\\u20ff",Nn=Ke+Lt+Qt,Qr="\\u2700-\\u27bf",na="a-z\\xdf-\\xf6\\xf8-\\xff",Uu="\\xac\\xb1\\xd7\\xf7",Bu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",$u="\\u2000-\\u206f",Hu=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ra="A-Z\\xc0-\\xd6\\xd8-\\xde",ia="\\ufe0e\\ufe0f",oa=Uu+Bu+$u+Hu,Gi="['’]",qu="["+Xe+"]",aa="["+oa+"]",ei="["+Nn+"]",sa="\\d+",Gu="["+Qr+"]",ua="["+na+"]",la="[^"+Xe+oa+sa+Qr+na+ra+"]",Ji="\\ud83c[\\udffb-\\udfff]",Ju="(?:"+ei+"|"+Ji+")",ca="[^"+Xe+"]",Ki="(?:\\ud83c[\\udde6-\\uddff]){2}",Vi="[\\ud800-\\udbff][\\udc00-\\udfff]",wr="["+ra+"]",fa="\\u200d",da="(?:"+ua+"|"+la+")",Ku="(?:"+wr+"|"+la+")",ha="(?:"+Gi+"(?:d|ll|m|re|s|t|ve))?",ga="(?:"+Gi+"(?:D|LL|M|RE|S|T|VE))?",_a=Ju+"?",va="["+ia+"]?",Vu="(?:"+fa+"(?:"+[ca,Ki,Vi].join("|")+")"+va+_a+")*",Yu="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ju="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",pa=va+_a+Vu,Xu="(?:"+[Gu,Ki,Vi].join("|")+")"+pa,Zu="(?:"+[ca+ei+"?",ei,Ki,Vi,qu].join("|")+")",Qu=RegExp(Gi,"g"),el=RegExp(ei,"g"),Yi=RegExp(Ji+"(?="+Ji+")|"+Zu+pa,"g"),tl=RegExp([wr+"?"+ua+"+"+ha+"(?="+[aa,wr,"$"].join("|")+")",Ku+"+"+ga+"(?="+[aa,wr+da,"$"].join("|")+")",wr+"?"+da+"+"+ha,wr+"+"+ga,ju,Yu,sa,Xu].join("|"),"g"),nl=RegExp("["+fa+Xe+Nn+ia+"]"),rl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,il=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ol=-1,St={};St[_]=St[I]=St[w]=St[L]=St[$]=St[X]=St[Je]=St[ct]=St[zt]=!0,St[Me]=St[Ge]=St[E]=St[He]=St[ie]=St[ft]=St[wt]=St[at]=St[bt]=St[Wt]=St[he]=St[ge]=St[fe]=St[ke]=St[Ce]=!1;var Ct={};Ct[Me]=Ct[Ge]=Ct[E]=Ct[ie]=Ct[He]=Ct[ft]=Ct[_]=Ct[I]=Ct[w]=Ct[L]=Ct[$]=Ct[bt]=Ct[Wt]=Ct[he]=Ct[ge]=Ct[fe]=Ct[ke]=Ct[Ne]=Ct[X]=Ct[Je]=Ct[ct]=Ct[zt]=!0,Ct[wt]=Ct[at]=Ct[Ce]=!1;var al={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},sl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ul={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ll={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},cl=parseFloat,fl=parseInt,ma=typeof Zr=="object"&&Zr&&Zr.Object===Object&&Zr,dl=typeof self=="object"&&self&&self.Object===Object&&self,Gt=ma||dl||Function("return this")(),ji=s&&!s.nodeType&&s,cr=ji&&!0&&y&&!y.nodeType&&y,ya=cr&&cr.exports===ji,Xi=ya&&ma.process,yn=function(){try{var b=cr&&cr.require&&cr.require("util").types;return b||Xi&&Xi.binding&&Xi.binding("util")}catch{}}(),wa=yn&&yn.isArrayBuffer,ba=yn&&yn.isDate,xa=yn&&yn.isMap,ka=yn&&yn.isRegExp,Ea=yn&&yn.isSet,Ta=yn&&yn.isTypedArray;function dn(b,G,z){switch(z.length){case 0:return b.call(G);case 1:return b.call(G,z[0]);case 2:return b.call(G,z[0],z[1]);case 3:return b.call(G,z[0],z[1],z[2])}return b.apply(G,z)}function hl(b,G,z,Ee){for(var tt=-1,mt=b==null?0:b.length;++tt<mt;){var Bt=b[tt];G(Ee,Bt,z(Bt),b)}return Ee}function wn(b,G){for(var z=-1,Ee=b==null?0:b.length;++z<Ee&&G(b[z],z,b)!==!1;);return b}function gl(b,G){for(var z=b==null?0:b.length;z--&&G(b[z],z,b)!==!1;);return b}function Aa(b,G){for(var z=-1,Ee=b==null?0:b.length;++z<Ee;)if(!G(b[z],z,b))return!1;return!0}function Yn(b,G){for(var z=-1,Ee=b==null?0:b.length,tt=0,mt=[];++z<Ee;){var Bt=b[z];G(Bt,z,b)&&(mt[tt++]=Bt)}return mt}function ti(b,G){var z=b==null?0:b.length;return!!z&&br(b,G,0)>-1}function Zi(b,G,z){for(var Ee=-1,tt=b==null?0:b.length;++Ee<tt;)if(z(G,b[Ee]))return!0;return!1}function Mt(b,G){for(var z=-1,Ee=b==null?0:b.length,tt=Array(Ee);++z<Ee;)tt[z]=G(b[z],z,b);return tt}function jn(b,G){for(var z=-1,Ee=G.length,tt=b.length;++z<Ee;)b[tt+z]=G[z];return b}function Qi(b,G,z,Ee){var tt=-1,mt=b==null?0:b.length;for(Ee&&mt&&(z=b[++tt]);++tt<mt;)z=G(z,b[tt],tt,b);return z}function _l(b,G,z,Ee){var tt=b==null?0:b.length;for(Ee&&tt&&(z=b[--tt]);tt--;)z=G(z,b[tt],tt,b);return z}function eo(b,G){for(var z=-1,Ee=b==null?0:b.length;++z<Ee;)if(G(b[z],z,b))return!0;return!1}var vl=to("length");function pl(b){return b.split("")}function ml(b){return b.match(an)||[]}function Ca(b,G,z){var Ee;return z(b,function(tt,mt,Bt){if(G(tt,mt,Bt))return Ee=mt,!1}),Ee}function ni(b,G,z,Ee){for(var tt=b.length,mt=z+(Ee?1:-1);Ee?mt--:++mt<tt;)if(G(b[mt],mt,b))return mt;return-1}function br(b,G,z){return G===G?Ml(b,G,z):ni(b,Sa,z)}function yl(b,G,z,Ee){for(var tt=z-1,mt=b.length;++tt<mt;)if(Ee(b[tt],G))return tt;return-1}function Sa(b){return b!==b}function Oa(b,G){var z=b==null?0:b.length;return z?ro(b,G)/z:ne}function to(b){return function(G){return G==null?i:G[b]}}function no(b){return function(G){return b==null?i:b[G]}}function Ma(b,G,z,Ee,tt){return tt(b,function(mt,Bt,At){z=Ee?(Ee=!1,mt):G(z,mt,Bt,At)}),z}function wl(b,G){var z=b.length;for(b.sort(G);z--;)b[z]=b[z].value;return b}function ro(b,G){for(var z,Ee=-1,tt=b.length;++Ee<tt;){var mt=G(b[Ee]);mt!==i&&(z=z===i?mt:z+mt)}return z}function io(b,G){for(var z=-1,Ee=Array(b);++z<b;)Ee[z]=G(z);return Ee}function bl(b,G){return Mt(G,function(z){return[z,b[z]]})}function Ia(b){return b&&b.slice(0,La(b)+1).replace(Vn,"")}function hn(b){return function(G){return b(G)}}function oo(b,G){return Mt(G,function(z){return b[z]})}function Nr(b,G){return b.has(G)}function Fa(b,G){for(var z=-1,Ee=b.length;++z<Ee&&br(G,b[z],0)>-1;);return z}function Pa(b,G){for(var z=b.length;z--&&br(G,b[z],0)>-1;);return z}function xl(b,G){for(var z=b.length,Ee=0;z--;)b[z]===G&&++Ee;return Ee}var kl=no(al),El=no(sl);function Tl(b){return"\\"+ll[b]}function Al(b,G){return b==null?i:b[G]}function xr(b){return nl.test(b)}function Cl(b){return rl.test(b)}function Sl(b){for(var G,z=[];!(G=b.next()).done;)z.push(G.value);return z}function ao(b){var G=-1,z=Array(b.size);return b.forEach(function(Ee,tt){z[++G]=[tt,Ee]}),z}function Ra(b,G){return function(z){return b(G(z))}}function Xn(b,G){for(var z=-1,Ee=b.length,tt=0,mt=[];++z<Ee;){var Bt=b[z];(Bt===G||Bt===le)&&(b[z]=le,mt[tt++]=z)}return mt}function ri(b){var G=-1,z=Array(b.size);return b.forEach(function(Ee){z[++G]=Ee}),z}function Ol(b){var G=-1,z=Array(b.size);return b.forEach(function(Ee){z[++G]=[Ee,Ee]}),z}function Ml(b,G,z){for(var Ee=z-1,tt=b.length;++Ee<tt;)if(b[Ee]===G)return Ee;return-1}function Il(b,G,z){for(var Ee=z+1;Ee--;)if(b[Ee]===G)return Ee;return Ee}function kr(b){return xr(b)?Pl(b):vl(b)}function On(b){return xr(b)?Rl(b):pl(b)}function La(b){for(var G=b.length;G--&&mn.test(b.charAt(G)););return G}var Fl=no(ul);function Pl(b){for(var G=Yi.lastIndex=0;Yi.test(b);)++G;return G}function Rl(b){return b.match(Yi)||[]}function Ll(b){return b.match(tl)||[]}var Dl=function b(G){G=G==null?Gt:Er.defaults(Gt.Object(),G,Er.pick(Gt,il));var z=G.Array,Ee=G.Date,tt=G.Error,mt=G.Function,Bt=G.Math,At=G.Object,so=G.RegExp,Nl=G.String,bn=G.TypeError,ii=z.prototype,Wl=mt.prototype,Tr=At.prototype,oi=G["__core-js_shared__"],ai=Wl.toString,Et=Tr.hasOwnProperty,zl=0,Da=function(){var e=/[^.]+$/.exec(oi&&oi.keys&&oi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),si=Tr.toString,Ul=ai.call(At),Bl=Gt._,$l=so("^"+ai.call(Et).replace(Vt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ui=ya?G.Buffer:i,Zn=G.Symbol,li=G.Uint8Array,Na=ui?ui.allocUnsafe:i,ci=Ra(At.getPrototypeOf,At),Wa=At.create,za=Tr.propertyIsEnumerable,fi=ii.splice,Ua=Zn?Zn.isConcatSpreadable:i,Wr=Zn?Zn.iterator:i,fr=Zn?Zn.toStringTag:i,di=function(){try{var e=vr(At,"defineProperty");return e({},"",{}),e}catch{}}(),Hl=G.clearTimeout!==Gt.clearTimeout&&G.clearTimeout,ql=Ee&&Ee.now!==Gt.Date.now&&Ee.now,Gl=G.setTimeout!==Gt.setTimeout&&G.setTimeout,hi=Bt.ceil,gi=Bt.floor,uo=At.getOwnPropertySymbols,Jl=ui?ui.isBuffer:i,Ba=G.isFinite,Kl=ii.join,Vl=Ra(At.keys,At),$t=Bt.max,Yt=Bt.min,Yl=Ee.now,jl=G.parseInt,$a=Bt.random,Xl=ii.reverse,lo=vr(G,"DataView"),zr=vr(G,"Map"),co=vr(G,"Promise"),Ar=vr(G,"Set"),Ur=vr(G,"WeakMap"),Br=vr(At,"create"),_i=Ur&&new Ur,Cr={},Zl=pr(lo),Ql=pr(zr),ec=pr(co),tc=pr(Ar),nc=pr(Ur),vi=Zn?Zn.prototype:i,$r=vi?vi.valueOf:i,Ha=vi?vi.toString:i;function a(e){if(Rt(e)&&!nt(e)&&!(e instanceof ht)){if(e instanceof xn)return e;if(Et.call(e,"__wrapped__"))return qs(e)}return new xn(e)}var Sr=function(){function e(){}return function(t){if(!It(t))return{};if(Wa)return Wa(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function pi(){}function xn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}a.templateSettings={escape:Se,evaluate:Ze,interpolate:qe,variable:"",imports:{_:a}},a.prototype=pi.prototype,a.prototype.constructor=a,xn.prototype=Sr(pi.prototype),xn.prototype.constructor=xn;function ht(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=re,this.__views__=[]}function rc(){var e=new ht(this.__wrapped__);return e.__actions__=sn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=sn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=sn(this.__views__),e}function ic(){if(this.__filtered__){var e=new ht(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function oc(){var e=this.__wrapped__.value(),t=this.__dir__,n=nt(e),r=t<0,o=n?e.length:0,u=mf(0,o,this.__views__),h=u.start,v=u.end,T=v-h,Z=r?v:h-1,te=this.__iteratees__,se=te.length,we=0,Oe=Yt(T,this.__takeCount__);if(!n||!r&&o==T&&Oe==T)return hs(e,this.__actions__);var Ue=[];e:for(;T--&&we<Oe;){Z+=t;for(var st=-1,Be=e[Z];++st<se;){var dt=te[st],gt=dt.iteratee,vn=dt.type,nn=gt(Be);if(vn==x)Be=nn;else if(!nn){if(vn==Y)continue e;break e}}Ue[we++]=Be}return Ue}ht.prototype=Sr(pi.prototype),ht.prototype.constructor=ht;function dr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ac(){this.__data__=Br?Br(null):{},this.size=0}function sc(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function uc(e){var t=this.__data__;if(Br){var n=t[e];return n===j?i:n}return Et.call(t,e)?t[e]:i}function lc(e){var t=this.__data__;return Br?t[e]!==i:Et.call(t,e)}function cc(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Br&&t===i?j:t,this}dr.prototype.clear=ac,dr.prototype.delete=sc,dr.prototype.get=uc,dr.prototype.has=lc,dr.prototype.set=cc;function Wn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function fc(){this.__data__=[],this.size=0}function dc(e){var t=this.__data__,n=mi(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():fi.call(t,n,1),--this.size,!0}function hc(e){var t=this.__data__,n=mi(t,e);return n<0?i:t[n][1]}function gc(e){return mi(this.__data__,e)>-1}function _c(e,t){var n=this.__data__,r=mi(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}Wn.prototype.clear=fc,Wn.prototype.delete=dc,Wn.prototype.get=hc,Wn.prototype.has=gc,Wn.prototype.set=_c;function zn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function vc(){this.size=0,this.__data__={hash:new dr,map:new(zr||Wn),string:new dr}}function pc(e){var t=Mi(this,e).delete(e);return this.size-=t?1:0,t}function mc(e){return Mi(this,e).get(e)}function yc(e){return Mi(this,e).has(e)}function wc(e,t){var n=Mi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}zn.prototype.clear=vc,zn.prototype.delete=pc,zn.prototype.get=mc,zn.prototype.has=yc,zn.prototype.set=wc;function hr(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new zn;++t<n;)this.add(e[t])}function bc(e){return this.__data__.set(e,j),this}function xc(e){return this.__data__.has(e)}hr.prototype.add=hr.prototype.push=bc,hr.prototype.has=xc;function Mn(e){var t=this.__data__=new Wn(e);this.size=t.size}function kc(){this.__data__=new Wn,this.size=0}function Ec(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Tc(e){return this.__data__.get(e)}function Ac(e){return this.__data__.has(e)}function Cc(e,t){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!zr||r.length<p-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new zn(r)}return n.set(e,t),this.size=n.size,this}Mn.prototype.clear=kc,Mn.prototype.delete=Ec,Mn.prototype.get=Tc,Mn.prototype.has=Ac,Mn.prototype.set=Cc;function qa(e,t){var n=nt(e),r=!n&&mr(e),o=!n&&!r&&rr(e),u=!n&&!r&&!o&&Fr(e),h=n||r||o||u,v=h?io(e.length,Nl):[],T=v.length;for(var Z in e)(t||Et.call(e,Z))&&!(h&&(Z=="length"||o&&(Z=="offset"||Z=="parent")||u&&(Z=="buffer"||Z=="byteLength"||Z=="byteOffset")||Hn(Z,T)))&&v.push(Z);return v}function Ga(e){var t=e.length;return t?e[xo(0,t-1)]:i}function Sc(e,t){return Ii(sn(e),gr(t,0,e.length))}function Oc(e){return Ii(sn(e))}function fo(e,t,n){(n!==i&&!In(e[t],n)||n===i&&!(t in e))&&Un(e,t,n)}function Hr(e,t,n){var r=e[t];(!(Et.call(e,t)&&In(r,n))||n===i&&!(t in e))&&Un(e,t,n)}function mi(e,t){for(var n=e.length;n--;)if(In(e[n][0],t))return n;return-1}function Mc(e,t,n,r){return Qn(e,function(o,u,h){t(r,o,n(o),h)}),r}function Ja(e,t){return e&&Ln(t,qt(t),e)}function Ic(e,t){return e&&Ln(t,ln(t),e)}function Un(e,t,n){t=="__proto__"&&di?di(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ho(e,t){for(var n=-1,r=t.length,o=z(r),u=e==null;++n<r;)o[n]=u?i:Ko(e,t[n]);return o}function gr(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function kn(e,t,n,r,o,u){var h,v=t&Q,T=t&S,Z=t&F;if(n&&(h=o?n(e,r,o,u):n(e)),h!==i)return h;if(!It(e))return e;var te=nt(e);if(te){if(h=wf(e),!v)return sn(e,h)}else{var se=jt(e),we=se==at||se==Ut;if(rr(e))return vs(e,v);if(se==he||se==Me||we&&!o){if(h=T||we?{}:Ls(e),!v)return T?lf(e,Ic(h,e)):uf(e,Ja(h,e))}else{if(!Ct[se])return o?e:{};h=bf(e,se,v)}}u||(u=new Mn);var Oe=u.get(e);if(Oe)return Oe;u.set(e,h),cu(e)?e.forEach(function(Be){h.add(kn(Be,t,n,Be,e,u))}):uu(e)&&e.forEach(function(Be,dt){h.set(dt,kn(Be,t,n,dt,e,u))});var Ue=Z?T?Po:Fo:T?ln:qt,st=te?i:Ue(e);return wn(st||e,function(Be,dt){st&&(dt=Be,Be=e[dt]),Hr(h,dt,kn(Be,t,n,dt,e,u))}),h}function Fc(e){var t=qt(e);return function(n){return Ka(n,e,t)}}function Ka(e,t,n){var r=n.length;if(e==null)return!r;for(e=At(e);r--;){var o=n[r],u=t[o],h=e[o];if(h===i&&!(o in e)||!u(h))return!1}return!0}function Va(e,t,n){if(typeof e!="function")throw new bn(B);return jr(function(){e.apply(i,n)},t)}function qr(e,t,n,r){var o=-1,u=ti,h=!0,v=e.length,T=[],Z=t.length;if(!v)return T;n&&(t=Mt(t,hn(n))),r?(u=Zi,h=!1):t.length>=p&&(u=Nr,h=!1,t=new hr(t));e:for(;++o<v;){var te=e[o],se=n==null?te:n(te);if(te=r||te!==0?te:0,h&&se===se){for(var we=Z;we--;)if(t[we]===se)continue e;T.push(te)}else u(t,se,r)||T.push(te)}return T}var Qn=bs(Rn),Ya=bs(_o,!0);function Pc(e,t){var n=!0;return Qn(e,function(r,o,u){return n=!!t(r,o,u),n}),n}function yi(e,t,n){for(var r=-1,o=e.length;++r<o;){var u=e[r],h=t(u);if(h!=null&&(v===i?h===h&&!_n(h):n(h,v)))var v=h,T=u}return T}function Rc(e,t,n,r){var o=e.length;for(n=it(n),n<0&&(n=-n>o?0:o+n),r=r===i||r>o?o:it(r),r<0&&(r+=o),r=n>r?0:du(r);n<r;)e[n++]=t;return e}function ja(e,t){var n=[];return Qn(e,function(r,o,u){t(r,o,u)&&n.push(r)}),n}function Jt(e,t,n,r,o){var u=-1,h=e.length;for(n||(n=kf),o||(o=[]);++u<h;){var v=e[u];t>0&&n(v)?t>1?Jt(v,t-1,n,r,o):jn(o,v):r||(o[o.length]=v)}return o}var go=xs(),Xa=xs(!0);function Rn(e,t){return e&&go(e,t,qt)}function _o(e,t){return e&&Xa(e,t,qt)}function wi(e,t){return Yn(t,function(n){return qn(e[n])})}function _r(e,t){t=tr(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Dn(t[n++])];return n&&n==r?e:i}function Za(e,t,n){var r=t(e);return nt(e)?r:jn(r,n(e))}function en(e){return e==null?e===i?_t:A:fr&&fr in At(e)?pf(e):Mf(e)}function vo(e,t){return e>t}function Lc(e,t){return e!=null&&Et.call(e,t)}function Dc(e,t){return e!=null&&t in At(e)}function Nc(e,t,n){return e>=Yt(t,n)&&e<$t(t,n)}function po(e,t,n){for(var r=n?Zi:ti,o=e[0].length,u=e.length,h=u,v=z(u),T=1/0,Z=[];h--;){var te=e[h];h&&t&&(te=Mt(te,hn(t))),T=Yt(te.length,T),v[h]=!n&&(t||o>=120&&te.length>=120)?new hr(h&&te):i}te=e[0];var se=-1,we=v[0];e:for(;++se<o&&Z.length<T;){var Oe=te[se],Ue=t?t(Oe):Oe;if(Oe=n||Oe!==0?Oe:0,!(we?Nr(we,Ue):r(Z,Ue,n))){for(h=u;--h;){var st=v[h];if(!(st?Nr(st,Ue):r(e[h],Ue,n)))continue e}we&&we.push(Ue),Z.push(Oe)}}return Z}function Wc(e,t,n,r){return Rn(e,function(o,u,h){t(r,n(o),u,h)}),r}function Gr(e,t,n){t=tr(t,e),e=zs(e,t);var r=e==null?e:e[Dn(Tn(t))];return r==null?i:dn(r,e,n)}function Qa(e){return Rt(e)&&en(e)==Me}function zc(e){return Rt(e)&&en(e)==E}function Uc(e){return Rt(e)&&en(e)==ft}function Jr(e,t,n,r,o){return e===t?!0:e==null||t==null||!Rt(e)&&!Rt(t)?e!==e&&t!==t:Bc(e,t,n,r,Jr,o)}function Bc(e,t,n,r,o,u){var h=nt(e),v=nt(t),T=h?Ge:jt(e),Z=v?Ge:jt(t);T=T==Me?he:T,Z=Z==Me?he:Z;var te=T==he,se=Z==he,we=T==Z;if(we&&rr(e)){if(!rr(t))return!1;h=!0,te=!1}if(we&&!te)return u||(u=new Mn),h||Fr(e)?Fs(e,t,n,r,o,u):_f(e,t,T,n,r,o,u);if(!(n&k)){var Oe=te&&Et.call(e,"__wrapped__"),Ue=se&&Et.call(t,"__wrapped__");if(Oe||Ue){var st=Oe?e.value():e,Be=Ue?t.value():t;return u||(u=new Mn),o(st,Be,n,r,u)}}return we?(u||(u=new Mn),vf(e,t,n,r,o,u)):!1}function $c(e){return Rt(e)&&jt(e)==bt}function mo(e,t,n,r){var o=n.length,u=o,h=!r;if(e==null)return!u;for(e=At(e);o--;){var v=n[o];if(h&&v[2]?v[1]!==e[v[0]]:!(v[0]in e))return!1}for(;++o<u;){v=n[o];var T=v[0],Z=e[T],te=v[1];if(h&&v[2]){if(Z===i&&!(T in e))return!1}else{var se=new Mn;if(r)var we=r(Z,te,T,e,t,se);if(!(we===i?Jr(te,Z,k|W,r,se):we))return!1}}return!0}function es(e){if(!It(e)||Tf(e))return!1;var t=qn(e)?$l:Ie;return t.test(pr(e))}function Hc(e){return Rt(e)&&en(e)==ge}function qc(e){return Rt(e)&&jt(e)==fe}function Gc(e){return Rt(e)&&Ni(e.length)&&!!St[en(e)]}function ts(e){return typeof e=="function"?e:e==null?cn:typeof e=="object"?nt(e)?is(e[0],e[1]):rs(e):ku(e)}function yo(e){if(!Yr(e))return Vl(e);var t=[];for(var n in At(e))Et.call(e,n)&&n!="constructor"&&t.push(n);return t}function Jc(e){if(!It(e))return Of(e);var t=Yr(e),n=[];for(var r in e)r=="constructor"&&(t||!Et.call(e,r))||n.push(r);return n}function wo(e,t){return e<t}function ns(e,t){var n=-1,r=un(e)?z(e.length):[];return Qn(e,function(o,u,h){r[++n]=t(o,u,h)}),r}function rs(e){var t=Lo(e);return t.length==1&&t[0][2]?Ns(t[0][0],t[0][1]):function(n){return n===e||mo(n,e,t)}}function is(e,t){return No(e)&&Ds(t)?Ns(Dn(e),t):function(n){var r=Ko(n,e);return r===i&&r===t?Vo(n,e):Jr(t,r,k|W)}}function bi(e,t,n,r,o){e!==t&&go(t,function(u,h){if(o||(o=new Mn),It(u))Kc(e,t,h,n,bi,r,o);else{var v=r?r(zo(e,h),u,h+"",e,t,o):i;v===i&&(v=u),fo(e,h,v)}},ln)}function Kc(e,t,n,r,o,u,h){var v=zo(e,n),T=zo(t,n),Z=h.get(T);if(Z){fo(e,n,Z);return}var te=u?u(v,T,n+"",e,t,h):i,se=te===i;if(se){var we=nt(T),Oe=!we&&rr(T),Ue=!we&&!Oe&&Fr(T);te=T,we||Oe||Ue?nt(v)?te=v:Dt(v)?te=sn(v):Oe?(se=!1,te=vs(T,!0)):Ue?(se=!1,te=ps(T,!0)):te=[]:Xr(T)||mr(T)?(te=v,mr(v)?te=hu(v):(!It(v)||qn(v))&&(te=Ls(T))):se=!1}se&&(h.set(T,te),o(te,T,r,u,h),h.delete(T)),fo(e,n,te)}function os(e,t){var n=e.length;if(n)return t+=t<0?n:0,Hn(t,n)?e[t]:i}function as(e,t,n){t.length?t=Mt(t,function(u){return nt(u)?function(h){return _r(h,u.length===1?u[0]:u)}:u}):t=[cn];var r=-1;t=Mt(t,hn(We()));var o=ns(e,function(u,h,v){var T=Mt(t,function(Z){return Z(u)});return{criteria:T,index:++r,value:u}});return wl(o,function(u,h){return sf(u,h,n)})}function Vc(e,t){return ss(e,t,function(n,r){return Vo(e,r)})}function ss(e,t,n){for(var r=-1,o=t.length,u={};++r<o;){var h=t[r],v=_r(e,h);n(v,h)&&Kr(u,tr(h,e),v)}return u}function Yc(e){return function(t){return _r(t,e)}}function bo(e,t,n,r){var o=r?yl:br,u=-1,h=t.length,v=e;for(e===t&&(t=sn(t)),n&&(v=Mt(e,hn(n)));++u<h;)for(var T=0,Z=t[u],te=n?n(Z):Z;(T=o(v,te,T,r))>-1;)v!==e&&fi.call(v,T,1),fi.call(e,T,1);return e}function us(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==u){var u=o;Hn(o)?fi.call(e,o,1):To(e,o)}}return e}function xo(e,t){return e+gi($a()*(t-e+1))}function jc(e,t,n,r){for(var o=-1,u=$t(hi((t-e)/(n||1)),0),h=z(u);u--;)h[r?u:++o]=e,e+=n;return h}function ko(e,t){var n="";if(!e||t<1||t>ae)return n;do t%2&&(n+=e),t=gi(t/2),t&&(e+=e);while(t);return n}function ut(e,t){return Uo(Ws(e,t,cn),e+"")}function Xc(e){return Ga(Pr(e))}function Zc(e,t){var n=Pr(e);return Ii(n,gr(t,0,n.length))}function Kr(e,t,n,r){if(!It(e))return e;t=tr(t,e);for(var o=-1,u=t.length,h=u-1,v=e;v!=null&&++o<u;){var T=Dn(t[o]),Z=n;if(T==="__proto__"||T==="constructor"||T==="prototype")return e;if(o!=h){var te=v[T];Z=r?r(te,T,v):i,Z===i&&(Z=It(te)?te:Hn(t[o+1])?[]:{})}Hr(v,T,Z),v=v[T]}return e}var ls=_i?function(e,t){return _i.set(e,t),e}:cn,Qc=di?function(e,t){return di(e,"toString",{configurable:!0,enumerable:!1,value:jo(t),writable:!0})}:cn;function ef(e){return Ii(Pr(e))}function En(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var u=z(o);++r<o;)u[r]=e[r+t];return u}function tf(e,t){var n;return Qn(e,function(r,o,u){return n=t(r,o,u),!n}),!!n}function xi(e,t,n){var r=0,o=e==null?r:e.length;if(typeof t=="number"&&t===t&&o<=De){for(;r<o;){var u=r+o>>>1,h=e[u];h!==null&&!_n(h)&&(n?h<=t:h<t)?r=u+1:o=u}return o}return Eo(e,t,cn,n)}function Eo(e,t,n,r){var o=0,u=e==null?0:e.length;if(u===0)return 0;t=n(t);for(var h=t!==t,v=t===null,T=_n(t),Z=t===i;o<u;){var te=gi((o+u)/2),se=n(e[te]),we=se!==i,Oe=se===null,Ue=se===se,st=_n(se);if(h)var Be=r||Ue;else Z?Be=Ue&&(r||we):v?Be=Ue&&we&&(r||!Oe):T?Be=Ue&&we&&!Oe&&(r||!st):Oe||st?Be=!1:Be=r?se<=t:se<t;Be?o=te+1:u=te}return Yt(u,Pe)}function cs(e,t){for(var n=-1,r=e.length,o=0,u=[];++n<r;){var h=e[n],v=t?t(h):h;if(!n||!In(v,T)){var T=v;u[o++]=h===0?0:h}}return u}function fs(e){return typeof e=="number"?e:_n(e)?ne:+e}function gn(e){if(typeof e=="string")return e;if(nt(e))return Mt(e,gn)+"";if(_n(e))return Ha?Ha.call(e):"";var t=e+"";return t=="0"&&1/e==-N?"-0":t}function er(e,t,n){var r=-1,o=ti,u=e.length,h=!0,v=[],T=v;if(n)h=!1,o=Zi;else if(u>=p){var Z=t?null:hf(e);if(Z)return ri(Z);h=!1,o=Nr,T=new hr}else T=t?[]:v;e:for(;++r<u;){var te=e[r],se=t?t(te):te;if(te=n||te!==0?te:0,h&&se===se){for(var we=T.length;we--;)if(T[we]===se)continue e;t&&T.push(se),v.push(te)}else o(T,se,n)||(T!==v&&T.push(se),v.push(te))}return v}function To(e,t){return t=tr(t,e),e=zs(e,t),e==null||delete e[Dn(Tn(t))]}function ds(e,t,n,r){return Kr(e,t,n(_r(e,t)),r)}function ki(e,t,n,r){for(var o=e.length,u=r?o:-1;(r?u--:++u<o)&&t(e[u],u,e););return n?En(e,r?0:u,r?u+1:o):En(e,r?u+1:0,r?o:u)}function hs(e,t){var n=e;return n instanceof ht&&(n=n.value()),Qi(t,function(r,o){return o.func.apply(o.thisArg,jn([r],o.args))},n)}function Ao(e,t,n){var r=e.length;if(r<2)return r?er(e[0]):[];for(var o=-1,u=z(r);++o<r;)for(var h=e[o],v=-1;++v<r;)v!=o&&(u[o]=qr(u[o]||h,e[v],t,n));return er(Jt(u,1),t,n)}function gs(e,t,n){for(var r=-1,o=e.length,u=t.length,h={};++r<o;){var v=r<u?t[r]:i;n(h,e[r],v)}return h}function Co(e){return Dt(e)?e:[]}function So(e){return typeof e=="function"?e:cn}function tr(e,t){return nt(e)?e:No(e,t)?[e]:Hs(kt(e))}var nf=ut;function nr(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:En(e,t,n)}var _s=Hl||function(e){return Gt.clearTimeout(e)};function vs(e,t){if(t)return e.slice();var n=e.length,r=Na?Na(n):new e.constructor(n);return e.copy(r),r}function Oo(e){var t=new e.constructor(e.byteLength);return new li(t).set(new li(e)),t}function rf(e,t){var n=t?Oo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function of(e){var t=new e.constructor(e.source,C.exec(e));return t.lastIndex=e.lastIndex,t}function af(e){return $r?At($r.call(e)):{}}function ps(e,t){var n=t?Oo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ms(e,t){if(e!==t){var n=e!==i,r=e===null,o=e===e,u=_n(e),h=t!==i,v=t===null,T=t===t,Z=_n(t);if(!v&&!Z&&!u&&e>t||u&&h&&T&&!v&&!Z||r&&h&&T||!n&&T||!o)return 1;if(!r&&!u&&!Z&&e<t||Z&&n&&o&&!r&&!u||v&&n&&o||!h&&o||!T)return-1}return 0}function sf(e,t,n){for(var r=-1,o=e.criteria,u=t.criteria,h=o.length,v=n.length;++r<h;){var T=ms(o[r],u[r]);if(T){if(r>=v)return T;var Z=n[r];return T*(Z=="desc"?-1:1)}}return e.index-t.index}function ys(e,t,n,r){for(var o=-1,u=e.length,h=n.length,v=-1,T=t.length,Z=$t(u-h,0),te=z(T+Z),se=!r;++v<T;)te[v]=t[v];for(;++o<h;)(se||o<u)&&(te[n[o]]=e[o]);for(;Z--;)te[v++]=e[o++];return te}function ws(e,t,n,r){for(var o=-1,u=e.length,h=-1,v=n.length,T=-1,Z=t.length,te=$t(u-v,0),se=z(te+Z),we=!r;++o<te;)se[o]=e[o];for(var Oe=o;++T<Z;)se[Oe+T]=t[T];for(;++h<v;)(we||o<u)&&(se[Oe+n[h]]=e[o++]);return se}function sn(e,t){var n=-1,r=e.length;for(t||(t=z(r));++n<r;)t[n]=e[n];return t}function Ln(e,t,n,r){var o=!n;n||(n={});for(var u=-1,h=t.length;++u<h;){var v=t[u],T=r?r(n[v],e[v],v,n,e):i;T===i&&(T=e[v]),o?Un(n,v,T):Hr(n,v,T)}return n}function uf(e,t){return Ln(e,Do(e),t)}function lf(e,t){return Ln(e,Ps(e),t)}function Ei(e,t){return function(n,r){var o=nt(n)?hl:Mc,u=t?t():{};return o(n,e,We(r,2),u)}}function Or(e){return ut(function(t,n){var r=-1,o=n.length,u=o>1?n[o-1]:i,h=o>2?n[2]:i;for(u=e.length>3&&typeof u=="function"?(o--,u):i,h&&tn(n[0],n[1],h)&&(u=o<3?i:u,o=1),t=At(t);++r<o;){var v=n[r];v&&e(t,v,r,u)}return t})}function bs(e,t){return function(n,r){if(n==null)return n;if(!un(n))return e(n,r);for(var o=n.length,u=t?o:-1,h=At(n);(t?u--:++u<o)&&r(h[u],u,h)!==!1;);return n}}function xs(e){return function(t,n,r){for(var o=-1,u=At(t),h=r(t),v=h.length;v--;){var T=h[e?v:++o];if(n(u[T],T,u)===!1)break}return t}}function cf(e,t,n){var r=t&R,o=Vr(e);function u(){var h=this&&this!==Gt&&this instanceof u?o:e;return h.apply(r?n:this,arguments)}return u}function ks(e){return function(t){t=kt(t);var n=xr(t)?On(t):i,r=n?n[0]:t.charAt(0),o=n?nr(n,1).join(""):t.slice(1);return r[e]()+o}}function Mr(e){return function(t){return Qi(bu(wu(t).replace(Qu,"")),e,"")}}function Vr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Sr(e.prototype),r=e.apply(n,t);return It(r)?r:n}}function ff(e,t,n){var r=Vr(e);function o(){for(var u=arguments.length,h=z(u),v=u,T=Ir(o);v--;)h[v]=arguments[v];var Z=u<3&&h[0]!==T&&h[u-1]!==T?[]:Xn(h,T);if(u-=Z.length,u<n)return Ss(e,t,Ti,o.placeholder,i,h,Z,i,i,n-u);var te=this&&this!==Gt&&this instanceof o?r:e;return dn(te,this,h)}return o}function Es(e){return function(t,n,r){var o=At(t);if(!un(t)){var u=We(n,3);t=qt(t),n=function(v){return u(o[v],v,o)}}var h=e(t,n,r);return h>-1?o[u?t[h]:h]:i}}function Ts(e){return $n(function(t){var n=t.length,r=n,o=xn.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if(typeof u!="function")throw new bn(B);if(o&&!h&&Oi(u)=="wrapper")var h=new xn([],!0)}for(r=h?r:n;++r<n;){u=t[r];var v=Oi(u),T=v=="wrapper"?Ro(u):i;T&&Wo(T[0])&&T[1]==(ve|c|f|ce)&&!T[4].length&&T[9]==1?h=h[Oi(T[0])].apply(h,T[3]):h=u.length==1&&Wo(u)?h[v]():h.thru(u)}return function(){var Z=arguments,te=Z[0];if(h&&Z.length==1&&nt(te))return h.plant(te).value();for(var se=0,we=n?t[se].apply(this,Z):te;++se<n;)we=t[se].call(this,we);return we}})}function Ti(e,t,n,r,o,u,h,v,T,Z){var te=t&ve,se=t&R,we=t&ee,Oe=t&(c|K),Ue=t&ze,st=we?i:Vr(e);function Be(){for(var dt=arguments.length,gt=z(dt),vn=dt;vn--;)gt[vn]=arguments[vn];if(Oe)var nn=Ir(Be),pn=xl(gt,nn);if(r&&(gt=ys(gt,r,o,Oe)),u&&(gt=ws(gt,u,h,Oe)),dt-=pn,Oe&&dt<Z){var Nt=Xn(gt,nn);return Ss(e,t,Ti,Be.placeholder,n,gt,Nt,v,T,Z-dt)}var Fn=se?n:this,Jn=we?Fn[e]:e;return dt=gt.length,v?gt=If(gt,v):Ue&&dt>1&&gt.reverse(),te&&T<dt&&(gt.length=T),this&&this!==Gt&&this instanceof Be&&(Jn=st||Vr(Jn)),Jn.apply(Fn,gt)}return Be}function As(e,t){return function(n,r){return Wc(n,e,t(r),{})}}function Ai(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;typeof n=="string"||typeof r=="string"?(n=gn(n),r=gn(r)):(n=fs(n),r=fs(r)),o=e(n,r)}return o}}function Mo(e){return $n(function(t){return t=Mt(t,hn(We())),ut(function(n){var r=this;return e(t,function(o){return dn(o,r,n)})})})}function Ci(e,t){t=t===i?" ":gn(t);var n=t.length;if(n<2)return n?ko(t,e):t;var r=ko(t,hi(e/kr(t)));return xr(t)?nr(On(r),0,e).join(""):r.slice(0,e)}function df(e,t,n,r){var o=t&R,u=Vr(e);function h(){for(var v=-1,T=arguments.length,Z=-1,te=r.length,se=z(te+T),we=this&&this!==Gt&&this instanceof h?u:e;++Z<te;)se[Z]=r[Z];for(;T--;)se[Z++]=arguments[++v];return dn(we,o?n:this,se)}return h}function Cs(e){return function(t,n,r){return r&&typeof r!="number"&&tn(t,n,r)&&(n=r=i),t=Gn(t),n===i?(n=t,t=0):n=Gn(n),r=r===i?t<n?1:-1:Gn(r),jc(t,n,r,e)}}function Si(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=An(t),n=An(n)),e(t,n)}}function Ss(e,t,n,r,o,u,h,v,T,Z){var te=t&c,se=te?h:i,we=te?i:h,Oe=te?u:i,Ue=te?i:u;t|=te?f:ue,t&=~(te?ue:f),t&U||(t&=~(R|ee));var st=[e,t,o,Oe,se,Ue,we,v,T,Z],Be=n.apply(i,st);return Wo(e)&&Us(Be,st),Be.placeholder=r,Bs(Be,e,t)}function Io(e){var t=Bt[e];return function(n,r){if(n=An(n),r=r==null?0:Yt(it(r),292),r&&Ba(n)){var o=(kt(n)+"e").split("e"),u=t(o[0]+"e"+(+o[1]+r));return o=(kt(u)+"e").split("e"),+(o[0]+"e"+(+o[1]-r))}return t(n)}}var hf=Ar&&1/ri(new Ar([,-0]))[1]==N?function(e){return new Ar(e)}:Qo;function Os(e){return function(t){var n=jt(t);return n==bt?ao(t):n==fe?Ol(t):bl(t,e(t))}}function Bn(e,t,n,r,o,u,h,v){var T=t&ee;if(!T&&typeof e!="function")throw new bn(B);var Z=r?r.length:0;if(Z||(t&=~(f|ue),r=o=i),h=h===i?h:$t(it(h),0),v=v===i?v:it(v),Z-=o?o.length:0,t&ue){var te=r,se=o;r=o=i}var we=T?i:Ro(e),Oe=[e,t,n,r,o,te,se,u,h,v];if(we&&Sf(Oe,we),e=Oe[0],t=Oe[1],n=Oe[2],r=Oe[3],o=Oe[4],v=Oe[9]=Oe[9]===i?T?0:e.length:$t(Oe[9]-Z,0),!v&&t&(c|K)&&(t&=~(c|K)),!t||t==R)var Ue=cf(e,t,n);else t==c||t==K?Ue=ff(e,t,v):(t==f||t==(R|f))&&!o.length?Ue=df(e,t,n,r):Ue=Ti.apply(i,Oe);var st=we?ls:Us;return Bs(st(Ue,Oe),e,t)}function Ms(e,t,n,r){return e===i||In(e,Tr[n])&&!Et.call(r,n)?t:e}function Is(e,t,n,r,o,u){return It(e)&&It(t)&&(u.set(t,e),bi(e,t,i,Is,u),u.delete(t)),e}function gf(e){return Xr(e)?i:e}function Fs(e,t,n,r,o,u){var h=n&k,v=e.length,T=t.length;if(v!=T&&!(h&&T>v))return!1;var Z=u.get(e),te=u.get(t);if(Z&&te)return Z==t&&te==e;var se=-1,we=!0,Oe=n&W?new hr:i;for(u.set(e,t),u.set(t,e);++se<v;){var Ue=e[se],st=t[se];if(r)var Be=h?r(st,Ue,se,t,e,u):r(Ue,st,se,e,t,u);if(Be!==i){if(Be)continue;we=!1;break}if(Oe){if(!eo(t,function(dt,gt){if(!Nr(Oe,gt)&&(Ue===dt||o(Ue,dt,n,r,u)))return Oe.push(gt)})){we=!1;break}}else if(!(Ue===st||o(Ue,st,n,r,u))){we=!1;break}}return u.delete(e),u.delete(t),we}function _f(e,t,n,r,o,u,h){switch(n){case ie:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!u(new li(e),new li(t)));case He:case ft:case Wt:return In(+e,+t);case wt:return e.name==t.name&&e.message==t.message;case ge:case ke:return e==t+"";case bt:var v=ao;case fe:var T=r&k;if(v||(v=ri),e.size!=t.size&&!T)return!1;var Z=h.get(e);if(Z)return Z==t;r|=W,h.set(e,t);var te=Fs(v(e),v(t),r,o,u,h);return h.delete(e),te;case Ne:if($r)return $r.call(e)==$r.call(t)}return!1}function vf(e,t,n,r,o,u){var h=n&k,v=Fo(e),T=v.length,Z=Fo(t),te=Z.length;if(T!=te&&!h)return!1;for(var se=T;se--;){var we=v[se];if(!(h?we in t:Et.call(t,we)))return!1}var Oe=u.get(e),Ue=u.get(t);if(Oe&&Ue)return Oe==t&&Ue==e;var st=!0;u.set(e,t),u.set(t,e);for(var Be=h;++se<T;){we=v[se];var dt=e[we],gt=t[we];if(r)var vn=h?r(gt,dt,we,t,e,u):r(dt,gt,we,e,t,u);if(!(vn===i?dt===gt||o(dt,gt,n,r,u):vn)){st=!1;break}Be||(Be=we=="constructor")}if(st&&!Be){var nn=e.constructor,pn=t.constructor;nn!=pn&&"constructor"in e&&"constructor"in t&&!(typeof nn=="function"&&nn instanceof nn&&typeof pn=="function"&&pn instanceof pn)&&(st=!1)}return u.delete(e),u.delete(t),st}function $n(e){return Uo(Ws(e,i,Ks),e+"")}function Fo(e){return Za(e,qt,Do)}function Po(e){return Za(e,ln,Ps)}var Ro=_i?function(e){return _i.get(e)}:Qo;function Oi(e){for(var t=e.name+"",n=Cr[t],r=Et.call(Cr,t)?n.length:0;r--;){var o=n[r],u=o.func;if(u==null||u==e)return o.name}return t}function Ir(e){var t=Et.call(a,"placeholder")?a:e;return t.placeholder}function We(){var e=a.iteratee||Xo;return e=e===Xo?ts:e,arguments.length?e(arguments[0],arguments[1]):e}function Mi(e,t){var n=e.__data__;return Ef(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Lo(e){for(var t=qt(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Ds(o)]}return t}function vr(e,t){var n=Al(e,t);return es(n)?n:i}function pf(e){var t=Et.call(e,fr),n=e[fr];try{e[fr]=i;var r=!0}catch{}var o=si.call(e);return r&&(t?e[fr]=n:delete e[fr]),o}var Do=uo?function(e){return e==null?[]:(e=At(e),Yn(uo(e),function(t){return za.call(e,t)}))}:ea,Ps=uo?function(e){for(var t=[];e;)jn(t,Do(e)),e=ci(e);return t}:ea,jt=en;(lo&&jt(new lo(new ArrayBuffer(1)))!=ie||zr&&jt(new zr)!=bt||co&&jt(co.resolve())!=m||Ar&&jt(new Ar)!=fe||Ur&&jt(new Ur)!=Ce)&&(jt=function(e){var t=en(e),n=t==he?e.constructor:i,r=n?pr(n):"";if(r)switch(r){case Zl:return ie;case Ql:return bt;case ec:return m;case tc:return fe;case nc:return Ce}return t});function mf(e,t,n){for(var r=-1,o=n.length;++r<o;){var u=n[r],h=u.size;switch(u.type){case"drop":e+=h;break;case"dropRight":t-=h;break;case"take":t=Yt(t,e+h);break;case"takeRight":e=$t(e,t-h);break}}return{start:e,end:t}}function yf(e){var t=e.match(Zt);return t?t[1].split(lr):[]}function Rs(e,t,n){t=tr(t,e);for(var r=-1,o=t.length,u=!1;++r<o;){var h=Dn(t[r]);if(!(u=e!=null&&n(e,h)))break;e=e[h]}return u||++r!=o?u:(o=e==null?0:e.length,!!o&&Ni(o)&&Hn(h,o)&&(nt(e)||mr(e)))}function wf(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Et.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Ls(e){return typeof e.constructor=="function"&&!Yr(e)?Sr(ci(e)):{}}function bf(e,t,n){var r=e.constructor;switch(t){case E:return Oo(e);case He:case ft:return new r(+e);case ie:return rf(e,n);case _:case I:case w:case L:case $:case X:case Je:case ct:case zt:return ps(e,n);case bt:return new r;case Wt:case ke:return new r(e);case ge:return of(e);case fe:return new r;case Ne:return af(e)}}function xf(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ur,`{
/* [wrapped with `+t+`] */
`)}function kf(e){return nt(e)||mr(e)||!!(Ua&&e&&e[Ua])}function Hn(e,t){var n=typeof e;return t=t??ae,!!t&&(n=="number"||n!="symbol"&&Qe.test(e))&&e>-1&&e%1==0&&e<t}function tn(e,t,n){if(!It(n))return!1;var r=typeof t;return(r=="number"?un(n)&&Hn(t,n.length):r=="string"&&t in n)?In(n[t],e):!1}function No(e,t){if(nt(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||_n(e)?!0:pt.test(e)||!rt.test(e)||t!=null&&e in At(t)}function Ef(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Wo(e){var t=Oi(e),n=a[t];if(typeof n!="function"||!(t in ht.prototype))return!1;if(e===n)return!0;var r=Ro(n);return!!r&&e===r[0]}function Tf(e){return!!Da&&Da in e}var Af=oi?qn:ta;function Yr(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Tr;return e===n}function Ds(e){return e===e&&!It(e)}function Ns(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==i||e in At(n))}}function Cf(e){var t=Li(e,function(r){return n.size===ye&&n.clear(),r}),n=t.cache;return t}function Sf(e,t){var n=e[1],r=t[1],o=n|r,u=o<(R|ee|ve),h=r==ve&&n==c||r==ve&&n==ce&&e[7].length<=t[8]||r==(ve|ce)&&t[7].length<=t[8]&&n==c;if(!(u||h))return e;r&R&&(e[2]=t[2],o|=n&R?0:U);var v=t[3];if(v){var T=e[3];e[3]=T?ys(T,v,t[4]):v,e[4]=T?Xn(e[3],le):t[4]}return v=t[5],v&&(T=e[5],e[5]=T?ws(T,v,t[6]):v,e[6]=T?Xn(e[5],le):t[6]),v=t[7],v&&(e[7]=v),r&ve&&(e[8]=e[8]==null?t[8]:Yt(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}function Of(e){var t=[];if(e!=null)for(var n in At(e))t.push(n);return t}function Mf(e){return si.call(e)}function Ws(e,t,n){return t=$t(t===i?e.length-1:t,0),function(){for(var r=arguments,o=-1,u=$t(r.length-t,0),h=z(u);++o<u;)h[o]=r[t+o];o=-1;for(var v=z(t+1);++o<t;)v[o]=r[o];return v[t]=n(h),dn(e,this,v)}}function zs(e,t){return t.length<2?e:_r(e,En(t,0,-1))}function If(e,t){for(var n=e.length,r=Yt(t.length,n),o=sn(e);r--;){var u=t[r];e[r]=Hn(u,n)?o[u]:i}return e}function zo(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Us=$s(ls),jr=Gl||function(e,t){return Gt.setTimeout(e,t)},Uo=$s(Qc);function Bs(e,t,n){var r=t+"";return Uo(e,xf(r,Ff(yf(r),n)))}function $s(e){var t=0,n=0;return function(){var r=Yl(),o=q-(r-n);if(n=r,o>0){if(++t>=be)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Ii(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var u=xo(n,o),h=e[u];e[u]=e[n],e[n]=h}return e.length=t,e}var Hs=Cf(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Pt,function(n,r,o,u){t.push(o?u.replace(V,"$1"):r||n)}),t});function Dn(e){if(typeof e=="string"||_n(e))return e;var t=e+"";return t=="0"&&1/e==-N?"-0":t}function pr(e){if(e!=null){try{return ai.call(e)}catch{}try{return e+""}catch{}}return""}function Ff(e,t){return wn(yt,function(n){var r="_."+n[0];t&n[1]&&!ti(e,r)&&e.push(r)}),e.sort()}function qs(e){if(e instanceof ht)return e.clone();var t=new xn(e.__wrapped__,e.__chain__);return t.__actions__=sn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Pf(e,t,n){(n?tn(e,t,n):t===i)?t=1:t=$t(it(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var o=0,u=0,h=z(hi(r/t));o<r;)h[u++]=En(e,o,o+=t);return h}function Rf(e){for(var t=-1,n=e==null?0:e.length,r=0,o=[];++t<n;){var u=e[t];u&&(o[r++]=u)}return o}function Lf(){var e=arguments.length;if(!e)return[];for(var t=z(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return jn(nt(n)?sn(n):[n],Jt(t,1))}var Df=ut(function(e,t){return Dt(e)?qr(e,Jt(t,1,Dt,!0)):[]}),Nf=ut(function(e,t){var n=Tn(t);return Dt(n)&&(n=i),Dt(e)?qr(e,Jt(t,1,Dt,!0),We(n,2)):[]}),Wf=ut(function(e,t){var n=Tn(t);return Dt(n)&&(n=i),Dt(e)?qr(e,Jt(t,1,Dt,!0),i,n):[]});function zf(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===i?1:it(t),En(e,t<0?0:t,r)):[]}function Uf(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===i?1:it(t),t=r-t,En(e,0,t<0?0:t)):[]}function Bf(e,t){return e&&e.length?ki(e,We(t,3),!0,!0):[]}function $f(e,t){return e&&e.length?ki(e,We(t,3),!0):[]}function Hf(e,t,n,r){var o=e==null?0:e.length;return o?(n&&typeof n!="number"&&tn(e,t,n)&&(n=0,r=o),Rc(e,t,n,r)):[]}function Gs(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:it(n);return o<0&&(o=$t(r+o,0)),ni(e,We(t,3),o)}function Js(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=it(n),o=n<0?$t(r+o,0):Yt(o,r-1)),ni(e,We(t,3),o,!0)}function Ks(e){var t=e==null?0:e.length;return t?Jt(e,1):[]}function qf(e){var t=e==null?0:e.length;return t?Jt(e,N):[]}function Gf(e,t){var n=e==null?0:e.length;return n?(t=t===i?1:it(t),Jt(e,t)):[]}function Jf(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r}function Vs(e){return e&&e.length?e[0]:i}function Kf(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:it(n);return o<0&&(o=$t(r+o,0)),br(e,t,o)}function Vf(e){var t=e==null?0:e.length;return t?En(e,0,-1):[]}var Yf=ut(function(e){var t=Mt(e,Co);return t.length&&t[0]===e[0]?po(t):[]}),jf=ut(function(e){var t=Tn(e),n=Mt(e,Co);return t===Tn(n)?t=i:n.pop(),n.length&&n[0]===e[0]?po(n,We(t,2)):[]}),Xf=ut(function(e){var t=Tn(e),n=Mt(e,Co);return t=typeof t=="function"?t:i,t&&n.pop(),n.length&&n[0]===e[0]?po(n,i,t):[]});function Zf(e,t){return e==null?"":Kl.call(e,t)}function Tn(e){var t=e==null?0:e.length;return t?e[t-1]:i}function Qf(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=it(n),o=o<0?$t(r+o,0):Yt(o,r-1)),t===t?Il(e,t,o):ni(e,Sa,o,!0)}function ed(e,t){return e&&e.length?os(e,it(t)):i}var td=ut(Ys);function Ys(e,t){return e&&e.length&&t&&t.length?bo(e,t):e}function nd(e,t,n){return e&&e.length&&t&&t.length?bo(e,t,We(n,2)):e}function rd(e,t,n){return e&&e.length&&t&&t.length?bo(e,t,i,n):e}var id=$n(function(e,t){var n=e==null?0:e.length,r=ho(e,t);return us(e,Mt(t,function(o){return Hn(o,n)?+o:o}).sort(ms)),r});function od(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,o=[],u=e.length;for(t=We(t,3);++r<u;){var h=e[r];t(h,r,e)&&(n.push(h),o.push(r))}return us(e,o),n}function Bo(e){return e==null?e:Xl.call(e)}function ad(e,t,n){var r=e==null?0:e.length;return r?(n&&typeof n!="number"&&tn(e,t,n)?(t=0,n=r):(t=t==null?0:it(t),n=n===i?r:it(n)),En(e,t,n)):[]}function sd(e,t){return xi(e,t)}function ud(e,t,n){return Eo(e,t,We(n,2))}function ld(e,t){var n=e==null?0:e.length;if(n){var r=xi(e,t);if(r<n&&In(e[r],t))return r}return-1}function cd(e,t){return xi(e,t,!0)}function fd(e,t,n){return Eo(e,t,We(n,2),!0)}function dd(e,t){var n=e==null?0:e.length;if(n){var r=xi(e,t,!0)-1;if(In(e[r],t))return r}return-1}function hd(e){return e&&e.length?cs(e):[]}function gd(e,t){return e&&e.length?cs(e,We(t,2)):[]}function _d(e){var t=e==null?0:e.length;return t?En(e,1,t):[]}function vd(e,t,n){return e&&e.length?(t=n||t===i?1:it(t),En(e,0,t<0?0:t)):[]}function pd(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===i?1:it(t),t=r-t,En(e,t<0?0:t,r)):[]}function md(e,t){return e&&e.length?ki(e,We(t,3),!1,!0):[]}function yd(e,t){return e&&e.length?ki(e,We(t,3)):[]}var wd=ut(function(e){return er(Jt(e,1,Dt,!0))}),bd=ut(function(e){var t=Tn(e);return Dt(t)&&(t=i),er(Jt(e,1,Dt,!0),We(t,2))}),xd=ut(function(e){var t=Tn(e);return t=typeof t=="function"?t:i,er(Jt(e,1,Dt,!0),i,t)});function kd(e){return e&&e.length?er(e):[]}function Ed(e,t){return e&&e.length?er(e,We(t,2)):[]}function Td(e,t){return t=typeof t=="function"?t:i,e&&e.length?er(e,i,t):[]}function $o(e){if(!(e&&e.length))return[];var t=0;return e=Yn(e,function(n){if(Dt(n))return t=$t(n.length,t),!0}),io(t,function(n){return Mt(e,to(n))})}function js(e,t){if(!(e&&e.length))return[];var n=$o(e);return t==null?n:Mt(n,function(r){return dn(t,i,r)})}var Ad=ut(function(e,t){return Dt(e)?qr(e,t):[]}),Cd=ut(function(e){return Ao(Yn(e,Dt))}),Sd=ut(function(e){var t=Tn(e);return Dt(t)&&(t=i),Ao(Yn(e,Dt),We(t,2))}),Od=ut(function(e){var t=Tn(e);return t=typeof t=="function"?t:i,Ao(Yn(e,Dt),i,t)}),Md=ut($o);function Id(e,t){return gs(e||[],t||[],Hr)}function Fd(e,t){return gs(e||[],t||[],Kr)}var Pd=ut(function(e){var t=e.length,n=t>1?e[t-1]:i;return n=typeof n=="function"?(e.pop(),n):i,js(e,n)});function Xs(e){var t=a(e);return t.__chain__=!0,t}function Rd(e,t){return t(e),e}function Fi(e,t){return t(e)}var Ld=$n(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(u){return ho(u,e)};return t>1||this.__actions__.length||!(r instanceof ht)||!Hn(n)?this.thru(o):(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:Fi,args:[o],thisArg:i}),new xn(r,this.__chain__).thru(function(u){return t&&!u.length&&u.push(i),u}))});function Dd(){return Xs(this)}function Nd(){return new xn(this.value(),this.__chain__)}function Wd(){this.__values__===i&&(this.__values__=fu(this.value()));var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}}function zd(){return this}function Ud(e){for(var t,n=this;n instanceof pi;){var r=qs(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t}function Bd(){var e=this.__wrapped__;if(e instanceof ht){var t=e;return this.__actions__.length&&(t=new ht(this)),t=t.reverse(),t.__actions__.push({func:Fi,args:[Bo],thisArg:i}),new xn(t,this.__chain__)}return this.thru(Bo)}function $d(){return hs(this.__wrapped__,this.__actions__)}var Hd=Ei(function(e,t,n){Et.call(e,n)?++e[n]:Un(e,n,1)});function qd(e,t,n){var r=nt(e)?Aa:Pc;return n&&tn(e,t,n)&&(t=i),r(e,We(t,3))}function Gd(e,t){var n=nt(e)?Yn:ja;return n(e,We(t,3))}var Jd=Es(Gs),Kd=Es(Js);function Vd(e,t){return Jt(Pi(e,t),1)}function Yd(e,t){return Jt(Pi(e,t),N)}function jd(e,t,n){return n=n===i?1:it(n),Jt(Pi(e,t),n)}function Zs(e,t){var n=nt(e)?wn:Qn;return n(e,We(t,3))}function Qs(e,t){var n=nt(e)?gl:Ya;return n(e,We(t,3))}var Xd=Ei(function(e,t,n){Et.call(e,n)?e[n].push(t):Un(e,n,[t])});function Zd(e,t,n,r){e=un(e)?e:Pr(e),n=n&&!r?it(n):0;var o=e.length;return n<0&&(n=$t(o+n,0)),Wi(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&br(e,t,n)>-1}var Qd=ut(function(e,t,n){var r=-1,o=typeof t=="function",u=un(e)?z(e.length):[];return Qn(e,function(h){u[++r]=o?dn(t,h,n):Gr(h,t,n)}),u}),eh=Ei(function(e,t,n){Un(e,n,t)});function Pi(e,t){var n=nt(e)?Mt:ns;return n(e,We(t,3))}function th(e,t,n,r){return e==null?[]:(nt(t)||(t=t==null?[]:[t]),n=r?i:n,nt(n)||(n=n==null?[]:[n]),as(e,t,n))}var nh=Ei(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function rh(e,t,n){var r=nt(e)?Qi:Ma,o=arguments.length<3;return r(e,We(t,4),n,o,Qn)}function ih(e,t,n){var r=nt(e)?_l:Ma,o=arguments.length<3;return r(e,We(t,4),n,o,Ya)}function oh(e,t){var n=nt(e)?Yn:ja;return n(e,Di(We(t,3)))}function ah(e){var t=nt(e)?Ga:Xc;return t(e)}function sh(e,t,n){(n?tn(e,t,n):t===i)?t=1:t=it(t);var r=nt(e)?Sc:Zc;return r(e,t)}function uh(e){var t=nt(e)?Oc:ef;return t(e)}function lh(e){if(e==null)return 0;if(un(e))return Wi(e)?kr(e):e.length;var t=jt(e);return t==bt||t==fe?e.size:yo(e).length}function ch(e,t,n){var r=nt(e)?eo:tf;return n&&tn(e,t,n)&&(t=i),r(e,We(t,3))}var fh=ut(function(e,t){if(e==null)return[];var n=t.length;return n>1&&tn(e,t[0],t[1])?t=[]:n>2&&tn(t[0],t[1],t[2])&&(t=[t[0]]),as(e,Jt(t,1),[])}),Ri=ql||function(){return Gt.Date.now()};function dh(e,t){if(typeof t!="function")throw new bn(B);return e=it(e),function(){if(--e<1)return t.apply(this,arguments)}}function eu(e,t,n){return t=n?i:t,t=e&&t==null?e.length:t,Bn(e,ve,i,i,i,i,t)}function tu(e,t){var n;if(typeof t!="function")throw new bn(B);return e=it(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Ho=ut(function(e,t,n){var r=R;if(n.length){var o=Xn(n,Ir(Ho));r|=f}return Bn(e,r,t,n,o)}),nu=ut(function(e,t,n){var r=R|ee;if(n.length){var o=Xn(n,Ir(nu));r|=f}return Bn(t,r,e,n,o)});function ru(e,t,n){t=n?i:t;var r=Bn(e,c,i,i,i,i,i,t);return r.placeholder=ru.placeholder,r}function iu(e,t,n){t=n?i:t;var r=Bn(e,K,i,i,i,i,i,t);return r.placeholder=iu.placeholder,r}function ou(e,t,n){var r,o,u,h,v,T,Z=0,te=!1,se=!1,we=!0;if(typeof e!="function")throw new bn(B);t=An(t)||0,It(n)&&(te=!!n.leading,se="maxWait"in n,u=se?$t(An(n.maxWait)||0,t):u,we="trailing"in n?!!n.trailing:we);function Oe(Nt){var Fn=r,Jn=o;return r=o=i,Z=Nt,h=e.apply(Jn,Fn),h}function Ue(Nt){return Z=Nt,v=jr(dt,t),te?Oe(Nt):h}function st(Nt){var Fn=Nt-T,Jn=Nt-Z,Eu=t-Fn;return se?Yt(Eu,u-Jn):Eu}function Be(Nt){var Fn=Nt-T,Jn=Nt-Z;return T===i||Fn>=t||Fn<0||se&&Jn>=u}function dt(){var Nt=Ri();if(Be(Nt))return gt(Nt);v=jr(dt,st(Nt))}function gt(Nt){return v=i,we&&r?Oe(Nt):(r=o=i,h)}function vn(){v!==i&&_s(v),Z=0,r=T=o=v=i}function nn(){return v===i?h:gt(Ri())}function pn(){var Nt=Ri(),Fn=Be(Nt);if(r=arguments,o=this,T=Nt,Fn){if(v===i)return Ue(T);if(se)return _s(v),v=jr(dt,t),Oe(T)}return v===i&&(v=jr(dt,t)),h}return pn.cancel=vn,pn.flush=nn,pn}var hh=ut(function(e,t){return Va(e,1,t)}),gh=ut(function(e,t,n){return Va(e,An(t)||0,n)});function _h(e){return Bn(e,ze)}function Li(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new bn(B);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],u=n.cache;if(u.has(o))return u.get(o);var h=e.apply(this,r);return n.cache=u.set(o,h)||u,h};return n.cache=new(Li.Cache||zn),n}Li.Cache=zn;function Di(e){if(typeof e!="function")throw new bn(B);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function vh(e){return tu(2,e)}var ph=nf(function(e,t){t=t.length==1&&nt(t[0])?Mt(t[0],hn(We())):Mt(Jt(t,1),hn(We()));var n=t.length;return ut(function(r){for(var o=-1,u=Yt(r.length,n);++o<u;)r[o]=t[o].call(this,r[o]);return dn(e,this,r)})}),qo=ut(function(e,t){var n=Xn(t,Ir(qo));return Bn(e,f,i,t,n)}),au=ut(function(e,t){var n=Xn(t,Ir(au));return Bn(e,ue,i,t,n)}),mh=$n(function(e,t){return Bn(e,ce,i,i,i,t)});function yh(e,t){if(typeof e!="function")throw new bn(B);return t=t===i?t:it(t),ut(e,t)}function wh(e,t){if(typeof e!="function")throw new bn(B);return t=t==null?0:$t(it(t),0),ut(function(n){var r=n[t],o=nr(n,0,t);return r&&jn(o,r),dn(e,this,o)})}function bh(e,t,n){var r=!0,o=!0;if(typeof e!="function")throw new bn(B);return It(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ou(e,t,{leading:r,maxWait:t,trailing:o})}function xh(e){return eu(e,1)}function kh(e,t){return qo(So(t),e)}function Eh(){if(!arguments.length)return[];var e=arguments[0];return nt(e)?e:[e]}function Th(e){return kn(e,F)}function Ah(e,t){return t=typeof t=="function"?t:i,kn(e,F,t)}function Ch(e){return kn(e,Q|F)}function Sh(e,t){return t=typeof t=="function"?t:i,kn(e,Q|F,t)}function Oh(e,t){return t==null||Ka(e,t,qt(t))}function In(e,t){return e===t||e!==e&&t!==t}var Mh=Si(vo),Ih=Si(function(e,t){return e>=t}),mr=Qa(function(){return arguments}())?Qa:function(e){return Rt(e)&&Et.call(e,"callee")&&!za.call(e,"callee")},nt=z.isArray,Fh=wa?hn(wa):zc;function un(e){return e!=null&&Ni(e.length)&&!qn(e)}function Dt(e){return Rt(e)&&un(e)}function Ph(e){return e===!0||e===!1||Rt(e)&&en(e)==He}var rr=Jl||ta,Rh=ba?hn(ba):Uc;function Lh(e){return Rt(e)&&e.nodeType===1&&!Xr(e)}function Dh(e){if(e==null)return!0;if(un(e)&&(nt(e)||typeof e=="string"||typeof e.splice=="function"||rr(e)||Fr(e)||mr(e)))return!e.length;var t=jt(e);if(t==bt||t==fe)return!e.size;if(Yr(e))return!yo(e).length;for(var n in e)if(Et.call(e,n))return!1;return!0}function Nh(e,t){return Jr(e,t)}function Wh(e,t,n){n=typeof n=="function"?n:i;var r=n?n(e,t):i;return r===i?Jr(e,t,i,n):!!r}function Go(e){if(!Rt(e))return!1;var t=en(e);return t==wt||t==lt||typeof e.message=="string"&&typeof e.name=="string"&&!Xr(e)}function zh(e){return typeof e=="number"&&Ba(e)}function qn(e){if(!It(e))return!1;var t=en(e);return t==at||t==Ut||t==Ye||t==H}function su(e){return typeof e=="number"&&e==it(e)}function Ni(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ae}function It(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Rt(e){return e!=null&&typeof e=="object"}var uu=xa?hn(xa):$c;function Uh(e,t){return e===t||mo(e,t,Lo(t))}function Bh(e,t,n){return n=typeof n=="function"?n:i,mo(e,t,Lo(t),n)}function $h(e){return lu(e)&&e!=+e}function Hh(e){if(Af(e))throw new tt(l);return es(e)}function qh(e){return e===null}function Gh(e){return e==null}function lu(e){return typeof e=="number"||Rt(e)&&en(e)==Wt}function Xr(e){if(!Rt(e)||en(e)!=he)return!1;var t=ci(e);if(t===null)return!0;var n=Et.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&ai.call(n)==Ul}var Jo=ka?hn(ka):Hc;function Jh(e){return su(e)&&e>=-ae&&e<=ae}var cu=Ea?hn(Ea):qc;function Wi(e){return typeof e=="string"||!nt(e)&&Rt(e)&&en(e)==ke}function _n(e){return typeof e=="symbol"||Rt(e)&&en(e)==Ne}var Fr=Ta?hn(Ta):Gc;function Kh(e){return e===i}function Vh(e){return Rt(e)&&jt(e)==Ce}function Yh(e){return Rt(e)&&en(e)==Tt}var jh=Si(wo),Xh=Si(function(e,t){return e<=t});function fu(e){if(!e)return[];if(un(e))return Wi(e)?On(e):sn(e);if(Wr&&e[Wr])return Sl(e[Wr]());var t=jt(e),n=t==bt?ao:t==fe?ri:Pr;return n(e)}function Gn(e){if(!e)return e===0?e:0;if(e=An(e),e===N||e===-N){var t=e<0?-1:1;return t*de}return e===e?e:0}function it(e){var t=Gn(e),n=t%1;return t===t?n?t-n:t:0}function du(e){return e?gr(it(e),0,re):0}function An(e){if(typeof e=="number")return e;if(_n(e))return ne;if(It(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=It(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ia(e);var n=xe.test(e);return n||je.test(e)?fl(e.slice(2),n?2:8):oe.test(e)?ne:+e}function hu(e){return Ln(e,ln(e))}function Zh(e){return e?gr(it(e),-ae,ae):e===0?e:0}function kt(e){return e==null?"":gn(e)}var Qh=Or(function(e,t){if(Yr(t)||un(t)){Ln(t,qt(t),e);return}for(var n in t)Et.call(t,n)&&Hr(e,n,t[n])}),gu=Or(function(e,t){Ln(t,ln(t),e)}),zi=Or(function(e,t,n,r){Ln(t,ln(t),e,r)}),eg=Or(function(e,t,n,r){Ln(t,qt(t),e,r)}),tg=$n(ho);function ng(e,t){var n=Sr(e);return t==null?n:Ja(n,t)}var rg=ut(function(e,t){e=At(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&tn(t[0],t[1],o)&&(r=1);++n<r;)for(var u=t[n],h=ln(u),v=-1,T=h.length;++v<T;){var Z=h[v],te=e[Z];(te===i||In(te,Tr[Z])&&!Et.call(e,Z))&&(e[Z]=u[Z])}return e}),ig=ut(function(e){return e.push(i,Is),dn(_u,i,e)});function og(e,t){return Ca(e,We(t,3),Rn)}function ag(e,t){return Ca(e,We(t,3),_o)}function sg(e,t){return e==null?e:go(e,We(t,3),ln)}function ug(e,t){return e==null?e:Xa(e,We(t,3),ln)}function lg(e,t){return e&&Rn(e,We(t,3))}function cg(e,t){return e&&_o(e,We(t,3))}function fg(e){return e==null?[]:wi(e,qt(e))}function dg(e){return e==null?[]:wi(e,ln(e))}function Ko(e,t,n){var r=e==null?i:_r(e,t);return r===i?n:r}function hg(e,t){return e!=null&&Rs(e,t,Lc)}function Vo(e,t){return e!=null&&Rs(e,t,Dc)}var gg=As(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=si.call(t)),e[t]=n},jo(cn)),_g=As(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=si.call(t)),Et.call(e,t)?e[t].push(n):e[t]=[n]},We),vg=ut(Gr);function qt(e){return un(e)?qa(e):yo(e)}function ln(e){return un(e)?qa(e,!0):Jc(e)}function pg(e,t){var n={};return t=We(t,3),Rn(e,function(r,o,u){Un(n,t(r,o,u),r)}),n}function mg(e,t){var n={};return t=We(t,3),Rn(e,function(r,o,u){Un(n,o,t(r,o,u))}),n}var yg=Or(function(e,t,n){bi(e,t,n)}),_u=Or(function(e,t,n,r){bi(e,t,n,r)}),wg=$n(function(e,t){var n={};if(e==null)return n;var r=!1;t=Mt(t,function(u){return u=tr(u,e),r||(r=u.length>1),u}),Ln(e,Po(e),n),r&&(n=kn(n,Q|S|F,gf));for(var o=t.length;o--;)To(n,t[o]);return n});function bg(e,t){return vu(e,Di(We(t)))}var xg=$n(function(e,t){return e==null?{}:Vc(e,t)});function vu(e,t){if(e==null)return{};var n=Mt(Po(e),function(r){return[r]});return t=We(t),ss(e,n,function(r,o){return t(r,o[0])})}function kg(e,t,n){t=tr(t,e);var r=-1,o=t.length;for(o||(o=1,e=i);++r<o;){var u=e==null?i:e[Dn(t[r])];u===i&&(r=o,u=n),e=qn(u)?u.call(e):u}return e}function Eg(e,t,n){return e==null?e:Kr(e,t,n)}function Tg(e,t,n,r){return r=typeof r=="function"?r:i,e==null?e:Kr(e,t,n,r)}var pu=Os(qt),mu=Os(ln);function Ag(e,t,n){var r=nt(e),o=r||rr(e)||Fr(e);if(t=We(t,4),n==null){var u=e&&e.constructor;o?n=r?new u:[]:It(e)?n=qn(u)?Sr(ci(e)):{}:n={}}return(o?wn:Rn)(e,function(h,v,T){return t(n,h,v,T)}),n}function Cg(e,t){return e==null?!0:To(e,t)}function Sg(e,t,n){return e==null?e:ds(e,t,So(n))}function Og(e,t,n,r){return r=typeof r=="function"?r:i,e==null?e:ds(e,t,So(n),r)}function Pr(e){return e==null?[]:oo(e,qt(e))}function Mg(e){return e==null?[]:oo(e,ln(e))}function Ig(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=An(n),n=n===n?n:0),t!==i&&(t=An(t),t=t===t?t:0),gr(An(e),t,n)}function Fg(e,t,n){return t=Gn(t),n===i?(n=t,t=0):n=Gn(n),e=An(e),Nc(e,t,n)}function Pg(e,t,n){if(n&&typeof n!="boolean"&&tn(e,t,n)&&(t=n=i),n===i&&(typeof t=="boolean"?(n=t,t=i):typeof e=="boolean"&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=Gn(e),t===i?(t=e,e=0):t=Gn(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=$a();return Yt(e+o*(t-e+cl("1e-"+((o+"").length-1))),t)}return xo(e,t)}var Rg=Mr(function(e,t,n){return t=t.toLowerCase(),e+(n?yu(t):t)});function yu(e){return Yo(kt(e).toLowerCase())}function wu(e){return e=kt(e),e&&e.replace(et,kl).replace(el,"")}function Lg(e,t,n){e=kt(e),t=gn(t);var r=e.length;n=n===i?r:gr(it(n),0,r);var o=n;return n-=t.length,n>=0&&e.slice(n,o)==t}function Dg(e){return e=kt(e),e&&me.test(e)?e.replace(pe,El):e}function Ng(e){return e=kt(e),e&&Sn.test(e)?e.replace(Vt,"\\$&"):e}var Wg=Mr(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),zg=Mr(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Ug=ks("toLowerCase");function Bg(e,t,n){e=kt(e),t=it(t);var r=t?kr(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Ci(gi(o),n)+e+Ci(hi(o),n)}function $g(e,t,n){e=kt(e),t=it(t);var r=t?kr(e):0;return t&&r<t?e+Ci(t-r,n):e}function Hg(e,t,n){e=kt(e),t=it(t);var r=t?kr(e):0;return t&&r<t?Ci(t-r,n)+e:e}function qg(e,t,n){return n||t==null?t=0:t&&(t=+t),jl(kt(e).replace(Vn,""),t||0)}function Gg(e,t,n){return(n?tn(e,t,n):t===i)?t=1:t=it(t),ko(kt(e),t)}function Jg(){var e=arguments,t=kt(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var Kg=Mr(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function Vg(e,t,n){return n&&typeof n!="number"&&tn(e,t,n)&&(t=n=i),n=n===i?re:n>>>0,n?(e=kt(e),e&&(typeof t=="string"||t!=null&&!Jo(t))&&(t=gn(t),!t&&xr(e))?nr(On(e),0,n):e.split(t,n)):[]}var Yg=Mr(function(e,t,n){return e+(n?" ":"")+Yo(t)});function jg(e,t,n){return e=kt(e),n=n==null?0:gr(it(n),0,e.length),t=gn(t),e.slice(n,n+t.length)==t}function Xg(e,t,n){var r=a.templateSettings;n&&tn(e,t,n)&&(t=i),e=kt(e),t=zi({},t,r,Ms);var o=zi({},t.imports,r.imports,Ms),u=qt(o),h=oo(o,u),v,T,Z=0,te=t.interpolate||Re,se="__p += '",we=so((t.escape||Re).source+"|"+te.source+"|"+(te===qe?g:Re).source+"|"+(t.evaluate||Re).source+"|$","g"),Oe="//# sourceURL="+(Et.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ol+"]")+`
`;e.replace(we,function(Be,dt,gt,vn,nn,pn){return gt||(gt=vn),se+=e.slice(Z,pn).replace(Fe,Tl),dt&&(v=!0,se+=`' +
__e(`+dt+`) +
'`),nn&&(T=!0,se+=`';
`+nn+`;
__p += '`),gt&&(se+=`' +
((__t = (`+gt+`)) == null ? '' : __t) +
'`),Z=pn+Be.length,Be}),se+=`';
`;var Ue=Et.call(t,"variable")&&t.variable;if(!Ue)se=`with (obj) {
`+se+`
}
`;else if(P.test(Ue))throw new tt(D);se=(T?se.replace(fn,""):se).replace(Ft,"$1").replace(xt,"$1;"),se="function("+(Ue||"obj")+`) {
`+(Ue?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(v?", __e = _.escape":"")+(T?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+se+`return __p
}`;var st=xu(function(){return mt(u,Oe+"return "+se).apply(i,h)});if(st.source=se,Go(st))throw st;return st}function Zg(e){return kt(e).toLowerCase()}function Qg(e){return kt(e).toUpperCase()}function e_(e,t,n){if(e=kt(e),e&&(n||t===i))return Ia(e);if(!e||!(t=gn(t)))return e;var r=On(e),o=On(t),u=Fa(r,o),h=Pa(r,o)+1;return nr(r,u,h).join("")}function t_(e,t,n){if(e=kt(e),e&&(n||t===i))return e.slice(0,La(e)+1);if(!e||!(t=gn(t)))return e;var r=On(e),o=Pa(r,On(t))+1;return nr(r,0,o).join("")}function n_(e,t,n){if(e=kt(e),e&&(n||t===i))return e.replace(Vn,"");if(!e||!(t=gn(t)))return e;var r=On(e),o=Fa(r,On(t));return nr(r,o).join("")}function r_(e,t){var n=Le,r=ot;if(It(t)){var o="separator"in t?t.separator:o;n="length"in t?it(t.length):n,r="omission"in t?gn(t.omission):r}e=kt(e);var u=e.length;if(xr(e)){var h=On(e);u=h.length}if(n>=u)return e;var v=n-kr(r);if(v<1)return r;var T=h?nr(h,0,v).join(""):e.slice(0,v);if(o===i)return T+r;if(h&&(v+=T.length-v),Jo(o)){if(e.slice(v).search(o)){var Z,te=T;for(o.global||(o=so(o.source,kt(C.exec(o))+"g")),o.lastIndex=0;Z=o.exec(te);)var se=Z.index;T=T.slice(0,se===i?v:se)}}else if(e.indexOf(gn(o),v)!=v){var we=T.lastIndexOf(o);we>-1&&(T=T.slice(0,we))}return T+r}function i_(e){return e=kt(e),e&&_e.test(e)?e.replace(Te,Fl):e}var o_=Mr(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Yo=ks("toUpperCase");function bu(e,t,n){return e=kt(e),t=n?i:t,t===i?Cl(e)?Ll(e):ml(e):e.match(t)||[]}var xu=ut(function(e,t){try{return dn(e,i,t)}catch(n){return Go(n)?n:new tt(n)}}),a_=$n(function(e,t){return wn(t,function(n){n=Dn(n),Un(e,n,Ho(e[n],e))}),e});function s_(e){var t=e==null?0:e.length,n=We();return e=t?Mt(e,function(r){if(typeof r[1]!="function")throw new bn(B);return[n(r[0]),r[1]]}):[],ut(function(r){for(var o=-1;++o<t;){var u=e[o];if(dn(u[0],this,r))return dn(u[1],this,r)}})}function u_(e){return Fc(kn(e,Q))}function jo(e){return function(){return e}}function l_(e,t){return e==null||e!==e?t:e}var c_=Ts(),f_=Ts(!0);function cn(e){return e}function Xo(e){return ts(typeof e=="function"?e:kn(e,Q))}function d_(e){return rs(kn(e,Q))}function h_(e,t){return is(e,kn(t,Q))}var g_=ut(function(e,t){return function(n){return Gr(n,e,t)}}),__=ut(function(e,t){return function(n){return Gr(e,n,t)}});function Zo(e,t,n){var r=qt(t),o=wi(t,r);n==null&&!(It(t)&&(o.length||!r.length))&&(n=t,t=e,e=this,o=wi(t,qt(t)));var u=!(It(n)&&"chain"in n)||!!n.chain,h=qn(e);return wn(o,function(v){var T=t[v];e[v]=T,h&&(e.prototype[v]=function(){var Z=this.__chain__;if(u||Z){var te=e(this.__wrapped__),se=te.__actions__=sn(this.__actions__);return se.push({func:T,args:arguments,thisArg:e}),te.__chain__=Z,te}return T.apply(e,jn([this.value()],arguments))})}),e}function v_(){return Gt._===this&&(Gt._=Bl),this}function Qo(){}function p_(e){return e=it(e),ut(function(t){return os(t,e)})}var m_=Mo(Mt),y_=Mo(Aa),w_=Mo(eo);function ku(e){return No(e)?to(Dn(e)):Yc(e)}function b_(e){return function(t){return e==null?i:_r(e,t)}}var x_=Cs(),k_=Cs(!0);function ea(){return[]}function ta(){return!1}function E_(){return{}}function T_(){return""}function A_(){return!0}function C_(e,t){if(e=it(e),e<1||e>ae)return[];var n=re,r=Yt(e,re);t=We(t),e-=re;for(var o=io(r,t);++n<e;)t(n);return o}function S_(e){return nt(e)?Mt(e,Dn):_n(e)?[e]:sn(Hs(kt(e)))}function O_(e){var t=++zl;return kt(e)+t}var M_=Ai(function(e,t){return e+t},0),I_=Io("ceil"),F_=Ai(function(e,t){return e/t},1),P_=Io("floor");function R_(e){return e&&e.length?yi(e,cn,vo):i}function L_(e,t){return e&&e.length?yi(e,We(t,2),vo):i}function D_(e){return Oa(e,cn)}function N_(e,t){return Oa(e,We(t,2))}function W_(e){return e&&e.length?yi(e,cn,wo):i}function z_(e,t){return e&&e.length?yi(e,We(t,2),wo):i}var U_=Ai(function(e,t){return e*t},1),B_=Io("round"),$_=Ai(function(e,t){return e-t},0);function H_(e){return e&&e.length?ro(e,cn):0}function q_(e,t){return e&&e.length?ro(e,We(t,2)):0}return a.after=dh,a.ary=eu,a.assign=Qh,a.assignIn=gu,a.assignInWith=zi,a.assignWith=eg,a.at=tg,a.before=tu,a.bind=Ho,a.bindAll=a_,a.bindKey=nu,a.castArray=Eh,a.chain=Xs,a.chunk=Pf,a.compact=Rf,a.concat=Lf,a.cond=s_,a.conforms=u_,a.constant=jo,a.countBy=Hd,a.create=ng,a.curry=ru,a.curryRight=iu,a.debounce=ou,a.defaults=rg,a.defaultsDeep=ig,a.defer=hh,a.delay=gh,a.difference=Df,a.differenceBy=Nf,a.differenceWith=Wf,a.drop=zf,a.dropRight=Uf,a.dropRightWhile=Bf,a.dropWhile=$f,a.fill=Hf,a.filter=Gd,a.flatMap=Vd,a.flatMapDeep=Yd,a.flatMapDepth=jd,a.flatten=Ks,a.flattenDeep=qf,a.flattenDepth=Gf,a.flip=_h,a.flow=c_,a.flowRight=f_,a.fromPairs=Jf,a.functions=fg,a.functionsIn=dg,a.groupBy=Xd,a.initial=Vf,a.intersection=Yf,a.intersectionBy=jf,a.intersectionWith=Xf,a.invert=gg,a.invertBy=_g,a.invokeMap=Qd,a.iteratee=Xo,a.keyBy=eh,a.keys=qt,a.keysIn=ln,a.map=Pi,a.mapKeys=pg,a.mapValues=mg,a.matches=d_,a.matchesProperty=h_,a.memoize=Li,a.merge=yg,a.mergeWith=_u,a.method=g_,a.methodOf=__,a.mixin=Zo,a.negate=Di,a.nthArg=p_,a.omit=wg,a.omitBy=bg,a.once=vh,a.orderBy=th,a.over=m_,a.overArgs=ph,a.overEvery=y_,a.overSome=w_,a.partial=qo,a.partialRight=au,a.partition=nh,a.pick=xg,a.pickBy=vu,a.property=ku,a.propertyOf=b_,a.pull=td,a.pullAll=Ys,a.pullAllBy=nd,a.pullAllWith=rd,a.pullAt=id,a.range=x_,a.rangeRight=k_,a.rearg=mh,a.reject=oh,a.remove=od,a.rest=yh,a.reverse=Bo,a.sampleSize=sh,a.set=Eg,a.setWith=Tg,a.shuffle=uh,a.slice=ad,a.sortBy=fh,a.sortedUniq=hd,a.sortedUniqBy=gd,a.split=Vg,a.spread=wh,a.tail=_d,a.take=vd,a.takeRight=pd,a.takeRightWhile=md,a.takeWhile=yd,a.tap=Rd,a.throttle=bh,a.thru=Fi,a.toArray=fu,a.toPairs=pu,a.toPairsIn=mu,a.toPath=S_,a.toPlainObject=hu,a.transform=Ag,a.unary=xh,a.union=wd,a.unionBy=bd,a.unionWith=xd,a.uniq=kd,a.uniqBy=Ed,a.uniqWith=Td,a.unset=Cg,a.unzip=$o,a.unzipWith=js,a.update=Sg,a.updateWith=Og,a.values=Pr,a.valuesIn=Mg,a.without=Ad,a.words=bu,a.wrap=kh,a.xor=Cd,a.xorBy=Sd,a.xorWith=Od,a.zip=Md,a.zipObject=Id,a.zipObjectDeep=Fd,a.zipWith=Pd,a.entries=pu,a.entriesIn=mu,a.extend=gu,a.extendWith=zi,Zo(a,a),a.add=M_,a.attempt=xu,a.camelCase=Rg,a.capitalize=yu,a.ceil=I_,a.clamp=Ig,a.clone=Th,a.cloneDeep=Ch,a.cloneDeepWith=Sh,a.cloneWith=Ah,a.conformsTo=Oh,a.deburr=wu,a.defaultTo=l_,a.divide=F_,a.endsWith=Lg,a.eq=In,a.escape=Dg,a.escapeRegExp=Ng,a.every=qd,a.find=Jd,a.findIndex=Gs,a.findKey=og,a.findLast=Kd,a.findLastIndex=Js,a.findLastKey=ag,a.floor=P_,a.forEach=Zs,a.forEachRight=Qs,a.forIn=sg,a.forInRight=ug,a.forOwn=lg,a.forOwnRight=cg,a.get=Ko,a.gt=Mh,a.gte=Ih,a.has=hg,a.hasIn=Vo,a.head=Vs,a.identity=cn,a.includes=Zd,a.indexOf=Kf,a.inRange=Fg,a.invoke=vg,a.isArguments=mr,a.isArray=nt,a.isArrayBuffer=Fh,a.isArrayLike=un,a.isArrayLikeObject=Dt,a.isBoolean=Ph,a.isBuffer=rr,a.isDate=Rh,a.isElement=Lh,a.isEmpty=Dh,a.isEqual=Nh,a.isEqualWith=Wh,a.isError=Go,a.isFinite=zh,a.isFunction=qn,a.isInteger=su,a.isLength=Ni,a.isMap=uu,a.isMatch=Uh,a.isMatchWith=Bh,a.isNaN=$h,a.isNative=Hh,a.isNil=Gh,a.isNull=qh,a.isNumber=lu,a.isObject=It,a.isObjectLike=Rt,a.isPlainObject=Xr,a.isRegExp=Jo,a.isSafeInteger=Jh,a.isSet=cu,a.isString=Wi,a.isSymbol=_n,a.isTypedArray=Fr,a.isUndefined=Kh,a.isWeakMap=Vh,a.isWeakSet=Yh,a.join=Zf,a.kebabCase=Wg,a.last=Tn,a.lastIndexOf=Qf,a.lowerCase=zg,a.lowerFirst=Ug,a.lt=jh,a.lte=Xh,a.max=R_,a.maxBy=L_,a.mean=D_,a.meanBy=N_,a.min=W_,a.minBy=z_,a.stubArray=ea,a.stubFalse=ta,a.stubObject=E_,a.stubString=T_,a.stubTrue=A_,a.multiply=U_,a.nth=ed,a.noConflict=v_,a.noop=Qo,a.now=Ri,a.pad=Bg,a.padEnd=$g,a.padStart=Hg,a.parseInt=qg,a.random=Pg,a.reduce=rh,a.reduceRight=ih,a.repeat=Gg,a.replace=Jg,a.result=kg,a.round=B_,a.runInContext=b,a.sample=ah,a.size=lh,a.snakeCase=Kg,a.some=ch,a.sortedIndex=sd,a.sortedIndexBy=ud,a.sortedIndexOf=ld,a.sortedLastIndex=cd,a.sortedLastIndexBy=fd,a.sortedLastIndexOf=dd,a.startCase=Yg,a.startsWith=jg,a.subtract=$_,a.sum=H_,a.sumBy=q_,a.template=Xg,a.times=C_,a.toFinite=Gn,a.toInteger=it,a.toLength=du,a.toLower=Zg,a.toNumber=An,a.toSafeInteger=Zh,a.toString=kt,a.toUpper=Qg,a.trim=e_,a.trimEnd=t_,a.trimStart=n_,a.truncate=r_,a.unescape=i_,a.uniqueId=O_,a.upperCase=o_,a.upperFirst=Yo,a.each=Zs,a.eachRight=Qs,a.first=Vs,Zo(a,function(){var e={};return Rn(a,function(t,n){Et.call(a.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),a.VERSION=d,wn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){a[e].placeholder=a}),wn(["drop","take"],function(e,t){ht.prototype[e]=function(n){n=n===i?1:$t(it(n),0);var r=this.__filtered__&&!t?new ht(this):this.clone();return r.__filtered__?r.__takeCount__=Yt(n,r.__takeCount__):r.__views__.push({size:Yt(n,re),type:e+(r.__dir__<0?"Right":"")}),r},ht.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),wn(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==Y||n==O;ht.prototype[e]=function(o){var u=this.clone();return u.__iteratees__.push({iteratee:We(o,3),type:n}),u.__filtered__=u.__filtered__||r,u}}),wn(["head","last"],function(e,t){var n="take"+(t?"Right":"");ht.prototype[e]=function(){return this[n](1).value()[0]}}),wn(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");ht.prototype[e]=function(){return this.__filtered__?new ht(this):this[n](1)}}),ht.prototype.compact=function(){return this.filter(cn)},ht.prototype.find=function(e){return this.filter(e).head()},ht.prototype.findLast=function(e){return this.reverse().find(e)},ht.prototype.invokeMap=ut(function(e,t){return typeof e=="function"?new ht(this):this.map(function(n){return Gr(n,e,t)})}),ht.prototype.reject=function(e){return this.filter(Di(We(e)))},ht.prototype.slice=function(e,t){e=it(e);var n=this;return n.__filtered__&&(e>0||t<0)?new ht(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(t=it(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},ht.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ht.prototype.toArray=function(){return this.take(re)},Rn(ht.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=a[r?"take"+(t=="last"?"Right":""):t],u=r||/^find/.test(t);o&&(a.prototype[t]=function(){var h=this.__wrapped__,v=r?[1]:arguments,T=h instanceof ht,Z=v[0],te=T||nt(h),se=function(dt){var gt=o.apply(a,jn([dt],v));return r&&we?gt[0]:gt};te&&n&&typeof Z=="function"&&Z.length!=1&&(T=te=!1);var we=this.__chain__,Oe=!!this.__actions__.length,Ue=u&&!we,st=T&&!Oe;if(!u&&te){h=st?h:new ht(this);var Be=e.apply(h,v);return Be.__actions__.push({func:Fi,args:[se],thisArg:i}),new xn(Be,we)}return Ue&&st?e.apply(this,v):(Be=this.thru(se),Ue?r?Be.value()[0]:Be.value():Be)})}),wn(["pop","push","shift","sort","splice","unshift"],function(e){var t=ii[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);a.prototype[e]=function(){var o=arguments;if(r&&!this.__chain__){var u=this.value();return t.apply(nt(u)?u:[],o)}return this[n](function(h){return t.apply(nt(h)?h:[],o)})}}),Rn(ht.prototype,function(e,t){var n=a[t];if(n){var r=n.name+"";Et.call(Cr,r)||(Cr[r]=[]),Cr[r].push({name:t,func:n})}}),Cr[Ti(i,ee).name]=[{name:"wrapper",func:i}],ht.prototype.clone=rc,ht.prototype.reverse=ic,ht.prototype.value=oc,a.prototype.at=Ld,a.prototype.chain=Dd,a.prototype.commit=Nd,a.prototype.next=Wd,a.prototype.plant=Ud,a.prototype.reverse=Bd,a.prototype.toJSON=a.prototype.valueOf=a.prototype.value=$d,a.prototype.first=a.prototype.head,Wr&&(a.prototype[Wr]=zd),a},Er=Dl();cr?((cr.exports=Er)._=Er,ji._=Er):Gt._=Er}).call(Zr)})(Bi,Bi.exports);var hv=Bi.exports;const gv=X_(hv),_v={props:{value:{type:Number,default:null},text:{type:String,default:""},allowNil:{type:Boolean}},computed:{isNA(){return!(this.allowNil||gv.isFinite(this.value))}}};function vv(y,s,i,d,p,l){return $e(),Ve("span",{class:on(["value-text",{underline:l.isNA}])},Kn(i.text),3)}const zu=sr(_v,[["render",vv]]),pv=["colspan","title"],mv={key:0},yv=M("path",{"data-v-ae951afa":"",d:"M5.79 15.013H3.778V7.806H.813L4.808.398l4.004 7.408H5.791v7.207z",fill:"currentColor"},null,-1),wv=[yv],bv={components:{cell_content:zu},props:{value:{type:Number,default:null},tooltip:{type:null,default:null},visible:{type:Boolean,default:!0},colored:{type:Boolean,default:!0},highlighted:{type:Boolean,default:!1},arrow:{type:Boolean,default:!1},formatter:{type:Function,required:!0},align:{type:String,validator:function(y){return["left","center","right"].includes(y)},default:"right"},span:{type:Number,default:1}},computed:{effective_value(){return this.value},font_color(){return this.colored?this.value>0?"green":this.value<0?"red":"":"black"},show_arrow(){return this.arrow&&this.value!=0},formatted_value(){return this.formatter(this.value)}}},Dr=Object.assign(bv,{__name:"td_value",setup(y){return(s,i)=>($e(),Ve("td",{colspan:y.span,class:"td-value",title:y.tooltip},[y.visible&&y.value?($e(),Ve("div",mv,[M("div",{class:on(["nowrap","flex-container",y.align])},[J(zu,{class:on([s.font_color,{highlighted:y.highlighted},{textColor:s.font_color}]),value:s.effective_value,text:s.formatted_value},null,8,["class","value","text"]),s.show_arrow?($e(),Ve("svg",{key:0,viewBox:"0 0 9 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:on(["arrow-icon",[s.font_color]])},wv,2)):Ot("",!0)],2)])):Ot("",!0)],8,pv))}}),xv={props:{market:{type:String,default:""},symbol:{type:String,default:""},name:{type:String,default:""}},methods:{default_logo_path(y){y.target.src="https://portfoliotech.github.io/investify/static/img/default_logo.png"}},computed:{company_symbol(){return this.symbol=="REALCASH"?"CASH":this.symbol},company_name(){return this.symbol=="REALCASH"?"CASH BALANCE":this.name},logo_path(){return this.symbol=="REALCASH"?"https://portfoliotech.github.io/investify/static/img/cash.png":"https://data.wealthica.com/api/securities/"+this.market.substr(0,2)+":"+this.symbol+"/logo"}}},kv=["title"],Ev={class:"company-data-wraper"},Tv={class:""},Av=["src"],Cv={class:"company-data"},Sv={class:"company-symbol"},Ov={class:"company-name"};function Mv(y,s,i,d,p,l){return $e(),Ve("td",{class:"company-cell",title:l.company_name},[M("div",Ev,[M("div",Tv,[M("img",{src:l.logo_path,onError:s[0]||(s[0]=(...B)=>l.default_logo_path&&l.default_logo_path(...B)),alt:"company_symbol",class:"logo"},null,40,Av)]),M("div",Cv,[M("div",Sv,Kn(l.company_symbol),1),M("div",Ov,Kn(l.company_name),1)])])],8,kv)}const $i=sr(xv,[["render",Mv]]),Iv={props:{institution:{type:String,default:""},name:{type:String,default:""},number:{type:String,default:""},type:{type:String,default:""},currency:{type:String,default:""},show_expand:{type:Boolean,default:!0},expanded:{type:Boolean,default:!0}},emits:["toggle"],methods:{toggle(){this.$emit("toggle")}},computed:{institution_icon(){if(this.institution=="--")switch(this.currency){case"cad":return"https://portfoliotech.github.io/investify/static/img/cad.png";case"usd":return"https://portfoliotech.github.io/investify/static/img/usd.png";default:return"https://portfoliotech.github.io/investify/static/expanded.png"}else return"https://app.wealthica.com/images/institutions/"+this.institution+".png"}}},Fv={class:"account-cell",colspan:"5"},Pv={class:"account-data-wraper"},Rv={class:"account-identifier"},Lv=["src"],Dv={class:"account-name"},Nv={key:0,class:"toggle-arrow"},Wv={class:"account-details"},zv={class:"account-number"},Uv={class:"account-type"};function Bv(y,s,i,d,p,l){return $e(),Ve("td",Fv,[M("div",Pv,[M("div",Rv,[M("div",null,[M("img",{src:l.institution_icon,class:"institution-icon"},null,8,Lv)]),M("div",Dv,Kn(i.name),1),i.show_expand?($e(),Ve("div",Nv,[M("img",{src:"https://app.wealthica.com/img/arrow_down.f6ca09b2.svg",width:"13",height:"8",class:on({expand:i.expanded}),onClick:s[0]||(s[0]=K_((...B)=>l.toggle&&l.toggle(...B),["stop"]))},null,2)])):Ot("",!0)]),M("div",Wv,[M("div",zv,Kn(i.number),1),M("div",Uv,Kn(i.type),1)])])])}const Hi=sr(Iv,[["render",Bv]]),or={number:new Intl.NumberFormat("en-US"),money:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),price:new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}),percent:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2}),xrate:new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}),long_date:new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),long_datetime:new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1})},rn={number(y){return or.number.format(y)},money(y){return or.money.format(y)},money_plus(y){return(y>0?"+":"")+or.money.format(y)},price(y){return or.price.format(y)},percent(y){return or.percent.format(y)},long_date(y){let s=new Date(y);return isNaN(s.getTime())?"Invalid":or.long_date.format(s)},long_datetime(y){let s=new Date(y);return isNaN(s.getTime())?"Invalid":or.long_datetime.format(s)},xrate_cad(y){return`1 USD = ${or.xrate.format(y)} CAD`},tip_daily_change(y,s){return rn.money_plus(y)+" on "+rn.long_datetime(s)},tip_xrate(y,s){return y==="usd"?`1 USD = ${rn.xrate_cad(s)} CAD`:null}},$v={components:{td_value:Dr}},Ae=Object.assign($v,{__name:"td_money",setup(y){return(s,i)=>($e(),Ui(Dr,{formatter:Ht(rn).money,class:"justify-right"},null,8,["formatter"]))}}),Hv={components:{td_value:Dr}},vt=Object.assign(Hv,{__name:"td_percent",setup(y){return(s,i)=>($e(),Ui(Dr,{formatter:Ht(rn).percent,class:"justify-right"},null,8,["formatter"]))}}),qv={key:0,id:"portfolio"},Gv={class:"portfolio"},Jv={id:"tr_accounts_header_1"},Kv=M("th",{colspan:"5"},null,-1),Vv=M("th",{colspan:"7"},null,-1),Yv=M("tr",{id:"tr_accounts_header_2",class:"show-separator-line"},[M("th",{colspan:"5",class:"justify-left"},"Accounts"),M("th",null,"Gain $"),M("th",null,"Gain %"),M("th",null,"Gain $"),M("th",null,"Gain %"),M("th",{colspan:"2"},"CAD"),M("th",{colspan:"2"},"USD"),M("th",{colspan:"2"},"Total CAD"),M("th",null,"Portfolio")],-1),jv={key:0,class:"spacer"},Xv={key:1,id:"holdings_header_1",class:"spacer"},Zv=M("th",null,null,-1),Qv=M("th",null,null,-1),ep=M("th",null,null,-1),tp=M("th",null,null,-1),np={key:2,id:"holdings_header_2",class:"show-separator-line"},rp=M("th",{class:"justify-left"},"Company",-1),ip=M("th",null,null,-1),op=M("th",{class:"justify-center"},"Qty",-1),ap=M("th",null,"Price",-1),sp=M("th",null,"Value",-1),up=M("th",null,"Gain $",-1),lp=M("th",null,"Gain %",-1),cp=M("th",null,"Gain $",-1),fp=M("th",null,"Gain %",-1),dp=M("th",null,"low",-1),hp=M("th",null,"high",-1),gp=M("th",null,"Price",-1),_p=M("th",null,"Value",-1),vp=M("th",null,"Price",-1),pp=M("th",null,"Value",-1),mp=M("th",null,"Weigth",-1),yp=[rp,ip,op,ap,sp,up,lp,cp,fp,dp,hp,gp,_p,vp,pp,mp],wp={id:"holdings",class:"holdings"},bp=M("td",{class:"fill-space"},null,-1),xp={id:"cash",class:"holdings"},kp=M("td",{class:"fill-space"},null,-1),Ep=M("td",{colspan:"10"},null,-1),Tp=M("td",null,null,-1),Ap={key:5,id:"holdings_totals",class:"show-total-line"},Cp=M("td",{colspan:"4",class:"justify-left"},"Total",-1),Sp=M("td",null,null,-1),Op=M("td",null,null,-1),Mp=M("td",null,null,-1),Ip=M("td",null,null,-1),Fp={key:1,id:"accounts_footer_spacing",class:"accounts-footer"},Pp=M("td",{colspan:"16"},null,-1),Rp=[Pp],Lp={id:"portfolio_totals",class:"show-total-line"},Dp=M("td",{colspan:"5",class:"justify-left"},"Total",-1),Np={key:1,id:"footer"},Wp=M("div",{style:{height:"20px"}},null,-1),zp={style:{display:"flex","justify-content":"space-between"}},Up=["title"],Bp={inject:["data_store"],data(){return{accounts:null,totals:null,holdings:null,x_usd:null}},created(){this.load_data()},methods:{load_data(){Promise.all([this.data_store.load(Kt.accounts),this.data_store.load(Kt.holdings),this.data_store.load(Kt.totals),this.data_store.load(Kt.x_usd)]).then(()=>{this.accounts=this.data_store[Kt.accounts],this.holdings=this.data_store[Kt.holdings],this.totals=this.data_store[Kt.totals],this.x_usd=this.data_store[Kt.x_usd]})},refresh_all(){this.data_store.clear_data(Object.keys(Kt))},refresh_stock_prices(){this.data_store.refresh_stock_prices()},get_account_totals(y){return console.log("totals account_number",y),console.log("totals holdings",this.holdings.totals),console.log("totals account",y,this.holdings.totals[y]),this.holdings.totals[y].gain_daily_amount}},computed:{currency_info(){if(this.x_usd){let y=this.x_usd.id.toUpperCase(),s=(1/this.x_usd.rate).toFixed(4),i=this.x_usd.rate.toFixed(4);return`1 ${y} = ${s} CAD, 1 CAD = ${i} ${y}`}else return"undefined"},currency_date(){return this.x_usd?rn.long_datetime(this.x_usd.date):"undefined"}}},Au=Object.assign(Bp,{__name:"portfolio",setup(y){return(s,i)=>($e(),Ve(Cn,null,[s.accounts&&s.accounts.length?($e(),Ve("div",qv,[M("table",Gv,[M("thead",null,[M("tr",Jv,[Kv,J(Xt,{group_name:"Daily CAD"}),J(Xt,{group_name:"Overall CAD"}),Vv]),Yv]),s.accounts?($e(!0),Ve(Cn,{key:0},ar(s.accounts,d=>($e(),Ve("tbody",{key:d.account_number},[M("tr",{id:"accounts",class:on(["accounts",[{expanded:d.expanded}]])},[J(Hi,{institution:d.institution.type,name:d.name,number:d.number,type:d.type,show_expand:!d.no_holdings,expanded:d.expanded,onToggle:p=>d.expanded=!d.expanded},null,8,["institution","name","number","type","show_expand","expanded","onToggle"]),J(Ae,{value:s.totals[d.number].gain_daily_amount,highlighted:!0},null,8,["value"]),J(vt,{value:s.totals[d.number].gain_daily_percent,arrow:!0},null,8,["value"]),J(Ae,{value:s.totals[d.number].gain_overall_amount,highlighted:!0},null,8,["value"]),J(vt,{value:s.totals[d.number].gain_overall_percent,arrow:!0},null,8,["value"]),J(Ae,{span:2,value:s.totals[d.number].market_value_CAD,colored:!1},null,8,["value"]),J(Ae,{span:2,value:s.totals[d.number].market_value_USD,colored:!1},null,8,["value"]),J(Ae,{span:2,value:s.totals[d.number].market_total_CAD},null,8,["value"]),J(vt,{value:s.totals[d.number].weight,colored:!1},null,8,["value"])],2),d.expanded&&d.subaccounts&&d.subaccounts.length?($e(!0),Ve(Cn,{key:0},ar(d.subaccounts,p=>($e(),Ve(Cn,{key:p.id},[M("tr",{id:"subaccounts",class:on(["subaccounts",[{expanded:p.expanded}]])},[J(Hi,{institution:"--",name:p.name,currency:p.currency,expanded:p.expanded,onToggle:l=>p.expanded=!p.expanded},null,8,["name","currency","expanded","onToggle"]),J(Ae,{value:s.totals[d.number][p.id].gain_daily_amount,highlighted:!0,visible:!p.expanded},null,8,["value","visible"]),J(vt,{value:s.totals[d.number][p.id].gain_daily_percent,arrow:!0,visible:!p.expanded},null,8,["value","visible"]),J(Ae,{value:s.totals[d.number][p.id].gain_overall_amount,highlighted:!0,visible:!p.expanded},null,8,["value","visible"]),J(vt,{value:s.totals[d.number][p.id].gain_overall_percent,arrow:!0,visible:!p.expanded},null,8,["value","visible"]),J(Ae,{span:2,value:s.totals[d.number][p.id].market_value_CAD,colored:!1,visible:!p.expanded},null,8,["value","visible"]),J(Ae,{span:2,value:s.totals[d.number][p.id].market_value_USD,colored:!1,visible:!p.expanded},null,8,["value","visible"]),J(Ae,{span:2,value:s.totals[d.number][p.id].market_total_CAD,visible:!p.expanded},null,8,["value","visible"]),J(vt,{value:s.totals[d.number][p.id].weight_account,colored:!1,visible:!p.expanded},null,8,["value","visible"])],2),p.expanded?($e(),Ve("tr",jv)):Ot("",!0),p.expanded?($e(),Ve("tr",Xv,[Zv,Qv,ep,J(Xt,{group_name:"Book"}),J(Xt,{group_name:"Daily"}),J(Xt,{group_name:"Overall"}),J(Xt,{group_name:"52 weeks"}),J(Xt,{group_name:"Market"}),J(Xt,{group_name:"Market CAD"}),tp])):Ot("",!0),p.expanded?($e(),Ve("tr",np,yp)):Ot("",!0),p.expanded?($e(!0),Ve(Cn,{key:3},ar(s.holdings.filter(l=>l.subaccount_id==p.id&&!l.cash),l=>($e(),Ve("tr",wp,[J($i,{market:l.market,symbol:l.symbol,name:l.name},null,8,["market","symbol","name"]),bp,J(Dr,{value:l.quantity,formatter:Ht(rn).number,align:"center",colored:!1},null,8,["value","formatter"]),J(Ae,{value:l.values.book_price,colored:!1,tooltip:Ht(rn).price(l.values.book_price)},null,8,["value","tooltip"]),J(Ae,{value:l.values.book_value,colored:!1},null,8,["value"]),J(Ae,{value:l.values.gain_daily_amount,highlighted:!0,tooltip:Ht(rn).tip_daily_change(l.values.daily_change,l.values.market_date)},null,8,["value","tooltip"]),J(vt,{value:l.values.gain_daily_percent,arrow:!0,tooltip:Ht(rn).tip_daily_change(l.values.daily_change,l.values.market_date)},null,8,["value","tooltip"]),J(Ae,{value:l.values.gain_overall_amount,highlighted:!0},null,8,["value"]),J(vt,{value:l.values.gain_overall_percent,arrow:!0},null,8,["value"]),J(Ae,{value:l.history.low.value,colored:!1,tooltip:Ht(rn).long_date(l.history.low.date)},null,8,["value","tooltip"]),J(Ae,{value:l.history.high.value,colored:!1,tooltip:Ht(rn).long_date(l.history.high.date)},null,8,["value","tooltip"]),J(Ae,{value:l.values.market_price,colored:!1,tooltip:Ht(rn).long_datetime(l.values.market_date)},null,8,["value","tooltip"]),J(Ae,{value:l.values.market_value,colored:!1},null,8,["value"]),J(Ae,{value:l.values.market_price_CAD,tooltip:Ht(rn).tip_xrate(l.currency,l.xrate)},null,8,["value","tooltip"]),J(Ae,{value:l.values.market_value_CAD,tooltip:Ht(rn).tip_xrate(l.currency,l.xrate)},null,8,["value","tooltip"]),J(vt,{value:l.values.weight_account,colored:!1},null,8,["value"])]))),256)):Ot("",!0),p.expanded?($e(!0),Ve(Cn,{key:4},ar(s.holdings.filter(l=>l.subaccount_id==p.id&&l.cash),l=>($e(),Ve("tr",xp,[J($i,{market:l.market,symbol:l.symbol,name:l.name},null,8,["market","symbol","name"]),kp,Ep,J(Ae,{value:l.values.market_value,colored:!1},null,8,["value"]),Tp,J(Ae,{value:l.values.market_value_CAD},null,8,["value"]),J(vt,{value:l.values.weight_account,colored:!1},null,8,["value"])]))),256)):Ot("",!0),p.expanded?($e(),Ve("tr",Ap,[Cp,J(Ae,{value:s.totals[d.number][p.id].book_value,colored:!1},null,8,["value"]),J(Ae,{value:s.totals[d.number][p.id].gain_daily_amount,highlighted:!0},null,8,["value"]),J(vt,{value:s.totals[d.number][p.id].gain_daily_percent,arrow:!0},null,8,["value"]),J(Ae,{value:s.totals[d.number][p.id].gain_overall_amount,highlighted:!0},null,8,["value"]),J(vt,{value:s.totals[d.number][p.id].gain_overall_percent,arrow:!0},null,8,["value"]),Sp,Op,Mp,J(Ae,{value:s.totals[d.number][p.id].market_value,colored:!1},null,8,["value"]),Ip,J(Ae,{value:s.totals[d.number][p.id].market_total_CAD},null,8,["value"]),J(vt,{value:s.totals[d.number][p.id].weight_account,colored:!1},null,8,["value"])])):Ot("",!0)],64))),128)):Ot("",!0),d.expanded?($e(),Ve("tr",Fp,Rp)):Ot("",!0)]))),128)):Ot("",!0),M("tfoot",null,[M("tr",Lp,[Dp,J(Ae,{value:s.totals.all.gain_daily_amount,highlighted:!0},null,8,["value"]),J(vt,{value:s.totals.all.gain_daily_percent,arrow:!0},null,8,["value"]),J(Ae,{value:s.totals.all.gain_overall_amount,highlighted:!0},null,8,["value"]),J(vt,{value:s.totals.all.gain_overall_percent,arrow:!0},null,8,["value"]),J(Ae,{span:2,value:s.totals.all.market_value_CAD,colored:!1},null,8,["value"]),J(Ae,{span:2,value:s.totals.all.market_value_USD,colored:!1},null,8,["value"]),J(Ae,{span:2,value:s.totals.all.market_total_CAD},null,8,["value"]),J(vt,{value:s.totals.all.weight,colored:!1},null,8,["value"])])])])])):Ot("",!0),s.x_usd?($e(),Ve("div",Np,[Wp,M("div",zp,[s.x_usd?($e(),Ve("div",{key:0,class:"x-rate-info",title:s.currency_date},Kn(s.currency_info),9,Up)):Ot("",!0),M("div",null,[M("button",{onClick:i[0]||(i[0]=(...d)=>s.refresh_all&&s.refresh_all(...d))},"Refresh All"),V_("  "),M("button",{onClick:i[1]||(i[1]=(...d)=>s.refresh_stock_prices&&s.refresh_stock_prices(...d))},"Refresh Prices")])])])):Ot("",!0)],64))}});function yr(y,s){if(y==0)return"";switch(s){case"number":return new Intl.NumberFormat("en-US").format(y);case"money":return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(y);case"money+":return(y>0?"+":"")+new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(y);case"price":return new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}).format(y);case"percent":return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2}).format(y);case"x_rate_CAD":return"1 USD = "+new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}).format(y)+" CAD";case"long_date":let i=new Date(y);return isNaN(i.getTime())?"Invalid":new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(i);case"long_date_hour":let d=new Date(y);return new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).format(d);default:return"Invalid"}}function Cu(y){return yr(y,"long_date")}function $p(y){return yr(y,"long_date_hour")}function Su(y,s){return yr(y,"money+")+" on "+yr(s,"long_date_hour")}function Ou(y,s){return y=="usd"?yr(s,"x_rate_CAD"):null}function Hp(y){return yr(y,"price")}const qp={key:0,id:"wallet"},Gp={class:"wallet"},Jp={id:"tr_accounts_header_1"},Kp=M("th",{colspan:"5"},null,-1),Vp=M("th",{colspan:"7"},null,-1),Yp=M("tr",{id:"tr_accounts_header_2",class:"show-separator-line"},[M("th",{colspan:"5",class:"justify-left"},"Accounts"),M("th",null,"Gain $"),M("th",null,"Gain %"),M("th",null,"Gain $"),M("th",null,"Gain %"),M("th",{colspan:"2"},"CAD"),M("th",{colspan:"2"},"USD"),M("th",{colspan:"2"},"Total CAD"),M("th",null,"Portfolio")],-1),jp={key:0,class:"spacer"},Xp={key:1,id:"holdings_header_1",class:"spacer"},Zp=M("th",null,null,-1),Qp=M("th",null,null,-1),em=M("th",null,null,-1),tm=M("th",null,null,-1),nm={key:2,id:"holdings_header_2",class:"show-separator-line"},rm=M("th",{class:"justify-left"},"Company",-1),im=M("th",null,null,-1),om=M("th",{class:"justify-center"},"Qty",-1),am=M("th",null,"Price",-1),sm=M("th",null,"Value",-1),um=M("th",null,"Gain $",-1),lm=M("th",null,"Gain %",-1),cm=M("th",null,"Gain $",-1),fm=M("th",null,"Gain %",-1),dm=M("th",null,"low",-1),hm=M("th",null,"high",-1),gm=M("th",null,"Price",-1),_m=M("th",null,"Value",-1),vm=M("th",null,"Price",-1),pm=M("th",null,"Value",-1),mm=M("th",null,"Weigth",-1),ym=[rm,im,om,am,sm,um,lm,cm,fm,dm,hm,gm,_m,vm,pm,mm],wm={id:"holdings",class:"holdings"},bm=M("td",{class:"fill-space"},null,-1),xm={id:"cash",class:"holdings"},km=M("td",{class:"fill-space"},null,-1),Em=M("td",{colspan:"10"},null,-1),Tm=M("td",null,null,-1),Am={key:5,id:"holdings_totals",class:"show-total-line"},Cm=M("td",{colspan:"4",class:"justify-left"},"Total",-1),Sm=M("td",null,null,-1),Om=M("td",null,null,-1),Mm=M("td",null,null,-1),Im=M("td",null,null,-1),Fm={key:1,id:"accounts_footer_spacing",class:"accounts-footer"},Pm=M("td",{colspan:"16"},null,-1),Rm=[Pm],Lm={id:"wallet_totals",class:"show-total-line"},Dm=M("td",{colspan:"5",class:"justify-left"},"Total",-1),Nm={id:"footer"},Wm=M("div",{style:{height:"20px"}},null,-1),zm={style:{display:"flex","justify-content":"space-between"}},Um=["title"],Bm={inject:["data_store"],data(){return{data:{user:[],currencies:[],institutions:[],positions:[],holdings:[],streams:[]},wallet:{user:[],xcurrency:null,accounts:[],values:{daily_gain_amount:0,daily_gain_percent:0,period_gain_amount:0,period_gain_percent:0,overall_gain_amount:0,overall_gain_percent:0,market_value_CAD:0,market_value_USD:0,market_value_totalCAD:0,weight:0}}}},created(){this.fetch_data().then(()=>{this.extract_data()})},methods:{fetch_data(){return Promise.all([this.fetch_user(),this.fetch_currencies(),this.fetch_institutions(),this.fetch_positions()])},fetch_user(){return this.data_store.wealthica.addon.api.getUser().then(y=>{this.data.user=y}).catch(y=>{throw console.error("Error fetching user:",y),y})},fetch_currencies(){return this.data_store.wealthica.addon.request({method:"GET",endpoint:"currencies"}).then(y=>{this.data.currencies=y}).catch(y=>{throw console.error("Error fetching currencies:",y),y})},fetch_institutions(){return this.data_store.wealthica.addon.api.getInstitutions(this.get_query_from_options(this.data_store.wealthica.addon.options)).then(y=>{this.data.institutions=y}).catch(y=>{throw console.error("Error fetching institutions:",y),y})},fetch_positions(){return this.data_store.wealthica.addon.api.getPositions(this.get_query_from_options(this.data_store.wealthica.addon.options)).then(y=>{this.data.positions=y}).catch(y=>{throw console.error("Error fetching positions:",y),y})},fetch_historical_data(y){try{return this.data_store.wealthica.addon.request({method:"GET",endpoint:`securities/${y}/history`})}catch(s){console.error("Error fetching position historical data:",s)}},fetch_stock_prices(y){const s="https://data.wealthica.com/api/streams",i={user:this.wallet.user.email,symbols:y};return fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then(d=>d.json()).catch(d=>{console.log("Error fetching stock pices:",d)})},get_query_from_options(y){return{from:y.dateRangeFilter&&y.dateRangeFilter[0],to:y.dateRangeFilter&&y.dateRangeFilter[1],groups:y.groupsFilter,institutions:y.institutionsFilter,investments:y.investmentsFilter==="all"?null:y.investmentsFilter}},extract_data(){this.extract_user(),this.extract_xcurrency(),this.extract_holdings().then(()=>{this.extract_accounts(),this.refresh_wallet()})},extract_user(){this.wallet.user=this.data.user},extract_xcurrency(){let y=this.data.currencies.find(s=>s._id==="usd");this.wallet.xcurrency=y?{id:y._id,rate:y.exchange_rate,date:y.update_date}:null},extract_holdings(){const y=[];return this.data.positions.forEach(s=>{s.investments.forEach(i=>{const d=this.fetch_historical_data(s.security._id).then(p=>{this.data.holdings.push({account_number:i.investment.split(":")[0],subaccount_id:i.investment,market:i.currency.substring(0,2).toUpperCase(),symbol:s.security.symbol,symbol_mrkt:i.currency.substring(0,2).toUpperCase()+":"+s.security.symbol,name:s.security.name,currency:i.currency,x_rate:i.currency==="usd"?1/this.wallet.xcurrency.rate:1,quantity:i.quantity,cash:s.security.symbol=="REALCASH",history:p,values:{low_price:s.security.low_price,low_date:s.security.low_date,high_price:s.security.high_price,high_date:s.security.high_date,book_price:i.book_value/i.quantity,book_value:i.book_value,daily_change:0,daily_date:s.security.last_date,daily_gain_amount:0,daily_gain_percent:0,period_gain_amount:0,period_gain_percent:0,overall_gain_amount:i.quantity*s.security.last_price-i.book_value,overall_gain_percent:(i.quantity*s.security.last_price-i.book_value)/i.book_value,close_price:s.security.last_price,close_date:s.security.last_date,market_price:s.security.last_price,market_date:s.security.last_date,market_value:i.quantity*s.security.last_price,market_price_CAD:s.security.last_price*(i.currency==="usd"?1/this.wallet.xcurrency.rate:1),market_value_CAD:i.quantity*s.security.last_price*(i.currency==="usd"?1/this.wallet.xcurrency.rate:1)}})});y.push(d)})}),Promise.all(y)},extract_accounts(){this.data.institutions.forEach(y=>{const s=new Map;y.investments.forEach(i=>{const d=this.get_account_number(i);if(!i.ignored&&!Du(d)){let p=s.get(d);p==null&&(p={institution:{name:y.name,type:y.type},number:d,name:i.name,type:Lu(i.type),order:Nu(d),no_holdings:Wu(d),expanded:!1,subaccounts:[],values:{close_amount:0,daily_gain_amount:0,period_gain_amount:0,overall_gain_amount:0,market_value:0,market_value_CAD:0,market_value_USD:0,market_value_totalCAD:0,subaccounts_weights:0,account_weights:0}}),p.no_holdings&&(p.values.market_value_CAD=i.currency!="usd"?i.currency_value:0,p.values.market_value_USD=i.currency=="usd"?i.currency_value:0,p.values.market_value_totalCAD=i.value),p.subaccounts.push({id:i._id,name:i.name,currency:i.currency,expanded:!0,holdings:this.data.holdings.filter(l=>l.subaccount_id===i._id),values:{book_value:0,daily_gain_amount:0,daily_gain_percent:0,period_gain_amoumt:0,period_gain_percent:0,overall_gain_amount:0,overall_gain_percent:0,market_value_CAD:0,market_value_USD:0,market_value_totalCAD:0,holding_weights:0,weight:0}}),s.set(d,p)}}),this.wallet.accounts.push(...Array.from(s.values()))}),this.wallet.accounts.sort((y,s)=>y.order-s.order)},refresh_wallet(){this.update_stock_prices().then(()=>{this.calc_holdings_weigths(),this.calc_subaccounts_totals(),this.calc_accounts_totals(),this.calc_accounts_weigths(),this.calc_wallet_totals(),this.log_data()})},update_stock_prices(){return new Promise((y,s)=>{let i=this.wallet.accounts.flatMap(d=>d.subaccounts.flatMap(p=>p.holdings.map(l=>l.symbol_mrkt)));i&&i.length>0?this.fetch_stock_prices(i).then(d=>{this.data.streams=d;let p=Object.fromEntries(this.data.streams.securities.map(l=>[`${l.market}:${l.symbol.split(":")[1]}`,l]));this.wallet.accounts.forEach(l=>l.subaccounts.forEach(B=>B.holdings.forEach(D=>{let j=p[D.symbol_mrkt];j&&(D.values.close_price=j.price-j.change,D.values.close_amount=D.quantity*(j.price-j.change),D.values.daily_change=j.change,D.values.daily_date=j.update_date,D.values.daily_gain_amount=D.quantity*j.change,D.values.daily_gain_percent=D.values.close_price/(D.values.close_price-j.change)-1,D.values.period_gain_amount=0,D.values.period_gain_percent=0,D.values.overall_gain_amount=D.quantity*j.price-D.values.book_value,D.values.overall_gain_percent=(D.quantity*j.price-D.values.book_value)/D.values.book_value,D.values.market_price=j.price,D.values.market_value=D.quantity*j.price,D.values.market_date=j.quote_date,D.values.market_price_CAD=j.price*(D.currency==="usd"?1/this.wallet.xcurrency.rate:1),D.values.market_value_CAD=D.quantity*j.price*(D.currency==="usd"?1/this.wallet.xcurrency.rate:1))}))),y()}).catch(d=>{console.log("Error updating stock prices:",d),s(d)}):(console.log("Warning: no stocks to update."),y())})},calc_holdings_weigths(){this.wallet.accounts.forEach(y=>{let s=y.subaccounts.flatMap(i=>i.holdings).reduce((i,d)=>i+d.values.market_value,0);y.subaccounts.forEach(i=>{i.holdings.forEach(d=>{d.values.weight=d.values.market_value/s}),i.holdings.sort((d,p)=>p.values.weight-d.values.weight)})})},calc_subaccounts_totals(){this.wallet.accounts.forEach(y=>{y.subaccounts.forEach(s=>{let i=s.holdings.reduce((d,p)=>(p.symbol!="REALCASH"&&(d.book_value+=p.values.book_value,d.close_amount+=p.values.close_amount,d.daily_gain_amount+=p.values.daily_gain_amount,d.period_gain_amount+=p.values.period_gain_amount,d.overall_gain_amount+=p.values.overall_gain_amount),d.market_value+=p.values.market_value,d.market_value_CAD+=s.currency!="usd"?p.values.market_value:0,d.market_value_USD+=s.currency=="usd"?p.values.market_value:0,d.market_value_totalCAD+=p.values.market_value_CAD,d.holding_weights+=p.values.weight,d.weight+=p.values.weight,d),{book_value:0,close_amount:0,daily_gain_amount:0,period_gain_amount:0,overall_gain_amount:0,market_value:0,market_value_CAD:0,market_value_USD:0,market_value_totalCAD:0,holding_weights:0,weight:0});i.daily_gain_percent=i.market_value/(i.market_value-i.daily_gain_amount)-1,i.overall_gain_percent=i.market_value/(i.market_value-i.overall_gain_amount)-1,Object.assign(s.values,i)})})},calc_subaccouts_weigths(){this.wallet.accounts.forEach(y=>{let s=y.subaccounts.reduce((i,d)=>i+d.values.market_value_totalCAD,0);y.subaccounts.forEach(i=>{i.values.weight=i.values.market_value_totalCAD/s})})},calc_accounts_totals(){this.wallet.accounts.forEach(y=>{if(!y.no_holdings){let s=y.subaccounts.reduce((i,d)=>(i.book_value+=d.values.book_value,i.close_amount+=d.values.close_amount,i.daily_gain_amount+=d.values.daily_gain_amount,i.period_gain_amount+=d.values.period_gain_amount,i.overall_gain_amount+=d.values.overall_gain_amount,i.market_value+=d.values.market_value,i.market_value_CAD+=d.currency!="usd"?d.values.market_value:0,i.market_value_USD+=d.currency=="usd"?d.values.market_value:0,i.market_value_totalCAD+=d.values.market_value_totalCAD,i.subaccounts_weights+=d.values.weight,i),{book_value:0,close_amount:0,daily_gain_amount:0,period_gain_amount:0,overall_gain_amount:0,market_value:0,market_value_CAD:0,market_value_USD:0,market_value_totalCAD:0,subaccounts_weights:0});s.daily_gain_percent=s.market_value/(s.market_value-s.daily_gain_amount)-1,s.overall_gain_percent=s.market_value/(s.market_value-s.overall_gain_amount)-1,Object.assign(y.values,s)}})},calc_accounts_weigths(){let y=this.wallet.accounts.reduce((s,i)=>s+i.values.market_value_totalCAD,0);this.wallet.accounts.forEach(s=>{s.values.weight=s.values.market_value_totalCAD/y})},calc_wallet_totals(){let y=this.wallet.accounts.reduce((s,i)=>(s.book_value+=i.values.book_value,s.close_amount+=i.values.close_amount,s.daily_gain_amount+=i.values.daily_gain_amount,s.period_gain_amount+=i.values.period_gain_amount,s.overall_gain_amount+=i.values.overall_gain_amount,s.market_value+=i.values.market_value,s.market_value_CAD+=i.values.market_value_CAD,s.market_value_USD+=i.values.market_value_USD,s.market_value_totalCAD+=i.values.market_value_totalCAD,s.account_weights+=i.values.weight,s),{book_value:0,close_amount:0,daily_gain_amount:0,period_gain_amount:0,overall_gain_amount:0,market_value:0,market_value_CAD:0,market_value_USD:0,market_value_totalCAD:0,account_weights:0});y.daily_gain_percent=y.market_value/(y.market_value-y.daily_gain_amount)-1,y.overall_gain_percent=y.market_value/(y.market_value-y.overall_gain_amount)-1,Object.assign(this.wallet.values,y)},get_account_number(y){return y.account_number?y.account_number:y.id},log_data(){}},computed:{xcurrency_info(){if(this.wallet.xcurrency){let y=this.wallet.xcurrency.id.toUpperCase(),s=(1/this.wallet.xcurrency.rate).toFixed(4),i=this.wallet.xcurrency.rate.toFixed(4);return`1 ${y} = ${s} CAD, 1 CAD = ${i} ${y}`}else return"undefined"},xcurrency_date(){return this.wallet.xcurrency?yr(this.wallet.xcurrency.date,"long_date_hour"):"undefined"}}},Mu=Object.assign(Bm,{__name:"portfolio_old",setup(y){return(s,i)=>($e(),Ve(Cn,null,[s.wallet.accounts&&s.wallet.accounts.length?($e(),Ve("div",qp,[M("table",Gp,[M("thead",null,[M("tr",Jp,[Kp,J(Xt,{group_name:"Daily CAD"}),J(Xt,{group_name:"Overall CAD"}),Vp]),Yp]),($e(!0),Ve(Cn,null,ar(s.wallet.accounts,d=>($e(),Ve("tbody",{key:d.account_number},[M("tr",{id:"accounts",class:on(["accounts",[{expanded:d.expanded}]])},[J(Hi,{institution:d.institution.type,name:d.name,number:d.number,type:d.type,show_expand:!d.no_holdings,expanded:d.expanded,onToggle:p=>d.expanded=!d.expanded},null,8,["institution","name","number","type","show_expand","expanded","onToggle"]),J(Ae,{value:d.values.daily_gain_amount,highlighted:!0},null,8,["value"]),J(vt,{value:d.values.daily_gain_percent,arrow:!0},null,8,["value"]),J(Ae,{value:d.values.overall_gain_amount,highlighted:!0},null,8,["value"]),J(vt,{value:d.values.overall_gain_percent,arrow:!0},null,8,["value"]),J(Ae,{span:2,value:d.values.market_value_CAD,colored:!1},null,8,["value"]),J(Ae,{span:2,value:d.values.market_value_USD,colored:!1},null,8,["value"]),J(Ae,{span:2,value:d.values.market_value_totalCAD},null,8,["value"]),J(vt,{value:d.values.weight,colored:!1},null,8,["value"])],2),d.expanded&&d.subaccounts&&d.subaccounts.length?($e(!0),Ve(Cn,{key:0},ar(d.subaccounts,p=>($e(),Ve(Cn,{key:p.id},[M("tr",{id:"subaccounts",class:on(["subaccounts",[{expanded:p.expanded}]])},[J(Hi,{institution:"--",name:p.name,currency:p.currency,expanded:p.expanded,onToggle:l=>p.expanded=!p.expanded},null,8,["name","currency","expanded","onToggle"]),J(Ae,{value:p.values.daily_gain_amount,highlighted:!0,visible:!p.expanded},null,8,["value","visible"]),J(vt,{value:p.values.daily_gain_percent,arrow:!0,visible:!p.expanded},null,8,["value","visible"]),J(Ae,{value:p.values.overall_gain_amount,highlighted:!0,visible:!p.expanded},null,8,["value","visible"]),J(vt,{value:p.values.overall_gain_percent,arrow:!0,visible:!p.expanded},null,8,["value","visible"]),J(Ae,{span:2,value:p.values.market_value_CAD,colored:!1,visible:!p.expanded},null,8,["value","visible"]),J(Ae,{span:2,value:p.values.market_value_USD,colored:!1,visible:!p.expanded},null,8,["value","visible"]),J(Ae,{span:2,value:p.values.market_value_totalCAD,visible:!p.expanded},null,8,["value","visible"]),J(vt,{value:p.values.weight,colored:!1,visible:!p.expanded},null,8,["value","visible"])],2),p.expanded?($e(),Ve("tr",jp)):Ot("",!0),p.expanded?($e(),Ve("tr",Xp,[Zp,Qp,em,J(Xt,{group_name:"Book"}),J(Xt,{group_name:"Daily"}),J(Xt,{group_name:"Overall"}),J(Xt,{group_name:"52 weeks"}),J(Xt,{group_name:"Market"}),J(Xt,{group_name:"Market CAD"}),tm])):Ot("",!0),p.expanded?($e(),Ve("tr",nm,ym)):Ot("",!0),p.expanded?($e(!0),Ve(Cn,{key:3},ar(p.holdings.filter(l=>!l.cash),l=>($e(),Ve("tr",wm,[J($i,{market:l.market,symbol:l.symbol,name:l.name},null,8,["market","symbol","name"]),bm,J(Dr,{value:l.quantity,align:"center",colored:!1},null,8,["value"]),J(Ae,{value:l.values.book_price,colored:!1,tooltip:Ht(Hp)(l.values.book_price)},null,8,["value","tooltip"]),J(Ae,{value:l.values.book_value,colored:!1},null,8,["value"]),J(Ae,{value:l.values.daily_gain_amount,highlighted:!0,tooltip:Ht(Su)(l.values.daily_change,l.values.market_date)},null,8,["value","tooltip"]),J(vt,{value:l.values.daily_gain_percent,arrow:!0,tooltip:Ht(Su)(l.values.daily_change,l.values.market_date)},null,8,["value","tooltip"]),J(Ae,{value:l.values.overall_gain_amount,highlighted:!0},null,8,["value"]),J(vt,{value:l.values.overall_gain_percent,arrow:!0},null,8,["value"]),J(Ae,{value:l.history.low.value,colored:!1,tooltip:Ht(Cu)(l.history.low.date)},null,8,["value","tooltip"]),J(Ae,{value:l.history.high.value,colored:!1,tooltip:Ht(Cu)(l.history.high.date)},null,8,["value","tooltip"]),J(Ae,{value:l.values.market_price,colored:!1,tooltip:Ht($p)(l.values.market_date)},null,8,["value","tooltip"]),J(Ae,{value:l.values.market_value,colored:!1},null,8,["value"]),J(Ae,{value:l.values.market_price_CAD,tooltip:Ht(Ou)(l.currency,l.x_rate)},null,8,["value","tooltip"]),J(Ae,{value:l.values.market_value_CAD,tooltip:Ht(Ou)(l.currency,l.x_rate)},null,8,["value","tooltip"]),J(vt,{value:l.values.weight,colored:!1},null,8,["value"])]))),256)):Ot("",!0),p.expanded?($e(!0),Ve(Cn,{key:4},ar(p.holdings.filter(l=>l.cash),l=>($e(),Ve("tr",xm,[J($i,{market:l.market,symbol:l.symbol,name:l.name},null,8,["market","symbol","name"]),km,Em,J(Ae,{value:l.values.market_value,colored:!1},null,8,["value"]),Tm,J(Ae,{value:l.values.market_value_CAD},null,8,["value"]),J(vt,{value:l.values.weight,colored:!1},null,8,["value"])]))),256)):Ot("",!0),p.expanded?($e(),Ve("tr",Am,[Cm,J(Ae,{value:p.values.book_value,colored:!1},null,8,["value"]),J(Ae,{value:p.values.daily_gain_amount,highlighted:!0},null,8,["value"]),J(vt,{value:p.values.daily_gain_percent,arrow:!0},null,8,["value"]),J(Ae,{value:p.values.overall_gain_amount,highlighted:!0},null,8,["value"]),J(vt,{value:p.values.overall_gain_percent,arrow:!0},null,8,["value"]),Sm,Om,Mm,J(Ae,{value:p.values.market_value,colored:!1},null,8,["value"]),Im,J(Ae,{value:p.values.market_value_totalCAD},null,8,["value"]),J(vt,{value:p.values.holding_weights,colored:!1},null,8,["value"])])):Ot("",!0)],64))),128)):Ot("",!0),d.expanded?($e(),Ve("tr",Fm,Rm)):Ot("",!0)]))),128)),M("tfoot",null,[M("tr",Lm,[Dm,J(Ae,{value:s.wallet.values.daily_gain_amount,highlighted:!0},null,8,["value"]),J(vt,{value:s.wallet.values.daily_gain_percent,arrow:!0},null,8,["value"]),J(Ae,{value:s.wallet.values.overall_gain_amount,highlighted:!0},null,8,["value"]),J(vt,{value:s.wallet.values.overall_gain_percent,arrow:!0},null,8,["value"]),J(Ae,{span:2,value:s.wallet.values.market_value_CAD,colored:!1},null,8,["value"]),J(Ae,{span:2,value:s.wallet.values.market_value_USD,colored:!1},null,8,["value"]),J(Ae,{span:2,value:s.wallet.values.market_value_totalCAD},null,8,["value"]),J(vt,{value:s.wallet.values.account_weights,colored:!1},null,8,["value"])])])])])):Ot("",!0),M("div",Nm,[Wm,M("div",zm,[s.wallet.xcurrency?($e(),Ve("div",{key:0,class:"x-rate-info",title:s.xcurrency_date},Kn(s.xcurrency_info),9,Um)):Ot("",!0),M("button",{onClick:i[0]||(i[0]=(...d)=>s.refresh_wallet&&s.refresh_wallet(...d))},"Refresh")])])],64))}}),$m={name:"tab_performance"},Hm={class:"tab-container"},qm=M("div",{class:"tab-logo-container"},[M("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-performance-icon.png",alt:"Under Construction",class:"tab-logo-centered"})],-1),Gm=[qm];function Jm(y,s,i,d,p,l){return $e(),Ve("div",Hm,Gm)}const Iu=sr($m,[["render",Jm]]),Km={name:"tab_wealth"},Vm={class:"tab-container"},Ym=M("div",{class:"tab-logo-container"},[M("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-wealth-icon.png",alt:"Under Construction",class:"tab-logo-centered"})],-1),jm=[Ym];function Xm(y,s,i,d,p,l){return $e(),Ve("div",Vm,jm)}const Fu=sr(Km,[["render",Xm]]),Zm={name:"tab_transactions"},Qm={class:"tab-container"},ey=M("div",{class:"tab-logo-container"},[M("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-transactions-icon.png",alt:"Under Construction",class:"tab-logo-centered"})],-1),ty=[ey];function ny(y,s,i,d,p,l){return $e(),Ve("div",Qm,ty)}const Pu=sr(Zm,[["render",ny]]),ry={class:"tabs-container"},iy=M("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-dashboard-icon.png",alt:"",class:"tab-img"},null,-1),oy=M("span",null,"Dashboard",-1),ay=[iy,oy],sy=M("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-portfolio-icon.png",alt:"",class:"tab-img"},null,-1),uy=M("span",null,"Portfolio",-1),ly=[sy,uy],cy=M("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-portfolio-icon.png",alt:"",class:"tab-img"},null,-1),fy=M("span",null,"Portfolio (old)",-1),dy=[cy,fy],hy=M("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-performance-icon.png",alt:"",class:"tab-img"},null,-1),gy=M("span",null,"Performance",-1),_y=[hy,gy],vy=M("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-wealth-icon.png",alt:"",class:"tab-img"},null,-1),py=M("span",null,"Wealth",-1),my=[vy,py],yy=M("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-transactions-icon.png",alt:"",class:"tab-img"},null,-1),wy=M("span",null,"Transactions",-1),by=[yy,wy],xy=M("div",{class:"top-space"},null,-1),ky={name:"App",provide(){return{data_store:new nv}},components:{Dashboard:Tu,Portfolio:Au,Portfolio_old:Mu,Performance:Iu,Wealth:Fu,Transactions:Pu},data(){return{active_tab:"Portfolio",tabs:{Dashboard:Rr(Tu),Portfolio:Rr(Au),Portfolio_old:Rr(Mu),Performance:Rr(Iu),Wealth:Rr(Fu),Transactions:Rr(Pu)}}},created(){},computed:{get_active_tab(){return this.tabs[this.active_tab]}}},Ay=Object.assign(ky,{setup(y){return(s,i)=>($e(),Ve("div",null,[M("div",ry,[M("div",{onClick:i[0]||(i[0]=d=>s.active_tab="Dashboard"),class:on(["tab",{"tab-active":s.active_tab==="Dashboard"}])},ay,2),M("div",{onClick:i[1]||(i[1]=d=>s.active_tab="Portfolio"),class:on(["tab",{"tab-active":s.active_tab==="Portfolio"}])},ly,2),M("div",{onClick:i[2]||(i[2]=d=>s.active_tab="Portfolio_old"),class:on(["tab",{"tab-active":s.active_tab==="Portfolio_old"}])},dy,2),M("div",{onClick:i[3]||(i[3]=d=>s.active_tab="Performance"),class:on(["tab",{"tab-active":s.active_tab==="Performance"}])},_y,2),M("div",{onClick:i[4]||(i[4]=d=>s.active_tab="Wealth"),class:on(["tab",{"tab-active":s.active_tab==="Wealth"}])},my,2),M("div",{onClick:i[5]||(i[5]=d=>s.active_tab="Transactions"),class:on(["tab",{"tab-active":s.active_tab==="Transactions"}])},by,2)]),xy,M("div",null,[($e(),Ui(j_,null,[($e(),Ui(Y_(s.get_active_tab)))],1024))])]))}});export{Ay as default};
