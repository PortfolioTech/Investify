var X_=Object.defineProperty;var Z_=(m,a,i)=>a in m?X_(m,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):m[a]=i;var Pn=(m,a,i)=>(Z_(m,typeof a!="symbol"?a+"":a,i),i);import{d as Wu,p as zu,o as $e,c as Ve,a as M,t as Kn,n as on,b as J,e as Ot,w as Q_,f as Bi,u as Ht,F as Cn,r as ar,g as ev,h as tv,K as nv,m as Lr}from"./index-DSYdE8p6.js";var Qr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rv(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}var Uu={};(function(m){(()=>{var a={541:(l,B,D)=>{var j=D(353),ye=ce(j),le=D(37),Q=ce(le),S=D(630),F=ce(S),E=function(){function q(Y,x){for(var O=0;O<x.length;O++){var N=x[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(Y,N.key,N)}}return function(Y,x,O){return x&&q(Y.prototype,x),O&&q(Y,O),Y}}(),W=D(457),R=ce(W),ee=D(729),U=ce(ee),c=D(702);D(303);var K=D(248),f=ce(K),ue=D(249),ve=ce(ue);function ce(q){return q&&q.__esModule?q:{default:q}}function ze(q,Y){if(!(q instanceof Y))throw new TypeError("Cannot call a class as a function")}function Le(q,Y){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y&&(typeof Y=="object"||typeof Y=="function")?Y:q}function ot(q,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);q.prototype=Object.create(Y&&Y.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(q,Y):q.__proto__=Y)}window.iFrameResizer=ve.default;var be=function(q){ot(Y,q);function Y(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ze(this,Y);var O=Le(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this));return O.options=x,O.api=new f.default(O),O.channel=R.default.build({window:x.window||window.parent,origin:"*",scope:x.id||location.origin,postMessageObserver:function(ae,de){O.emit("postMessage",ae,de)},gotMessageObserver:function(ae,de){O.emit("gotMessage",ae,de)}}),["init","update","reload","_event"].forEach(function(N){O.channel.bind(N,function(ae,de){var ne=N,re=de;return N==="_event"&&(ne=de.eventName,re=de.eventData),O.emit(ne,re),"success"})}),O}return E(Y,[{key:"request",value:function(O){var N=this;return new c.Promise(function(ae,de){if(!(0,F.default)(O))throw new Error("Params must be an object");var ne=O.method,re=O.endpoint,Pe=O.query,De=O.body;if(!ne||!re||!(0,Q.default)(ne)||!(0,Q.default)(re))throw new Error("Invalid method or endpoint");if(!(0,ye.default)(Pe)&&!(0,F.default)(Pe))throw new Error("Query must be an object");if(!(0,ye.default)(De)&&!(0,F.default)(De))throw new Error("Body must be an object");N.effectiveUser&&(O.effectiveUser=N.effectiveUser),N.channel.call({method:"request",params:O,success:function(Me){ae(Me)},error:function(Me){de(Me)}})})}},{key:"setEffectiveUser",value:function(O){this.effectiveUser=O}},{key:"saveData",value:function(O){var N=this;return new c.Promise(function(ae,de){if(!(0,F.default)(O))throw new Error("Data must be an object");N.channel.call({method:"saveData",params:O,success:function(){ae()},error:function(re){de(re)}})})}},{key:"addTransaction",value:function(O){var N=this;return new c.Promise(function(ae,de){if(!(0,ye.default)(O)&&!(0,F.default)(O))throw new Error("Attrs must be an object");N.channel.call({method:"addTransaction",params:O,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"editTransaction",value:function(O){var N=this;return new c.Promise(function(ae,de){if(!O||!(0,Q.default)(O))throw new Error("Invalid id");N.channel.call({method:"editTransaction",params:O,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"addInstitution",value:function(O){var N=this;return new c.Promise(function(ae,de){if(!(0,ye.default)(O)&&!(0,F.default)(O))throw new Error("Attrs must be an object");N.channel.call({method:"addInstitution",params:O,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"addInvestment",value:function(){var O=this;return new c.Promise(function(N,ae){O.channel.call({method:"addInvestment",success:function(ne){N(ne)},error:function(ne){ae(ne)}})})}},{key:"editInstitution",value:function(O){var N=this;return new c.Promise(function(ae,de){if(!O||!(0,Q.default)(O))throw new Error("Invalid id");N.channel.call({method:"editInstitution",params:O,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"editAsset",value:function(O){var N=this;return new c.Promise(function(ae,de){if(!O||!(0,Q.default)(O))throw new Error("Invalid id");N.channel.call({method:"editAsset",params:O,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"editLiability",value:function(O){var N=this;return new c.Promise(function(ae,de){if(!O||!(0,Q.default)(O))throw new Error("Invalid id");N.channel.call({method:"editLiability",params:O,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"deleteInstitution",value:function(O){var N=this;return new c.Promise(function(ae,de){if(!O||!(0,Q.default)(O))throw new Error("Invalid id");N.channel.call({method:"deleteInstitution",params:O,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"deleteAsset",value:function(O){var N=this;return new c.Promise(function(ae,de){if(!O||!(0,Q.default)(O))throw new Error("Invalid id");N.channel.call({method:"deleteAsset",params:O,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"deleteLiability",value:function(O){var N=this;return new c.Promise(function(ae,de){if(!O||!(0,Q.default)(O))throw new Error("Invalid id");N.channel.call({method:"deleteLiability",params:O,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"downloadDocument",value:function(O){var N=this;return new c.Promise(function(ae,de){if(!O||!(0,Q.default)(O))throw new Error("Invalid id");N.channel.call({method:"downloadDocument",params:O,success:function(){ae()},error:function(re){de(re)}})})}},{key:"upgradePremium",value:function(){var O=this;return new c.Promise(function(N,ae){O.channel.call({method:"upgradePremium",success:function(){N()},error:function(ne){ae(ne)}})})}},{key:"getSharings",value:function(){var O=this;return new c.Promise(function(N,ae){O.channel.call({method:"getSharings",success:function(ne){N(ne)},error:function(ne){ae(ne)}})})}},{key:"switchUser",value:function(O){var N=this;return new c.Promise(function(ae,de){if(!O||!(0,Q.default)(O))throw new Error("Invalid id");N.channel.call({method:"switchUser",params:O,success:function(){ae()},error:function(re){de(re)}})})}},{key:"destroy",value:function(){this.channel.destroy()}}]),Y}(U.default);l.exports=be},248:l=>{var B=function(){function ye(le,Q){for(var S=0;S<Q.length;S++){var F=Q[S];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(le,F.key,F)}}return function(le,Q,S){return Q&&ye(le.prototype,Q),S&&ye(le,S),le}}();function D(ye,le){if(!(ye instanceof le))throw new TypeError("Cannot call a class as a function")}var j=function(){function ye(le){D(this,ye),this.addon=le}return B(ye,[{key:"getAssets",value:function(Q){return this.addon.request({method:"GET",endpoint:"assets",query:Q})}},{key:"getCurrencies",value:function(Q){return this.addon.request({method:"GET",endpoint:"currencies",query:Q})}},{key:"getInstitutions",value:function(Q){return this.addon.request({method:"GET",endpoint:"institutions",query:Q})}},{key:"getInstitution",value:function(Q){return this.addon.request({method:"GET",endpoint:"institutions/"+Q})}},{key:"pollInstitution",value:function(Q,S){return this.addon.request({method:"GET",endpoint:"institutions/"+Q+"/poll?v="+S})}},{key:"syncInstitution",value:function(Q){return this.addon.request({method:"POST",endpoint:"institutions/"+Q+"/sync"})}},{key:"addInstitution",value:function(Q){return console.warn("DEPRECATED: `addon.api.addInstitution`. Use `addon.addInstitution instead.`"),this.addon.request({method:"POST",endpoint:"institutions",body:Q})}},{key:"getLiabilities",value:function(Q){return this.addon.request({method:"GET",endpoint:"liabilities",query:Q})}},{key:"getPositions",value:function(Q){return this.addon.request({method:"GET",endpoint:"positions",query:Q})}},{key:"getTransactions",value:function(Q){return this.addon.request({method:"GET",endpoint:"transactions",query:Q})}},{key:"updateTransaction",value:function(Q){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.addon.request({method:"PUT",endpoint:"transactions/"+Q,body:S})}},{key:"getUser",value:function(){return this.addon.request({method:"GET",endpoint:"users/me"})}}]),ye}();l.exports=j},249:(l,B)=>{Object.defineProperty(B,"__esModule",{value:!0}),B.default={heightCalculationMethod:function(){var j=document,ye=j.body,le=j.documentElement;return Math.max.apply(null,[ye.scrollHeight,ye.offsetHeight,le.offsetHeight])}}},702:function(l,B,D){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(j,ye){l.exports=ye()})(this,function(){function j(_){var I=typeof _;return _!==null&&(I==="object"||I==="function")}function ye(_){return typeof _=="function"}var le=void 0;Array.isArray?le=Array.isArray:le=function(_){return Object.prototype.toString.call(_)==="[object Array]"};var Q=le,S=0,F=void 0,E=void 0,W=function(I,w){be[S]=I,be[S+1]=w,S+=2,S===2&&(E?E(q):x())};function R(_){E=_}function ee(_){W=_}var U=typeof window<"u"?window:void 0,c=U||{},K=c.MutationObserver||c.WebKitMutationObserver,f=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",ue=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function ve(){return function(){return process.nextTick(q)}}function ce(){return typeof F<"u"?function(){F(q)}:ot()}function ze(){var _=0,I=new K(q),w=document.createTextNode("");return I.observe(w,{characterData:!0}),function(){w.data=_=++_%2}}function Le(){var _=new MessageChannel;return _.port1.onmessage=q,function(){return _.port2.postMessage(0)}}function ot(){var _=setTimeout;return function(){return _(q,1)}}var be=new Array(1e3);function q(){for(var _=0;_<S;_+=2){var I=be[_],w=be[_+1];I(w),be[_]=void 0,be[_+1]=void 0}S=0}function Y(){try{var _=Function("return this")().require("vertx");return F=_.runOnLoop||_.runOnContext,ce()}catch{return ot()}}var x=void 0;f?x=ve():K?x=ze():ue?x=Le():U===void 0?x=Y():x=ot();function O(_,I){var w=this,L=new this.constructor(de);L[ae]===void 0&&H(L);var $=w._state;if($){var X=arguments[$-1];W(function(){return Wt($,L,X,w._result)})}else Ut(w,L,_,I);return L}function N(_){var I=this;if(_&&typeof _=="object"&&_.constructor===I)return _;var w=new I(de);return ft(w,_),w}var ae=Math.random().toString(36).substring(2);function de(){}var ne=void 0,re=1,Pe=2;function De(){return new TypeError("You cannot resolve a promise with itself")}function yt(){return new TypeError("A promises callback cannot return that same promise.")}function Me(_,I,w,L){try{_.call(I,w,L)}catch($){return $}}function Ge(_,I,w){W(function(L){var $=!1,X=Me(w,I,function(Je){$||($=!0,I!==Je?ft(L,Je):wt(L,Je))},function(Je){$||($=!0,at(L,Je))},"Settle: "+(L._label||" unknown promise"));!$&&X&&($=!0,at(L,X))},_)}function Ye(_,I){I._state===re?wt(_,I._result):I._state===Pe?at(_,I._result):Ut(I,void 0,function(w){return ft(_,w)},function(w){return at(_,w)})}function He(_,I,w){I.constructor===_.constructor&&w===O&&I.constructor.resolve===N?Ye(_,I):w===void 0?wt(_,I):ye(w)?Ge(_,I,w):wt(_,I)}function ft(_,I){if(_===I)at(_,De());else if(j(I)){var w=void 0;try{w=I.then}catch(L){at(_,L);return}He(_,I,w)}else wt(_,I)}function lt(_){_._onerror&&_._onerror(_._result),bt(_)}function wt(_,I){_._state===ne&&(_._result=I,_._state=re,_._subscribers.length!==0&&W(bt,_))}function at(_,I){_._state===ne&&(_._state=Pe,_._result=I,W(lt,_))}function Ut(_,I,w,L){var $=_._subscribers,X=$.length;_._onerror=null,$[X]=I,$[X+re]=w,$[X+Pe]=L,X===0&&_._state&&W(bt,_)}function bt(_){var I=_._subscribers,w=_._state;if(I.length!==0){for(var L=void 0,$=void 0,X=_._result,Je=0;Je<I.length;Je+=3)L=I[Je],$=I[Je+w],L?Wt(w,L,$,X):$(X);_._subscribers.length=0}}function Wt(_,I,w,L){var $=ye(w),X=void 0,Je=void 0,ct=!0;if($){try{X=w(L)}catch(zt){ct=!1,Je=zt}if(I===X){at(I,yt());return}}else X=L;I._state!==ne||($&&ct?ft(I,X):ct===!1?at(I,Je):_===re?wt(I,X):_===Pe&&at(I,X))}function A(_,I){try{I(function(L){ft(_,L)},function(L){at(_,L)})}catch(w){at(_,w)}}var he=0;function y(){return he++}function H(_){_[ae]=he++,_._state=void 0,_._result=void 0,_._subscribers=[]}function ge(){return new Error("Array Methods must be provided an Array")}var fe=function(){function _(I,w){this._instanceConstructor=I,this.promise=new I(de),this.promise[ae]||H(this.promise),Q(w)?(this.length=w.length,this._remaining=w.length,this._result=new Array(this.length),this.length===0?wt(this.promise,this._result):(this.length=this.length||0,this._enumerate(w),this._remaining===0&&wt(this.promise,this._result))):at(this.promise,ge())}return _.prototype._enumerate=function(w){for(var L=0;this._state===ne&&L<w.length;L++)this._eachEntry(w[L],L)},_.prototype._eachEntry=function(w,L){var $=this._instanceConstructor,X=$.resolve;if(X===N){var Je=void 0,ct=void 0,zt=!1;try{Je=w.then}catch(Ft){zt=!0,ct=Ft}if(Je===O&&w._state!==ne)this._settledAt(w._state,L,w._result);else if(typeof Je!="function")this._remaining--,this._result[L]=w;else if($===k){var fn=new $(de);zt?at(fn,ct):He(fn,w,Je),this._willSettleAt(fn,L)}else this._willSettleAt(new $(function(Ft){return Ft(w)}),L)}else this._willSettleAt(X(w),L)},_.prototype._settledAt=function(w,L,$){var X=this.promise;X._state===ne&&(this._remaining--,w===Pe?at(X,$):this._result[L]=$),this._remaining===0&&wt(X,this._result)},_.prototype._willSettleAt=function(w,L){var $=this;Ut(w,void 0,function(X){return $._settledAt(re,L,X)},function(X){return $._settledAt(Pe,L,X)})},_}();function Ee(_){return new fe(this,_).promise}function Ne(_){var I=this;return Q(_)?new I(function(w,L){for(var $=_.length,X=0;X<$;X++)I.resolve(_[X]).then(w,L)}):new I(function(w,L){return L(new TypeError("You must pass an array to race."))})}function _t(_){var I=this,w=new I(de);return at(w,_),w}function Ce(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Tt(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var k=function(){function _(I){this[ae]=y(),this._result=this._state=void 0,this._subscribers=[],de!==I&&(typeof I!="function"&&Ce(),this instanceof _?A(this,I):Tt())}return _.prototype.catch=function(w){return this.then(null,w)},_.prototype.finally=function(w){var L=this,$=L.constructor;return ye(w)?L.then(function(X){return $.resolve(w()).then(function(){return X})},function(X){return $.resolve(w()).then(function(){throw X})}):L.then(w,w)},_}();k.prototype.then=O,k.all=Ee,k.race=Ne,k.resolve=N,k.reject=_t,k._setScheduler=R,k._setAsap=ee,k._asap=W;function ie(){var _=void 0;if(typeof D.g<"u")_=D.g;else if(typeof self<"u")_=self;else try{_=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var I=_.Promise;if(I){var w=null;try{w=Object.prototype.toString.call(I.resolve())}catch{}if(w==="[object Promise]"&&!I.cast)return}_.Promise=k}return k.polyfill=ie,k.Promise=k,k})},729:l=>{var B=Object.prototype.hasOwnProperty,D="~";function j(){}Object.create&&(j.prototype=Object.create(null),new j().__proto__||(D=!1));function ye(F,E,W){this.fn=F,this.context=E,this.once=W||!1}function le(F,E,W,R,ee){if(typeof W!="function")throw new TypeError("The listener must be a function");var U=new ye(W,R||F,ee),c=D?D+E:E;return F._events[c]?F._events[c].fn?F._events[c]=[F._events[c],U]:F._events[c].push(U):(F._events[c]=U,F._eventsCount++),F}function Q(F,E){--F._eventsCount===0?F._events=new j:delete F._events[E]}function S(){this._events=new j,this._eventsCount=0}S.prototype.eventNames=function(){var E=[],W,R;if(this._eventsCount===0)return E;for(R in W=this._events)B.call(W,R)&&E.push(D?R.slice(1):R);return Object.getOwnPropertySymbols?E.concat(Object.getOwnPropertySymbols(W)):E},S.prototype.listeners=function(E){var W=D?D+E:E,R=this._events[W];if(!R)return[];if(R.fn)return[R.fn];for(var ee=0,U=R.length,c=new Array(U);ee<U;ee++)c[ee]=R[ee].fn;return c},S.prototype.listenerCount=function(E){var W=D?D+E:E,R=this._events[W];return R?R.fn?1:R.length:0},S.prototype.emit=function(E,W,R,ee,U,c){var K=D?D+E:E;if(!this._events[K])return!1;var f=this._events[K],ue=arguments.length,ve,ce;if(f.fn){switch(f.once&&this.removeListener(E,f.fn,void 0,!0),ue){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,W),!0;case 3:return f.fn.call(f.context,W,R),!0;case 4:return f.fn.call(f.context,W,R,ee),!0;case 5:return f.fn.call(f.context,W,R,ee,U),!0;case 6:return f.fn.call(f.context,W,R,ee,U,c),!0}for(ce=1,ve=new Array(ue-1);ce<ue;ce++)ve[ce-1]=arguments[ce];f.fn.apply(f.context,ve)}else{var ze=f.length,Le;for(ce=0;ce<ze;ce++)switch(f[ce].once&&this.removeListener(E,f[ce].fn,void 0,!0),ue){case 1:f[ce].fn.call(f[ce].context);break;case 2:f[ce].fn.call(f[ce].context,W);break;case 3:f[ce].fn.call(f[ce].context,W,R);break;case 4:f[ce].fn.call(f[ce].context,W,R,ee);break;default:if(!ve)for(Le=1,ve=new Array(ue-1);Le<ue;Le++)ve[Le-1]=arguments[Le];f[ce].fn.apply(f[ce].context,ve)}}return!0},S.prototype.on=function(E,W,R){return le(this,E,W,R,!1)},S.prototype.once=function(E,W,R){return le(this,E,W,R,!0)},S.prototype.removeListener=function(E,W,R,ee){var U=D?D+E:E;if(!this._events[U])return this;if(!W)return Q(this,U),this;var c=this._events[U];if(c.fn)c.fn===W&&(!ee||c.once)&&(!R||c.context===R)&&Q(this,U);else{for(var K=0,f=[],ue=c.length;K<ue;K++)(c[K].fn!==W||ee&&!c[K].once||R&&c[K].context!==R)&&f.push(c[K]);f.length?this._events[U]=f.length===1?f[0]:f:Q(this,U)}return this},S.prototype.removeAllListeners=function(E){var W;return E?(W=D?D+E:E,this._events[W]&&Q(this,W)):(this._events=new j,this._eventsCount=0),this},S.prototype.off=S.prototype.removeListener,S.prototype.addListener=S.prototype.on,S.prefixed=D,S.EventEmitter=S,l.exports=S},303:(l,B,D)=>{l.exports=D(683)},402:l=>{(function(B){if(typeof window>"u")return;var D=!0,j=10,ye="",le=0,Q="",S=null,F="",E=!1,W={resize:1,click:1},R=128,ee=!0,U=1,c="bodyOffset",K=c,f=!0,ue="",ve={},ce=32,ze=null,Le=!1,ot="[iFrameSizer]",be=ot.length,q="",Y={max:1,min:1,bodyScroll:1,documentElementScroll:1},x="child",O=!0,N=window.parent,ae="*",de=0,ne=!1,re=null,Pe=16,De=1,yt="scroll",Me=yt,Ge=window,Ye=function(){H("MessageCallback function not defined")},He=function(){},ft=function(){},lt={height:function(){return H("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return H("Custom width calculation function not defined"),document.body.scrollWidth}},wt={};function at(g,C,oe){"addEventListener"in window?g.addEventListener(C,oe,!1):"attachEvent"in window&&g.attachEvent("on"+C,oe)}function Ut(g,C,oe){"removeEventListener"in window?g.removeEventListener(C,oe,!1):"detachEvent"in window&&g.detachEvent("on"+C,oe)}function bt(g){return g.charAt(0).toUpperCase()+g.slice(1)}function Wt(g){var C,oe,xe,Ie=null,je=0,Qe=function(){je=A(),Ie=null,xe=g.apply(C,oe),Ie||(C=oe=null)};return function(){var et=A();je||(je=et);var Re=Pe-(et-je);return C=this,oe=arguments,Re<=0||Re>Pe?(Ie&&(clearTimeout(Ie),Ie=null),je=et,xe=g.apply(C,oe),Ie||(C=oe=null)):Ie||(Ie=setTimeout(Qe,Re)),xe}}var A=Date.now||function(){return new Date().getTime()};function he(g){return ot+"["+q+"] "+g}function y(g){Le&&typeof window.console=="object"&&console.log(he(g))}function H(g){typeof window.console=="object"&&console.warn(he(g))}function ge(){fe(),y("Initialising iFrame ("+location.href+")"),Ee(),Ce(),_t("background",ye),_t("padding",F),fn(),I(),w(),Tt(),xt(),L(),ve=Ft(),mn("init","Init message from host page"),He()}function fe(){function g(oe){return oe==="true"}var C=ue.substr(be).split(":");q=C[0],le=B!==C[1]?Number(C[1]):le,E=B!==C[2]?g(C[2]):E,Le=B!==C[3]?g(C[3]):Le,ce=B!==C[4]?Number(C[4]):ce,D=B!==C[6]?g(C[6]):D,Q=C[7],K=B!==C[8]?C[8]:K,ye=C[9],F=C[10],de=B!==C[11]?Number(C[11]):de,ve.enable=B!==C[12]?g(C[12]):!1,x=B!==C[13]?C[13]:x,Me=B!==C[14]?C[14]:Me}function Ee(){function g(){var oe=window.iFrameResizer;y("Reading data from page: "+JSON.stringify(oe)),Ye="messageCallback"in oe?oe.messageCallback:Ye,He="readyCallback"in oe?oe.readyCallback:He,ae="targetOrigin"in oe?oe.targetOrigin:ae,K="heightCalculationMethod"in oe?oe.heightCalculationMethod:K,Me="widthCalculationMethod"in oe?oe.widthCalculationMethod:Me}function C(oe,xe){return typeof oe=="function"&&(y("Setup custom "+xe+"CalcMethod"),lt[xe]=oe,oe="custom"),oe}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(g(),K=C(K,"height"),Me=C(Me,"width")),y("TargetOrigin for parent set to: "+ae)}function Ne(g,C){return C.indexOf("-")!==-1&&(H("Negative CSS value ignored for "+g),C=""),C}function _t(g,C){B!==C&&C!==""&&C!=="null"&&(document.body.style[g]=C,y("Body "+g+' set to "'+C+'"'))}function Ce(){B===Q&&(Q=le+"px"),_t("margin",Ne("margin",Q))}function Tt(){document.documentElement.style.height="",document.body.style.height="",y('HTML & body height set to "auto"')}function k(g){var C={add:function(oe){function xe(){mn(g.eventName,g.eventType)}wt[oe]=xe,at(window,oe,xe)},remove:function(oe){var xe=wt[oe];delete wt[oe],Ut(window,oe,xe)}};g.eventNames&&Array.prototype.map?(g.eventName=g.eventNames[0],g.eventNames.map(C[g.method])):C[g.method](g.eventName),y(bt(g.method)+" event listener: "+g.eventType)}function ie(g){k({method:g,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),k({method:g,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),k({method:g,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),k({method:g,eventType:"Input",eventName:"input"}),k({method:g,eventType:"Mouse Up",eventName:"mouseup"}),k({method:g,eventType:"Mouse Down",eventName:"mousedown"}),k({method:g,eventType:"Orientation Change",eventName:"orientationchange"}),k({method:g,eventType:"Print",eventName:["afterprint","beforeprint"]}),k({method:g,eventType:"Ready State Change",eventName:"readystatechange"}),k({method:g,eventType:"Touch Start",eventName:"touchstart"}),k({method:g,eventType:"Touch End",eventName:"touchend"}),k({method:g,eventType:"Touch Cancel",eventName:"touchcancel"}),k({method:g,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),k({method:g,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),k({method:g,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),x==="child"&&k({method:g,eventType:"IFrame Resized",eventName:"resize"})}function _(g,C,oe,xe){return C!==g&&(g in oe||(H(g+" is not a valid option for "+xe+"CalculationMethod."),g=C),y(xe+' calculation method set to "'+g+'"')),g}function I(){K=_(K,c,Pt,"height")}function w(){Me=_(Me,yt,Vt,"width")}function L(){D===!0?(ie("add"),_e()):y("Auto Resize disabled")}function $(){y("Disable outgoing messages"),O=!1}function X(){y("Remove event listener: Message"),Ut(window,"message",P)}function Je(){S!==null&&S.disconnect()}function ct(){ie("remove"),Je(),clearInterval(ze)}function zt(){$(),X(),D===!0&&ct()}function fn(){var g=document.createElement("div");g.style.clear="both",g.style.display="block",document.body.appendChild(g)}function Ft(){function g(){return{x:window.pageXOffset!==B?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==B?window.pageYOffset:document.documentElement.scrollTop}}function C(Re){var Fe=Re.getBoundingClientRect(),Xe=g();return{x:parseInt(Fe.left,10)+parseInt(Xe.x,10),y:parseInt(Fe.top,10)+parseInt(Xe.y,10)}}function oe(Re){function Fe(Qt){var Nn=C(Qt);y("Moving to in page link (#"+Xe+") at x: "+Nn.x+" y: "+Nn.y),an(Nn.y,Nn.x,"scrollToOffset")}var Xe=Re.split("#")[1]||Re,Ke=decodeURIComponent(Xe),Lt=document.getElementById(Ke)||document.getElementsByName(Ke)[0];B!==Lt?Fe(Lt):(y("In page link (#"+Xe+") not found in iFrame, so sending to parent"),an(0,0,"inPageLink","#"+Xe))}function xe(){location.hash!==""&&location.hash!=="#"&&oe(location.href)}function Ie(){function Re(Fe){function Xe(Ke){Ke.preventDefault(),oe(this.getAttribute("href"))}Fe.getAttribute("href")!=="#"&&at(Fe,"click",Xe)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),Re)}function je(){at(window,"hashchange",xe)}function Qe(){setTimeout(xe,R)}function et(){Array.prototype.forEach&&document.querySelectorAll?(y("Setting up location.hash handlers"),Ie(),je(),Qe()):H("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return ve.enable?et():y("In page linking not enabled"),{findTarget:oe}}function xt(){y("Enable public methods"),Ge.parentIFrame={autoResize:function(C){return C===!0&&D===!1?(D=!0,L()):C===!1&&D===!0&&(D=!1,ct()),D},close:function(){an(0,0,"close"),zt()},getId:function(){return q},getPageInfo:function(C){typeof C=="function"?(ft=C,an(0,0,"pageInfo")):(ft=function(){},an(0,0,"pageInfoStop"))},moveToAnchor:function(C){ve.findTarget(C)},reset:function(){lr("parentIFrame.reset")},scrollTo:function(C,oe){an(oe,C,"scrollTo")},scrollToOffset:function(C,oe){an(oe,C,"scrollToOffset")},sendMessage:function(C,oe){an(0,0,"message",JSON.stringify(C),oe)},setHeightCalculationMethod:function(C){K=C,I()},setWidthCalculationMethod:function(C){Me=C,w()},setTargetOrigin:function(C){y("Set targetOrigin: "+C),ae=C},size:function(C,oe){var xe=""+(C||"")+(oe?","+oe:"");mn("size","parentIFrame.size("+xe+")",C,oe)}}}function Te(){ce!==0&&(y("setInterval: "+ce+"ms"),ze=setInterval(function(){mn("interval","setInterval: "+ce)},Math.abs(ce)))}function pe(){function g(Ke){function Lt(Qt){Qt.complete===!1&&(y("Attach listeners to "+Qt.src),Qt.addEventListener("load",Ie,!1),Qt.addEventListener("error",je,!1),Re.push(Qt))}Ke.type==="attributes"&&Ke.attributeName==="src"?Lt(Ke.target):Ke.type==="childList"&&Array.prototype.forEach.call(Ke.target.querySelectorAll("img"),Lt)}function C(Ke){Re.splice(Re.indexOf(Ke),1)}function oe(Ke){y("Remove listeners from "+Ke.src),Ke.removeEventListener("load",Ie,!1),Ke.removeEventListener("error",je,!1),C(Ke)}function xe(Ke,Lt,Qt){oe(Ke.target),mn(Lt,Qt+": "+Ke.target.src,B,B)}function Ie(Ke){xe(Ke,"imageLoad","Image loaded")}function je(Ke){xe(Ke,"imageLoadFailed","Image load failed")}function Qe(Ke){mn("mutationObserver","mutationObserver: "+Ke[0].target+" "+Ke[0].type),Ke.forEach(g)}function et(){var Ke=document.querySelector("body"),Lt={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return Xe=new Fe(Qe),y("Create body MutationObserver"),Xe.observe(Ke,Lt),Xe}var Re=[],Fe=window.MutationObserver||window.WebKitMutationObserver,Xe=et();return{disconnect:function(){"disconnect"in Xe&&(y("Disconnect body MutationObserver"),Xe.disconnect(),Re.forEach(oe))}}}function _e(){var g=0>ce;window.MutationObserver||window.WebKitMutationObserver?g?Te():S=pe():(y("MutationObserver not supported in this browser!"),Te())}function me(g,C){function oe(Ie){var je=/^\d+(px)?$/i;if(je.test(Ie))return parseInt(Ie,j);var Qe=C.style.left,et=C.runtimeStyle.left;return C.runtimeStyle.left=C.currentStyle.left,C.style.left=Ie||0,Ie=C.style.pixelLeft,C.style.left=Qe,C.runtimeStyle.left=et,Ie}var xe=0;return C=C||document.body,"defaultView"in document&&"getComputedStyle"in document.defaultView?(xe=document.defaultView.getComputedStyle(C,null),xe=xe!==null?xe[g]:0):xe=oe(C.currentStyle[g]),parseInt(xe,j)}function Se(g){g>Pe/2&&(Pe=2*g,y("Event throttle increased to "+Pe+"ms"))}function Ze(g,C){for(var oe=C.length,xe=0,Ie=0,je=bt(g),Qe=A(),et=0;et<oe;et++)xe=C[et].getBoundingClientRect()[g]+me("margin"+je,C[et]),xe>Ie&&(Ie=xe);return Qe=A()-Qe,y("Parsed "+oe+" HTML elements"),y("Element position calculated in "+Qe+"ms"),Se(Qe),Ie}function qe(g){return[g.bodyOffset(),g.bodyScroll(),g.documentElementOffset(),g.documentElementScroll()]}function rt(g,C){function oe(){return H("No tagged elements ("+C+") found on page"),document.querySelectorAll("body *")}var xe=document.querySelectorAll("["+C+"]");return xe.length===0&&oe(),Ze(g,xe)}function pt(){return document.querySelectorAll("body *")}var Pt={bodyOffset:function(){return document.body.offsetHeight+me("marginTop")+me("marginBottom")},offset:function(){return Pt.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return lt.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,qe(Pt))},min:function(){return Math.min.apply(null,qe(Pt))},grow:function(){return Pt.max()},lowestElement:function(){return Math.max(Pt.bodyOffset(),Ze("bottom",pt()))},taggedElement:function(){return rt("bottom","data-iframe-height")}},Vt={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return lt.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(Vt.bodyScroll(),Vt.documentElementScroll())},max:function(){return Math.max.apply(null,qe(Vt))},min:function(){return Math.min.apply(null,qe(Vt))},rightMostElement:function(){return Ze("right",pt())},taggedElement:function(){return rt("right","data-iframe-width")}};function Sn(g,C,oe,xe){function Ie(){U=Xe,De=Ke,an(U,De,g)}function je(){function Lt(Qt,Nn){var ei=Math.abs(Qt-Nn)<=de;return!ei}return Xe=B!==oe?oe:Pt[K](),Ke=B!==xe?xe:Vt[Me](),Lt(U,Xe)||E&&Lt(De,Ke)}function Qe(){return!(g in{init:1,interval:1,size:1})}function et(){return K in Y||E&&Me in Y}function Re(){y("No change in size detected")}function Fe(){Qe()&&et()?lr(C):g in{interval:1}||Re()}var Xe,Ke;je()||g==="init"?(ur(),Ie()):Fe()}var Vn=Wt(Sn);function mn(g,C,oe,xe){function Ie(){g in{reset:1,resetPage:1,init:1}||y("Trigger event: "+C)}function je(){return ne&&g in W}je()?y("Trigger event cancelled: "+g):(Ie(),Vn(g,C,oe,xe))}function ur(){ne||(ne=!0,y("Trigger event lock on")),clearTimeout(re),re=setTimeout(function(){ne=!1,y("Trigger event lock off"),y("--")},R)}function Zt(g){U=Pt[K](),De=Vt[Me](),an(U,De,g)}function lr(g){var C=K;K=c,y("Reset trigger event: "+g),ur(),Zt("reset"),K=C}function an(g,C,oe,xe,Ie){function je(){B===Ie?Ie=ae:y("Message targetOrigin: "+Ie)}function Qe(){var et=g+":"+C,Re=q+":"+et+":"+oe+(B!==xe?":"+xe:"");y("Sending message to host page ("+Re+")"),N.postMessage(ot+Re,Ie)}O===!0&&(je(),Qe())}function P(g){var C={init:function(){function Xe(){ue=g.data,N=g.source,ge(),ee=!1,setTimeout(function(){f=!1},R)}document.readyState==="interactive"||document.readyState==="complete"?Xe():(y("Waiting for page ready"),at(window,"readystatechange",C.initFromParent))},reset:function(){f?y("Page reset ignored by init"):(y("Page size reset by host page"),Zt("resetPage"))},resize:function(){mn("resizeParent","Parent window requested size check")},moveToAnchor:function(){ve.findTarget(Ie())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var Xe=Ie();y("PageInfoFromParent called from parent: "+Xe),ft(JSON.parse(Xe)),y(" --")},message:function(){var Xe=Ie();y("MessageCallback called from parent: "+Xe),Ye(JSON.parse(Xe)),y(" --")}};function oe(){return ot===(""+g.data).substr(0,be)}function xe(){return g.data.split("]")[1].split(":")[0]}function Ie(){return g.data.substr(g.data.indexOf(":")+1)}function je(){return!l.exports&&"iFrameResize"in window}function Qe(){return g.data.split(":")[2]in{true:1,false:1}}function et(){var Fe=xe();Fe in C?C[Fe]():!je()&&!Qe()&&H("Unexpected message ("+g.data+")")}function Re(){ee===!1?et():Qe()?C.init():y('Ignored message of type "'+xe()+'". Received before initialization.')}oe()&&Re()}function V(){document.readyState!=="loading"&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}at(window,"message",P),V()})()},28:(l,B)=>{var D,j,ye;(function(le){if(typeof window>"u")return;var Q=0,S=!1,F=!1,E="message",W=E.length,R="[iFrameSizer]",ee=R.length,U=null,c=window.requestAnimationFrame,K={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},f={},ue=null,ve={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){O("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};function ce(y,H,ge){"addEventListener"in window?y.addEventListener(H,ge,!1):"attachEvent"in window&&y.attachEvent("on"+H,ge)}function ze(y,H,ge){"removeEventListener"in window?y.removeEventListener(H,ge,!1):"detachEvent"in window&&y.detachEvent("on"+H,ge)}function Le(){var y=["moz","webkit","o","ms"],H;for(H=0;H<y.length&&!c;H+=1)c=window[y[H]+"RequestAnimationFrame"];c||Y("setup","RequestAnimationFrame not supported")}function ot(y){var H="Host page: "+y;return window.top!==window.self&&(window.parentIFrame&&window.parentIFrame.getId?H=window.parentIFrame.getId()+": "+y:H="Nested host page: "+y),H}function be(y){return R+"["+ot(y)+"]"}function q(y){return f[y]?f[y].log:S}function Y(y,H){N("log",y,H,q(y))}function x(y,H){N("info",y,H,q(y))}function O(y,H){N("warn",y,H,!0)}function N(y,H,ge,fe){fe===!0&&typeof window.console=="object"&&console[y](be(H),ge)}function ae(y){function H(){function me(){Me(pe),Pe(_e),ct("resizedCallback",pe)}fe("Height"),fe("Width"),Ge(me,pe,"init")}function ge(){var me=Te.substr(ee).split(":");return{iframe:f[me[0]]&&f[me[0]].iframe,id:me[0],height:me[1],width:me[2],type:me[3]}}function fe(me){var Se=Number(f[_e]["max"+me]),Ze=Number(f[_e]["min"+me]),qe=me.toLowerCase(),rt=Number(pe[qe]);Y(_e,"Checking "+qe+" is in range "+Ze+"-"+Se),rt<Ze&&(rt=Ze,Y(_e,"Set "+qe+" to min value")),rt>Se&&(rt=Se,Y(_e,"Set "+qe+" to max value")),pe[qe]=""+rt}function Ee(){function me(){function qe(){var pt=0,Pt=!1;for(Y(_e,"Checking connection is from allowed list of origins: "+Ze);pt<Ze.length;pt++)if(Ze[pt]===Se){Pt=!0;break}return Pt}function rt(){var pt=f[_e]&&f[_e].remoteHost;return Y(_e,"Checking connection is from: "+pt),Se===pt}return Ze.constructor===Array?qe():rt()}var Se=y.origin,Ze=f[_e]&&f[_e].checkOrigin;if(Ze&&""+Se!="null"&&!me())throw new Error("Unexpected message received from: "+Se+" for "+pe.iframe.id+". Message was: "+y.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function Ne(){return R===(""+Te).substr(0,ee)&&Te.substr(ee).split(":")[0]in f}function _t(){var me=pe.type in{true:1,false:1,undefined:1};return me&&Y(_e,"Ignoring init message from meta parent page"),me}function Ce(me){return Te.substr(Te.indexOf(":")+W+me)}function Tt(me){Y(_e,"MessageCallback passed: {iframe: "+pe.iframe.id+", message: "+me+"}"),ct("messageCallback",{iframe:pe.iframe,message:JSON.parse(me)}),Y(_e,"--")}function k(){var me=document.body.getBoundingClientRect(),Se=pe.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:Se.height,iframeWidth:Se.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(Se.top-me.top,10),offsetLeft:parseInt(Se.left-me.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})}function ie(me,Se){function Ze(){Ye("Send Page Info","pageInfo:"+k(),me,Se)}lt(Ze,32)}function _(){function me(rt,pt){function Pt(){f[qe]?ie(f[qe].iframe,qe):Se()}["scroll","resize"].forEach(function(Vt){Y(qe,rt+Vt+" listener for sendPageInfo"),pt(window,Vt,Pt)})}function Se(){me("Remove ",ze)}function Ze(){me("Add ",ce)}var qe=_e;Ze(),f[qe]&&(f[qe].stopPageInfo=Se)}function I(){f[_e]&&f[_e].stopPageInfo&&(f[_e].stopPageInfo(),delete f[_e].stopPageInfo)}function w(){var me=!0;return pe.iframe===null&&(O(_e,"IFrame ("+pe.id+") not found"),me=!1),me}function L(me){var Se=me.getBoundingClientRect();return re(_e),{x:Math.floor(Number(Se.left)+Number(U.x)),y:Math.floor(Number(Se.top)+Number(U.y))}}function $(me){function Se(){U=pt,X(),Y(_e,"--")}function Ze(){return{x:Number(pe.width)+rt.x,y:Number(pe.height)+rt.y}}function qe(){window.parentIFrame?window.parentIFrame["scrollTo"+(me?"Offset":"")](pt.x,pt.y):O(_e,"Unable to scroll to requested position, window.parentIFrame not found")}var rt=me?L(pe.iframe):{x:0,y:0},pt=Ze();Y(_e,"Reposition requested from iFrame (offset x:"+rt.x+" y:"+rt.y+")"),window.top!==window.self?qe():Se()}function X(){ct("scrollCallback",U)!==!1?Pe(_e):De()}function Je(me){function Se(){var Pt=L(pt);Y(_e,"Moving to in page link (#"+qe+") at x: "+Pt.x+" y: "+Pt.y),U={x:Pt.x,y:Pt.y},X(),Y(_e,"--")}function Ze(){window.parentIFrame?window.parentIFrame.moveToAnchor(qe):Y(_e,"In page link #"+qe+" not found and window.parentIFrame not found")}var qe=me.split("#")[1]||"",rt=decodeURIComponent(qe),pt=document.getElementById(rt)||document.getElementsByName(rt)[0];pt?Se():window.top!==window.self?Ze():Y(_e,"In page link #"+qe+" not found")}function ct(me,Se){return de(_e,me,Se)}function zt(){switch(f[_e]&&f[_e].firstRun&&xt(),pe.type){case"close":f[_e].closeRequestCallback?de(_e,"closeRequestCallback",f[_e].iframe):ne(pe.iframe);break;case"message":Tt(Ce(6));break;case"scrollTo":$(!1);break;case"scrollToOffset":$(!0);break;case"pageInfo":ie(f[_e]&&f[_e].iframe,_e),_();break;case"pageInfoStop":I();break;case"inPageLink":Je(Ce(9));break;case"reset":yt(pe);break;case"init":H(),ct("initCallback",pe.iframe);break;default:H()}}function fn(me){var Se=!0;return f[me]||(Se=!1,O(pe.type+" No settings for "+me+". Message was: "+Te)),Se}function Ft(){for(var me in f)Ye("iFrame requested init",He(me),document.getElementById(me),me)}function xt(){f[_e]&&(f[_e].firstRun=!1)}var Te=y.data,pe={},_e=null;Te==="[iFrameResizerChild]Ready"?Ft():Ne()?(pe=ge(),_e=pe.id,f[_e]&&(f[_e].loaded=!0),!_t()&&fn(_e)&&(Y(_e,"Received: "+Te),w()&&Ee()&&zt())):x(_e,"Ignored: "+Te)}function de(y,H,ge){var fe=null,Ee=null;if(f[y])if(fe=f[y][H],typeof fe=="function")Ee=fe(ge);else throw new TypeError(H+" on iFrame["+y+"] is not a function");return Ee}function ne(y){var H=y.id;Y(H,"Removing iFrame: "+H),y.parentNode&&y.parentNode.removeChild(y),de(H,"closedCallback",H),Y(H,"--"),delete f[H]}function re(y){U===null&&(U={x:window.pageXOffset!==le?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==le?window.pageYOffset:document.documentElement.scrollTop},Y(y,"Get page position: "+U.x+","+U.y))}function Pe(y){U!==null&&(window.scrollTo(U.x,U.y),Y(y,"Set page position: "+U.x+","+U.y),De())}function De(){U=null}function yt(y){function H(){Me(y),Ye("reset","reset",y.iframe,y.id)}Y(y.id,"Size reset requested by "+(y.type==="init"?"host page":"iFrame")),re(y.id),Ge(H,y,"reset")}function Me(y){function H(Ne){y.iframe.style[Ne]=y[Ne]+"px",Y(y.id,"IFrame ("+Ee+") "+Ne+" set to "+y[Ne]+"px")}function ge(Ne){!F&&y[Ne]==="0"&&(F=!0,Y(Ee,"Hidden iFrame detected, creating visibility listener"),wt())}function fe(Ne){H(Ne),ge(Ne)}var Ee=y.iframe.id;f[Ee]&&(f[Ee].sizeHeight&&fe("height"),f[Ee].sizeWidth&&fe("width"))}function Ge(y,H,ge){ge!==H.type&&c?(Y(H.id,"Requesting animation frame"),c(y)):y()}function Ye(y,H,ge,fe,Ee){function Ne(){var ie=f[fe]&&f[fe].targetOrigin;Y(fe,"["+y+"] Sending msg to iframe["+fe+"] ("+H+") targetOrigin: "+ie),ge.contentWindow.postMessage(R+H,ie)}function _t(){O(fe,"["+y+"] IFrame("+fe+") not found")}function Ce(){ge&&"contentWindow"in ge&&ge.contentWindow!==null?Ne():_t()}function Tt(){function ie(){f[fe]&&!f[fe].loaded&&!k&&(k=!0,O(fe,"IFrame has not responded within "+f[fe].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ingored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}Ee&&f[fe]&&f[fe].warningTimeout&&(f[fe].msgTimeout=setTimeout(ie,f[fe].warningTimeout))}var k=!1;fe=fe||ge.id,f[fe]&&(Ce(),Tt())}function He(y){return y+":"+f[y].bodyMarginV1+":"+f[y].sizeWidth+":"+f[y].log+":"+f[y].interval+":"+f[y].enablePublicMethods+":"+f[y].autoResize+":"+f[y].bodyMargin+":"+f[y].heightCalculationMethod+":"+f[y].bodyBackground+":"+f[y].bodyPadding+":"+f[y].tolerance+":"+f[y].inPageLinks+":"+f[y].resizeFrom+":"+f[y].widthCalculationMethod}function ft(y,H){function ge(){function X(ct){f[$][ct]!==1/0&&f[$][ct]!==0&&(y.style[ct]=f[$][ct]+"px",Y($,"Set "+ct+" = "+f[$][ct]+"px"))}function Je(ct){if(f[$]["min"+ct]>f[$]["max"+ct])throw new Error("Value for min"+ct+" can not be greater than max"+ct)}Je("Height"),Je("Width"),X("maxHeight"),X("minHeight"),X("maxWidth"),X("minWidth")}function fe(){var X=H&&H.id||ve.id+Q++;return document.getElementById(X)!==null&&(X=X+Q++),X}function Ee(X){return X===""&&(y.id=X=fe(),S=(H||{}).log,Y(X,"Added missing iframe ID: "+X+" ("+y.src+")")),X}function Ne(){switch(Y($,"IFrame scrolling "+(f[$]&&f[$].scrolling?"enabled":"disabled")+" for "+$),y.style.overflow=(f[$]&&f[$].scrolling)===!1?"hidden":"auto",f[$]&&f[$].scrolling){case!0:y.scrolling="yes";break;case!1:y.scrolling="no";break;default:y.scrolling=f[$]?f[$].scrolling:"no"}}function _t(){(typeof(f[$]&&f[$].bodyMargin)=="number"||(f[$]&&f[$].bodyMargin)==="0")&&(f[$].bodyMarginV1=f[$].bodyMargin,f[$].bodyMargin=""+f[$].bodyMargin+"px")}function Ce(){var X=f[$]&&f[$].firstRun,Je=f[$]&&f[$].heightCalculationMethod in K;!X&&Je&&yt({iframe:y,height:0,width:0,type:"init"})}function Tt(){Function.prototype.bind&&f[$]&&(f[$].iframe.iFrameResizer={close:ne.bind(null,f[$].iframe),resize:Ye.bind(null,"Window resize","resize",f[$].iframe),moveToAnchor:function(X){Ye("Move to anchor","moveToAnchor:"+X,f[$].iframe,$)},sendMessage:function(X){X=JSON.stringify(X),Ye("Send Message","message:"+X,f[$].iframe,$)}})}function k(X){function Je(){Ye("iFrame.onload",X,y,le,!0),Ce()}ce(y,"load",Je),Ye("init",X,y,le,!0)}function ie(X){if(typeof X!="object")throw new TypeError("Options is not an object")}function _(X){for(var Je in ve)ve.hasOwnProperty(Je)&&(f[$][Je]=X.hasOwnProperty(Je)?X[Je]:ve[Je])}function I(X){return X===""||X==="file://"?"*":X}function w(X){X=X||{},f[$]={firstRun:!0,iframe:y,remoteHost:y.src.split("/").slice(0,3).join("/")},ie(X),_(X),f[$]&&(f[$].targetOrigin=f[$].checkOrigin===!0?I(f[$].remoteHost):"*")}function L(){return $ in f&&"iFrameResizer"in y}var $=Ee(y.id);L()?O($,"Ignored iFrame, already setup."):(w(H),Ne(),ge(),_t(),k(He($)),Tt())}function lt(y,H){ue===null&&(ue=setTimeout(function(){ue=null,y()},H))}function wt(){function y(){function Ee(_t){function Ce(k){return(f[_t]&&f[_t].iframe.style[k])==="0px"}function Tt(k){return k.offsetParent!==null}f[_t]&&Tt(f[_t].iframe)&&(Ce("height")||Ce("width"))&&Ye("Visibility change","resize",f[_t].iframe,_t)}for(var Ne in f)Ee(Ne)}function H(Ee){Y("window","Mutation observed: "+Ee[0].target+" "+Ee[0].type),lt(y,16)}function ge(){var Ee=document.querySelector("body"),Ne={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},_t=new fe(H);_t.observe(Ee,Ne)}var fe=window.MutationObserver||window.WebKitMutationObserver;fe&&ge()}function at(y){function H(){bt("Window "+y,"resize")}Y("window","Trigger event: "+y),lt(H,16)}function Ut(){function y(){bt("Tab Visable","resize")}document.visibilityState!=="hidden"&&(Y("document","Trigger event: Visiblity change"),lt(y,16))}function bt(y,H){function ge(Ee){return f[Ee]&&f[Ee].resizeFrom==="parent"&&f[Ee].autoResize&&!f[Ee].firstRun}for(var fe in f)ge(fe)&&Ye(y,H,document.getElementById(fe),fe)}function Wt(){ce(window,"message",ae),ce(window,"resize",function(){at("resize")}),ce(document,"visibilitychange",Ut),ce(document,"-webkit-visibilitychange",Ut),ce(window,"focusin",function(){at("focus")}),ce(window,"focus",function(){at("focus")})}function A(){function y(fe,Ee){function Ne(){if(Ee.tagName){if(Ee.tagName.toUpperCase()!=="IFRAME")throw new TypeError("Expected <IFRAME> tag, found <"+Ee.tagName+">")}else throw new TypeError("Object is not a valid DOM element")}Ee&&(Ne(),ft(Ee,fe),ge.push(Ee))}function H(fe){fe&&fe.enablePublicMethods&&O("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var ge;return Le(),Wt(),function(Ee,Ne){switch(ge=[],H(Ee),typeof Ne){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(Ne||"iframe"),y.bind(le,Ee));break;case"object":y(Ee,Ne);break;default:throw new TypeError("Unexpected data type ("+typeof Ne+")")}return ge}}function he(y){y.fn?y.fn.iFrameResize||(y.fn.iFrameResize=function(ge){function fe(Ee,Ne){ft(Ne,ge)}return this.filter("iframe").each(fe).end()}):x("","Unable to bind to jQuery, it is not fully loaded.")}window.jQuery&&he(window.jQuery),j=[],D=A,ye=typeof D=="function"?D.apply(B,j):D,ye!==le&&(l.exports=ye)})()},683:(l,B,D)=>{B.iframeResizer=D(28),B.iframeResizerContentWindow=D(402)},457:l=>{var B=function(){var D=Math.floor(Math.random()*1000001),j={};function ye(E,W,R,ee){function U(f){for(var ue=0;ue<f.length;ue++)if(f[ue].win===E)return!0;return!1}var c=!1;if(W==="*"){for(var K in j)if(j.hasOwnProperty(K)&&K!=="*"&&typeof j[K][R]=="object"&&(c=U(j[K][R]),c))break}else j["*"]&&j["*"][R]&&(c=U(j["*"][R])),!c&&j[W]&&j[W][R]&&(c=U(j[W][R]));if(c)throw"A channel is already bound to the same window which overlaps with origin '"+W+"' and has scope '"+R+"'";typeof j[W]!="object"&&(j[W]={}),typeof j[W][R]!="object"&&(j[W][R]=[]),j[W][R].push({win:E,handler:ee})}function le(E,W,R){for(var ee=j[W][R],U=0;U<ee.length;U++)ee[U].win===E&&ee.splice(U,1);j[W][R].length===0&&delete j[W][R]}function Q(E){return Array.isArray?Array.isArray(E):E.constructor.toString().indexOf("Array")!=-1}var S={},F=function(E){try{var W=JSON.parse(E.data);if(typeof W!="object"||W===null)throw"malformed"}catch{return}var R=E.source,ee=E.origin,U,c,K;if(typeof W.method=="string"){var f=W.method.split("::");f.length==2?(U=f[0],K=f[1]):K=W.method}if(typeof W.id<"u"&&(c=W.id),typeof K=="string"){var ue=!1;if(j[ee]&&j[ee][U]){for(var ve=0;ve<j[ee][U].length;ve++)if(j[ee][U][ve].win===R){j[ee][U][ve].handler(ee,K,W),ue=!0;break}}if(!ue&&j["*"]&&j["*"][U]){for(var ve=0;ve<j["*"][U].length;ve++)if(j["*"][U][ve].win===R){j["*"][U][ve].handler(ee,K,W);break}}}else typeof c<"u"&&S[c]&&S[c](ee,K,W)};return window.addEventListener?window.addEventListener("message",F,!1):window.attachEvent&&window.attachEvent("onmessage",F),{build:function(E){var W=function(x){if(E.debugOutput&&window.console&&window.console.log){try{typeof x!="string"&&(x=JSON.stringify(x))}catch{}console.log("["+U+"] "+x)}};if(!window.postMessage)throw"jschannel cannot run this browser, no postMessage";if(!window.JSON||!window.JSON.stringify||!window.JSON.parse)throw"jschannel cannot run this browser, no JSON parsing/serialization";if(typeof E!="object")throw"Channel build invoked without a proper object argument";if(!E.window||!E.window.postMessage)throw"Channel.build() called without a valid window argument";if(window===E.window)throw"target window is same as present window -- not allowed";var R=!1;if(typeof E.origin=="string"){var ee;E.origin==="*"?R=!0:(ee=E.origin.match(/^https?:\/\/(?:[-a-zA-Z0-9_\.])+(?::\d+)?/))!==null&&(E.origin=ee[0].toLowerCase(),R=!0)}if(!R)throw"Channel.build() called with an invalid origin";if(typeof E.scope<"u"){if(typeof E.scope!="string")throw"scope, when specified, must be a string";if(E.scope.split("::").length>1)throw"scope may not contain double colons: '::'"}var U=function(){for(var x="",O="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",N=0;N<5;N++)x+=O.charAt(Math.floor(Math.random()*O.length));return x}(),c={},K={},f={},ue=!1,ve=[],ce=function(x,O,N){var ae=!1,de=!1;return{origin:O,invoke:function(ne,re){if(!f[x])throw"attempting to invoke a callback of a nonexistent transaction: "+x;for(var Pe=!1,De=0;De<N.length;De++)if(ne===N[De]){Pe=!0;break}if(!Pe)throw"request supports no such callback '"+ne+"'";be({id:x,callback:ne,params:re})},error:function(ne,re){if(de=!0,!f[x])throw"error called for nonexistent message: "+x;delete f[x],be({id:x,error:ne,message:re})},complete:function(ne){if(de=!0,!f[x])throw"complete called for nonexistent message: "+x;delete f[x],be({id:x,result:ne})},delayReturn:function(ne){return typeof ne=="boolean"&&(ae=ne===!0),ae},completed:function(){return de}}},ze=function(x,O,N){return window.setTimeout(function(){if(K[x]){var ae="timeout ("+O+"ms) exceeded on method '"+N+"'";(0,K[x].error)("timeout_error",ae),delete K[x],delete S[x]}},O)},Le=function(x,O,N){if(typeof E.gotMessageObserver=="function")try{E.gotMessageObserver(x,N)}catch(He){W("gotMessageObserver() raised an exception: "+He.toString())}if(N.id&&O){if(c[O]){var ae=ce(N.id,x,N.callbacks?N.callbacks:[]);f[N.id]={};try{if(N.callbacks&&Q(N.callbacks)&&N.callbacks.length>0)for(var de=0;de<N.callbacks.length;de++){for(var ne=N.callbacks[de],re=N.params,Pe=ne.split("/"),De=0;De<Pe.length-1;De++){var yt=Pe[De];typeof re[yt]!="object"&&(re[yt]={}),re=re[yt]}re[Pe[Pe.length-1]]=function(){var He=ne;return function(ft){return ae.invoke(He,ft)}}()}var Me=c[O](ae,N.params);!ae.delayReturn()&&!ae.completed()&&ae.complete(Me)}catch(He){var Ge="runtime_error",Ye=null;if(typeof He=="string"?Ye=He:typeof He=="object"&&(He&&Q(He)&&He.length==2?(Ge=He[0],Ye=He[1]):typeof He.error=="string"&&(Ge=He.error,He.message?typeof He.message=="string"?Ye=He.message:He=He.message:Ye="")),Ye===null)try{Ye=JSON.stringify(He),typeof Ye>"u"&&(Ye=He.toString())}catch{Ye=He.toString()}ae.error(Ge,Ye)}}}else N.id&&N.callback?!K[N.id]||!K[N.id].callbacks||!K[N.id].callbacks[N.callback]?W("ignoring invalid callback, id:"+N.id+" ("+N.callback+")"):K[N.id].callbacks[N.callback](N.params):N.id?K[N.id]?(N.error?(0,K[N.id].error)(N.error,N.message):N.result!==void 0?(0,K[N.id].success)(N.result):(0,K[N.id].success)(),delete K[N.id],delete S[N.id]):W("ignoring invalid response: "+N.id):O&&c[O]&&c[O]({origin:x},N.params)};ye(E.window,E.origin,typeof E.scope=="string"?E.scope:"",Le);var ot=function(x){return typeof E.scope=="string"&&E.scope.length&&(x=[E.scope,x].join("::")),x},be=function(x,O){if(!x)throw"postMessage called with null message";var N=ue?"post  ":"queue ";if(W(N+" message: "+JSON.stringify(x)),!O&&!ue)ve.push(x);else{if(typeof E.postMessageObserver=="function")try{E.postMessageObserver(E.origin,x)}catch(ae){W("postMessageObserver() raised an exception: "+ae.toString())}E.window.postMessage(JSON.stringify(x),E.origin)}},q=function(x,O){if(W("ready msg received"),ue)throw"received ready message while in ready state.  help!";for(O==="ping"?U+="-R":U+="-L",Y.unbind("__ready"),ue=!0,W("ready msg accepted."),O==="ping"&&Y.notify({method:"__ready",params:"pong"});ve.length;)be(ve.pop());typeof E.onReady=="function"&&E.onReady(Y)},Y={unbind:function(x){if(c[x]){if(!delete c[x])throw"can't delete method: "+x;return!0}return!1},bind:function(x,O){if(!x||typeof x!="string")throw"'method' argument to bind must be string";if(!O||typeof O!="function")throw"callback missing from bind params";if(c[x])throw"method '"+x+"' is already bound!";return c[x]=O,this},call:function(x){if(!x)throw"missing arguments to call function";if(!x.method||typeof x.method!="string")throw"'method' argument to call must be string";if(!x.success||typeof x.success!="function")throw"'success' callback missing from call";var O={},N=[],ae=[],de=function(re,Pe){if(ae.indexOf(Pe)>=0)throw"params cannot be a recursive data structure";if(ae.push(Pe),typeof Pe=="object"){for(var De in Pe)if(Pe.hasOwnProperty(De)){var yt=re+(re.length?"/":"")+De;typeof Pe[De]=="function"?(O[yt]=Pe[De],N.push(yt),delete Pe[De]):typeof Pe[De]=="object"&&Pe[De]!==null&&de(yt,Pe[De])}}};de("",x.params);var ne={id:D,method:ot(x.method),params:x.params};N.length&&(ne.callbacks=N),x.timeout&&ze(D,x.timeout,ot(x.method)),K[D]={callbacks:O,error:x.error,success:x.success},S[D]=Le,D++,be(ne)},notify:function(x){if(!x)throw"missing arguments to notify function";if(!x.method||typeof x.method!="string")throw"'method' argument to notify must be string";be({method:ot(x.method),params:x.params})},destroy:function(){le(E.window,E.origin,typeof E.scope=="string"?E.scope:""),window.removeEventListener?window.removeEventListener("message",Le,!1):window.detachEvent&&window.detachEvent("onmessage",Le),ue=!1,c={},f={},K={},E.origin=null,ve=[],W("channel destroyed"),U=""}};return Y.bind("__ready",q),setTimeout(function(){be({method:ot("__ready"),params:"ping"},!0)},0),Y}}}();l.exports=B},705:(l,B,D)=>{var j=D(639),ye=j.Symbol;l.exports=ye},239:(l,B,D)=>{var j=D(705),ye=D(607),le=D(333),Q="[object Null]",S="[object Undefined]",F=j?j.toStringTag:void 0;function E(W){return W==null?W===void 0?S:Q:F&&F in Object(W)?ye(W):le(W)}l.exports=E},957:(l,B,D)=>{var j=typeof D.g=="object"&&D.g&&D.g.Object===Object&&D.g;l.exports=j},924:(l,B,D)=>{var j=D(569),ye=j(Object.getPrototypeOf,Object);l.exports=ye},607:(l,B,D)=>{var j=D(705),ye=Object.prototype,le=ye.hasOwnProperty,Q=ye.toString,S=j?j.toStringTag:void 0;function F(E){var W=le.call(E,S),R=E[S];try{E[S]=void 0;var ee=!0}catch{}var U=Q.call(E);return ee&&(W?E[S]=R:delete E[S]),U}l.exports=F},333:l=>{var B=Object.prototype,D=B.toString;function j(ye){return D.call(ye)}l.exports=j},569:l=>{function B(D,j){return function(ye){return D(j(ye))}}l.exports=B},639:(l,B,D)=>{var j=D(957),ye=typeof self=="object"&&self&&self.Object===Object&&self,le=j||ye||Function("return this")();l.exports=le},469:l=>{var B=Array.isArray;l.exports=B},5:l=>{function B(D){return D!=null&&typeof D=="object"}l.exports=B},630:(l,B,D)=>{var j=D(239),ye=D(924),le=D(5),Q="[object Object]",S=Function.prototype,F=Object.prototype,E=S.toString,W=F.hasOwnProperty,R=E.call(Object);function ee(U){if(!le(U)||j(U)!=Q)return!1;var c=ye(U);if(c===null)return!0;var K=W.call(c,"constructor")&&c.constructor;return typeof K=="function"&&K instanceof K&&E.call(K)==R}l.exports=ee},37:(l,B,D)=>{var j=D(239),ye=D(469),le=D(5),Q="[object String]";function S(F){return typeof F=="string"||!ye(F)&&le(F)&&j(F)==Q}l.exports=S},353:l=>{function B(D){return D===void 0}l.exports=B}},i={};function d(l){var B=i[l];if(B!==void 0)return B.exports;var D=i[l]={exports:{}};return a[l].call(D.exports,D,D.exports,d),D.exports}d.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var p=d(541);m.Addon=p})()})(Uu);(()=>{var m={669:(d,p,l)=>{var B=l(218),D=W(B),j=function(){function K(f,ue){for(var ve=0;ve<ue.length;ve++){var ce=ue[ve];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(f,ce.key,ce)}}return function(f,ue,ve){return ue&&K(f.prototype,ue),ve&&K(f,ve),f}}(),ye=l(457),le=W(ye),Q=l(729),S=W(Q),F=l(702),E=l(303);function W(K){return K&&K.__esModule?K:{default:K}}function R(K,f){if(!(K instanceof f))throw new TypeError("Cannot call a class as a function")}function ee(K,f){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:K}function U(K,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);K.prototype=Object.create(f&&f.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(K,f):K.__proto__=f)}var c=function(K){U(f,K);function f(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};R(this,f);var ve=ee(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));if(ve.options=ue,!ue.iframe)throw new Error("Iframe not defined");return(0,E.iframeResizer)({checkOrigin:!0,heightCalculationMethod:window.ieVersion<=10?"max":"lowestElement",resizeFrom:"child",resizedCallback:function(ze){ve.emit("iframeResized",ze)}},ue.iframe),ve.channel=le.default.build({window:ue.iframe.contentWindow,origin:ue.origin||"*",scope:ue.id||ue.iframe.contentWindow.location.origin,postMessageObserver:function(ze,Le){ve.emit("postMessage",ze,Le)},gotMessageObserver:function(ze,Le){ve.emit("gotMessage",ze,Le)}}),["saveData","request","addTransaction","editTransaction","addInstitution","addInvestment","editInstitution","editAsset","editLiability","deleteInstitution","deleteAsset","deleteLiability","downloadDocument","upgradePremium","getSharings","switchUser"].forEach(function(ce){ve.channel.bind(ce,function(ze,Le){var ot=ce,be=Le;ze.delayReturn(!0);var q=function(x,O){return x?ze.error(x):ze.complete(O)};ve.emit(ot,be||q,be?q:void 0)})}),ve.channel.call({method:"init",params:ue.options,success:function(ze){ve.emit("init",ze)}}),ve}return j(f,[{key:"trigger",value:function(ve,ce){var ze=this,Le={eventName:ve};return ce&&(Le.eventData=ce),new F.Promise(function(ot,be){ze.channel.call({method:"_event",params:Le,success:ot,error:be})})}},{key:"update",value:function(ve){var ce=this;return new F.Promise(function(ze,Le){if(!(0,D.default)(ve))throw new Error("Data must be an object");ce.channel.call({method:"update",params:ve,success:ze,error:Le})})}},{key:"reload",value:function(){var ve=this;return new F.Promise(function(ce,ze){ve.channel.call({method:"reload",success:ce,error:ze})})}},{key:"destroy",value:function(){this.channel.destroy()}}]),f}(S.default);d.exports=c},702:function(d,p,l){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(B,D){d.exports=D()})(this,function(){function B(k){var ie=typeof k;return k!==null&&(ie==="object"||ie==="function")}function D(k){return typeof k=="function"}var j=void 0;Array.isArray?j=Array.isArray:j=function(k){return Object.prototype.toString.call(k)==="[object Array]"};var ye=j,le=0,Q=void 0,S=void 0,F=function(ie,_){Le[le]=ie,Le[le+1]=_,le+=2,le===2&&(S?S(ot):q())};function E(k){S=k}function W(k){F=k}var R=typeof window<"u"?window:void 0,ee=R||{},U=ee.MutationObserver||ee.WebKitMutationObserver,c=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",K=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function f(){return function(){return process.nextTick(ot)}}function ue(){return typeof Q<"u"?function(){Q(ot)}:ze()}function ve(){var k=0,ie=new U(ot),_=document.createTextNode("");return ie.observe(_,{characterData:!0}),function(){_.data=k=++k%2}}function ce(){var k=new MessageChannel;return k.port1.onmessage=ot,function(){return k.port2.postMessage(0)}}function ze(){var k=setTimeout;return function(){return k(ot,1)}}var Le=new Array(1e3);function ot(){for(var k=0;k<le;k+=2){var ie=Le[k],_=Le[k+1];ie(_),Le[k]=void 0,Le[k+1]=void 0}le=0}function be(){try{var k=Function("return this")().require("vertx");return Q=k.runOnLoop||k.runOnContext,ue()}catch{return ze()}}var q=void 0;c?q=f():U?q=ve():K?q=ce():R===void 0?q=be():q=ze();function Y(k,ie){var _=this,I=new this.constructor(N);I[O]===void 0&&he(I);var w=_._state;if(w){var L=arguments[w-1];F(function(){return Ut(w,I,L,_._result)})}else wt(_,I,k,ie);return I}function x(k){var ie=this;if(k&&typeof k=="object"&&k.constructor===ie)return k;var _=new ie(N);return Ye(_,k),_}var O=Math.random().toString(36).substring(2);function N(){}var ae=void 0,de=1,ne=2;function re(){return new TypeError("You cannot resolve a promise with itself")}function Pe(){return new TypeError("A promises callback cannot return that same promise.")}function De(k,ie,_,I){try{k.call(ie,_,I)}catch(w){return w}}function yt(k,ie,_){F(function(I){var w=!1,L=De(_,ie,function($){w||(w=!0,ie!==$?Ye(I,$):ft(I,$))},function($){w||(w=!0,lt(I,$))},"Settle: "+(I._label||" unknown promise"));!w&&L&&(w=!0,lt(I,L))},k)}function Me(k,ie){ie._state===de?ft(k,ie._result):ie._state===ne?lt(k,ie._result):wt(ie,void 0,function(_){return Ye(k,_)},function(_){return lt(k,_)})}function Ge(k,ie,_){ie.constructor===k.constructor&&_===Y&&ie.constructor.resolve===x?Me(k,ie):_===void 0?ft(k,ie):D(_)?yt(k,ie,_):ft(k,ie)}function Ye(k,ie){if(k===ie)lt(k,re());else if(B(ie)){var _=void 0;try{_=ie.then}catch(I){lt(k,I);return}Ge(k,ie,_)}else ft(k,ie)}function He(k){k._onerror&&k._onerror(k._result),at(k)}function ft(k,ie){k._state===ae&&(k._result=ie,k._state=de,k._subscribers.length!==0&&F(at,k))}function lt(k,ie){k._state===ae&&(k._state=ne,k._result=ie,F(He,k))}function wt(k,ie,_,I){var w=k._subscribers,L=w.length;k._onerror=null,w[L]=ie,w[L+de]=_,w[L+ne]=I,L===0&&k._state&&F(at,k)}function at(k){var ie=k._subscribers,_=k._state;if(ie.length!==0){for(var I=void 0,w=void 0,L=k._result,$=0;$<ie.length;$+=3)I=ie[$],w=ie[$+_],I?Ut(_,I,w,L):w(L);k._subscribers.length=0}}function Ut(k,ie,_,I){var w=D(_),L=void 0,$=void 0,X=!0;if(w){try{L=_(I)}catch(Je){X=!1,$=Je}if(ie===L){lt(ie,Pe());return}}else L=I;ie._state!==ae||(w&&X?Ye(ie,L):X===!1?lt(ie,$):k===de?ft(ie,L):k===ne&&lt(ie,L))}function bt(k,ie){try{ie(function(I){Ye(k,I)},function(I){lt(k,I)})}catch(_){lt(k,_)}}var Wt=0;function A(){return Wt++}function he(k){k[O]=Wt++,k._state=void 0,k._result=void 0,k._subscribers=[]}function y(){return new Error("Array Methods must be provided an Array")}var H=function(){function k(ie,_){this._instanceConstructor=ie,this.promise=new ie(N),this.promise[O]||he(this.promise),ye(_)?(this.length=_.length,this._remaining=_.length,this._result=new Array(this.length),this.length===0?ft(this.promise,this._result):(this.length=this.length||0,this._enumerate(_),this._remaining===0&&ft(this.promise,this._result))):lt(this.promise,y())}return k.prototype._enumerate=function(_){for(var I=0;this._state===ae&&I<_.length;I++)this._eachEntry(_[I],I)},k.prototype._eachEntry=function(_,I){var w=this._instanceConstructor,L=w.resolve;if(L===x){var $=void 0,X=void 0,Je=!1;try{$=_.then}catch(zt){Je=!0,X=zt}if($===Y&&_._state!==ae)this._settledAt(_._state,I,_._result);else if(typeof $!="function")this._remaining--,this._result[I]=_;else if(w===Ce){var ct=new w(N);Je?lt(ct,X):Ge(ct,_,$),this._willSettleAt(ct,I)}else this._willSettleAt(new w(function(zt){return zt(_)}),I)}else this._willSettleAt(L(_),I)},k.prototype._settledAt=function(_,I,w){var L=this.promise;L._state===ae&&(this._remaining--,_===ne?lt(L,w):this._result[I]=w),this._remaining===0&&ft(L,this._result)},k.prototype._willSettleAt=function(_,I){var w=this;wt(_,void 0,function(L){return w._settledAt(de,I,L)},function(L){return w._settledAt(ne,I,L)})},k}();function ge(k){return new H(this,k).promise}function fe(k){var ie=this;return ye(k)?new ie(function(_,I){for(var w=k.length,L=0;L<w;L++)ie.resolve(k[L]).then(_,I)}):new ie(function(_,I){return I(new TypeError("You must pass an array to race."))})}function Ee(k){var ie=this,_=new ie(N);return lt(_,k),_}function Ne(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function _t(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Ce=function(){function k(ie){this[O]=A(),this._result=this._state=void 0,this._subscribers=[],N!==ie&&(typeof ie!="function"&&Ne(),this instanceof k?bt(this,ie):_t())}return k.prototype.catch=function(_){return this.then(null,_)},k.prototype.finally=function(_){var I=this,w=I.constructor;return D(_)?I.then(function(L){return w.resolve(_()).then(function(){return L})},function(L){return w.resolve(_()).then(function(){throw L})}):I.then(_,_)},k}();Ce.prototype.then=Y,Ce.all=ge,Ce.race=fe,Ce.resolve=x,Ce.reject=Ee,Ce._setScheduler=E,Ce._setAsap=W,Ce._asap=F;function Tt(){var k=void 0;if(typeof l.g<"u")k=l.g;else if(typeof self<"u")k=self;else try{k=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ie=k.Promise;if(ie){var _=null;try{_=Object.prototype.toString.call(ie.resolve())}catch{}if(_==="[object Promise]"&&!ie.cast)return}k.Promise=Ce}return Ce.polyfill=Tt,Ce.Promise=Ce,Ce})},729:d=>{var p=Object.prototype.hasOwnProperty,l="~";function B(){}Object.create&&(B.prototype=Object.create(null),new B().__proto__||(l=!1));function D(Q,S,F){this.fn=Q,this.context=S,this.once=F||!1}function j(Q,S,F,E,W){if(typeof F!="function")throw new TypeError("The listener must be a function");var R=new D(F,E||Q,W),ee=l?l+S:S;return Q._events[ee]?Q._events[ee].fn?Q._events[ee]=[Q._events[ee],R]:Q._events[ee].push(R):(Q._events[ee]=R,Q._eventsCount++),Q}function ye(Q,S){--Q._eventsCount===0?Q._events=new B:delete Q._events[S]}function le(){this._events=new B,this._eventsCount=0}le.prototype.eventNames=function(){var S=[],F,E;if(this._eventsCount===0)return S;for(E in F=this._events)p.call(F,E)&&S.push(l?E.slice(1):E);return Object.getOwnPropertySymbols?S.concat(Object.getOwnPropertySymbols(F)):S},le.prototype.listeners=function(S){var F=l?l+S:S,E=this._events[F];if(!E)return[];if(E.fn)return[E.fn];for(var W=0,R=E.length,ee=new Array(R);W<R;W++)ee[W]=E[W].fn;return ee},le.prototype.listenerCount=function(S){var F=l?l+S:S,E=this._events[F];return E?E.fn?1:E.length:0},le.prototype.emit=function(S,F,E,W,R,ee){var U=l?l+S:S;if(!this._events[U])return!1;var c=this._events[U],K=arguments.length,f,ue;if(c.fn){switch(c.once&&this.removeListener(S,c.fn,void 0,!0),K){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,F),!0;case 3:return c.fn.call(c.context,F,E),!0;case 4:return c.fn.call(c.context,F,E,W),!0;case 5:return c.fn.call(c.context,F,E,W,R),!0;case 6:return c.fn.call(c.context,F,E,W,R,ee),!0}for(ue=1,f=new Array(K-1);ue<K;ue++)f[ue-1]=arguments[ue];c.fn.apply(c.context,f)}else{var ve=c.length,ce;for(ue=0;ue<ve;ue++)switch(c[ue].once&&this.removeListener(S,c[ue].fn,void 0,!0),K){case 1:c[ue].fn.call(c[ue].context);break;case 2:c[ue].fn.call(c[ue].context,F);break;case 3:c[ue].fn.call(c[ue].context,F,E);break;case 4:c[ue].fn.call(c[ue].context,F,E,W);break;default:if(!f)for(ce=1,f=new Array(K-1);ce<K;ce++)f[ce-1]=arguments[ce];c[ue].fn.apply(c[ue].context,f)}}return!0},le.prototype.on=function(S,F,E){return j(this,S,F,E,!1)},le.prototype.once=function(S,F,E){return j(this,S,F,E,!0)},le.prototype.removeListener=function(S,F,E,W){var R=l?l+S:S;if(!this._events[R])return this;if(!F)return ye(this,R),this;var ee=this._events[R];if(ee.fn)ee.fn===F&&(!W||ee.once)&&(!E||ee.context===E)&&ye(this,R);else{for(var U=0,c=[],K=ee.length;U<K;U++)(ee[U].fn!==F||W&&!ee[U].once||E&&ee[U].context!==E)&&c.push(ee[U]);c.length?this._events[R]=c.length===1?c[0]:c:ye(this,R)}return this},le.prototype.removeAllListeners=function(S){var F;return S?(F=l?l+S:S,this._events[F]&&ye(this,F)):(this._events=new B,this._eventsCount=0),this},le.prototype.off=le.prototype.removeListener,le.prototype.addListener=le.prototype.on,le.prefixed=l,le.EventEmitter=le,d.exports=le},303:(d,p,l)=>{d.exports=l(683)},402:d=>{(function(p){if(typeof window>"u")return;var l=!0,B=10,D="",j=0,ye="",le=null,Q="",S=!1,F={resize:1,click:1},E=128,W=!0,R=1,ee="bodyOffset",U=ee,c=!0,K="",f={},ue=32,ve=null,ce=!1,ze="[iFrameSizer]",Le=ze.length,ot="",be={max:1,min:1,bodyScroll:1,documentElementScroll:1},q="child",Y=!0,x=window.parent,O="*",N=0,ae=!1,de=null,ne=16,re=1,Pe="scroll",De=Pe,yt=window,Me=function(){he("MessageCallback function not defined")},Ge=function(){},Ye=function(){},He={height:function(){return he("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return he("Custom width calculation function not defined"),document.body.scrollWidth}},ft={};function lt(P,V,g){"addEventListener"in window?P.addEventListener(V,g,!1):"attachEvent"in window&&P.attachEvent("on"+V,g)}function wt(P,V,g){"removeEventListener"in window?P.removeEventListener(V,g,!1):"detachEvent"in window&&P.detachEvent("on"+V,g)}function at(P){return P.charAt(0).toUpperCase()+P.slice(1)}function Ut(P){var V,g,C,oe=null,xe=0,Ie=function(){xe=bt(),oe=null,C=P.apply(V,g),oe||(V=g=null)};return function(){var je=bt();xe||(xe=je);var Qe=ne-(je-xe);return V=this,g=arguments,Qe<=0||Qe>ne?(oe&&(clearTimeout(oe),oe=null),xe=je,C=P.apply(V,g),oe||(V=g=null)):oe||(oe=setTimeout(Ie,Qe)),C}}var bt=Date.now||function(){return new Date().getTime()};function Wt(P){return ze+"["+ot+"] "+P}function A(P){ce&&typeof window.console=="object"&&console.log(Wt(P))}function he(P){typeof window.console=="object"&&console.warn(Wt(P))}function y(){H(),A("Initialising iFrame ("+location.href+")"),ge(),Ne(),Ee("background",D),Ee("padding",Q),ct(),ie(),_(),_t(),fn(),I(),f=zt(),Sn("init","Init message from host page"),Ge()}function H(){function P(g){return g==="true"}var V=K.substr(Le).split(":");ot=V[0],j=p!==V[1]?Number(V[1]):j,S=p!==V[2]?P(V[2]):S,ce=p!==V[3]?P(V[3]):ce,ue=p!==V[4]?Number(V[4]):ue,l=p!==V[6]?P(V[6]):l,ye=V[7],U=p!==V[8]?V[8]:U,D=V[9],Q=V[10],N=p!==V[11]?Number(V[11]):N,f.enable=p!==V[12]?P(V[12]):!1,q=p!==V[13]?V[13]:q,De=p!==V[14]?V[14]:De}function ge(){function P(){var g=window.iFrameResizer;A("Reading data from page: "+JSON.stringify(g)),Me="messageCallback"in g?g.messageCallback:Me,Ge="readyCallback"in g?g.readyCallback:Ge,O="targetOrigin"in g?g.targetOrigin:O,U="heightCalculationMethod"in g?g.heightCalculationMethod:U,De="widthCalculationMethod"in g?g.widthCalculationMethod:De}function V(g,C){return typeof g=="function"&&(A("Setup custom "+C+"CalcMethod"),He[C]=g,g="custom"),g}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(P(),U=V(U,"height"),De=V(De,"width")),A("TargetOrigin for parent set to: "+O)}function fe(P,V){return V.indexOf("-")!==-1&&(he("Negative CSS value ignored for "+P),V=""),V}function Ee(P,V){p!==V&&V!==""&&V!=="null"&&(document.body.style[P]=V,A("Body "+P+' set to "'+V+'"'))}function Ne(){p===ye&&(ye=j+"px"),Ee("margin",fe("margin",ye))}function _t(){document.documentElement.style.height="",document.body.style.height="",A('HTML & body height set to "auto"')}function Ce(P){var V={add:function(g){function C(){Sn(P.eventName,P.eventType)}ft[g]=C,lt(window,g,C)},remove:function(g){var C=ft[g];delete ft[g],wt(window,g,C)}};P.eventNames&&Array.prototype.map?(P.eventName=P.eventNames[0],P.eventNames.map(V[P.method])):V[P.method](P.eventName),A(at(P.method)+" event listener: "+P.eventType)}function Tt(P){Ce({method:P,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),Ce({method:P,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),Ce({method:P,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),Ce({method:P,eventType:"Input",eventName:"input"}),Ce({method:P,eventType:"Mouse Up",eventName:"mouseup"}),Ce({method:P,eventType:"Mouse Down",eventName:"mousedown"}),Ce({method:P,eventType:"Orientation Change",eventName:"orientationchange"}),Ce({method:P,eventType:"Print",eventName:["afterprint","beforeprint"]}),Ce({method:P,eventType:"Ready State Change",eventName:"readystatechange"}),Ce({method:P,eventType:"Touch Start",eventName:"touchstart"}),Ce({method:P,eventType:"Touch End",eventName:"touchend"}),Ce({method:P,eventType:"Touch Cancel",eventName:"touchcancel"}),Ce({method:P,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),Ce({method:P,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),Ce({method:P,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),q==="child"&&Ce({method:P,eventType:"IFrame Resized",eventName:"resize"})}function k(P,V,g,C){return V!==P&&(P in g||(he(P+" is not a valid option for "+C+"CalculationMethod."),P=V),A(C+' calculation method set to "'+P+'"')),P}function ie(){U=k(U,ee,rt,"height")}function _(){De=k(De,Pe,pt,"width")}function I(){l===!0?(Tt("add"),Te()):A("Auto Resize disabled")}function w(){A("Disable outgoing messages"),Y=!1}function L(){A("Remove event listener: Message"),wt(window,"message",lr)}function $(){le!==null&&le.disconnect()}function X(){Tt("remove"),$(),clearInterval(ve)}function Je(){w(),L(),l===!0&&X()}function ct(){var P=document.createElement("div");P.style.clear="both",P.style.display="block",document.body.appendChild(P)}function zt(){function P(){return{x:window.pageXOffset!==p?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==p?window.pageYOffset:document.documentElement.scrollTop}}function V(Qe){var et=Qe.getBoundingClientRect(),Re=P();return{x:parseInt(et.left,10)+parseInt(Re.x,10),y:parseInt(et.top,10)+parseInt(Re.y,10)}}function g(Qe){function et(Ke){var Lt=V(Ke);A("Moving to in page link (#"+Re+") at x: "+Lt.x+" y: "+Lt.y),Zt(Lt.y,Lt.x,"scrollToOffset")}var Re=Qe.split("#")[1]||Qe,Fe=decodeURIComponent(Re),Xe=document.getElementById(Fe)||document.getElementsByName(Fe)[0];p!==Xe?et(Xe):(A("In page link (#"+Re+") not found in iFrame, so sending to parent"),Zt(0,0,"inPageLink","#"+Re))}function C(){location.hash!==""&&location.hash!=="#"&&g(location.href)}function oe(){function Qe(et){function Re(Fe){Fe.preventDefault(),g(this.getAttribute("href"))}et.getAttribute("href")!=="#"&&lt(et,"click",Re)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),Qe)}function xe(){lt(window,"hashchange",C)}function Ie(){setTimeout(C,E)}function je(){Array.prototype.forEach&&document.querySelectorAll?(A("Setting up location.hash handlers"),oe(),xe(),Ie()):he("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return f.enable?je():A("In page linking not enabled"),{findTarget:g}}function fn(){A("Enable public methods"),yt.parentIFrame={autoResize:function(V){return V===!0&&l===!1?(l=!0,I()):V===!1&&l===!0&&(l=!1,X()),l},close:function(){Zt(0,0,"close"),Je()},getId:function(){return ot},getPageInfo:function(V){typeof V=="function"?(Ye=V,Zt(0,0,"pageInfo")):(Ye=function(){},Zt(0,0,"pageInfoStop"))},moveToAnchor:function(V){f.findTarget(V)},reset:function(){ur("parentIFrame.reset")},scrollTo:function(V,g){Zt(g,V,"scrollTo")},scrollToOffset:function(V,g){Zt(g,V,"scrollToOffset")},sendMessage:function(V,g){Zt(0,0,"message",JSON.stringify(V),g)},setHeightCalculationMethod:function(V){U=V,ie()},setWidthCalculationMethod:function(V){De=V,_()},setTargetOrigin:function(V){A("Set targetOrigin: "+V),O=V},size:function(V,g){var C=""+(V||"")+(g?","+g:"");Sn("size","parentIFrame.size("+C+")",V,g)}}}function Ft(){ue!==0&&(A("setInterval: "+ue+"ms"),ve=setInterval(function(){Sn("interval","setInterval: "+ue)},Math.abs(ue)))}function xt(){function P(Fe){function Xe(Ke){Ke.complete===!1&&(A("Attach listeners to "+Ke.src),Ke.addEventListener("load",oe,!1),Ke.addEventListener("error",xe,!1),Qe.push(Ke))}Fe.type==="attributes"&&Fe.attributeName==="src"?Xe(Fe.target):Fe.type==="childList"&&Array.prototype.forEach.call(Fe.target.querySelectorAll("img"),Xe)}function V(Fe){Qe.splice(Qe.indexOf(Fe),1)}function g(Fe){A("Remove listeners from "+Fe.src),Fe.removeEventListener("load",oe,!1),Fe.removeEventListener("error",xe,!1),V(Fe)}function C(Fe,Xe,Ke){g(Fe.target),Sn(Xe,Ke+": "+Fe.target.src,p,p)}function oe(Fe){C(Fe,"imageLoad","Image loaded")}function xe(Fe){C(Fe,"imageLoadFailed","Image load failed")}function Ie(Fe){Sn("mutationObserver","mutationObserver: "+Fe[0].target+" "+Fe[0].type),Fe.forEach(P)}function je(){var Fe=document.querySelector("body"),Xe={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return Re=new et(Ie),A("Create body MutationObserver"),Re.observe(Fe,Xe),Re}var Qe=[],et=window.MutationObserver||window.WebKitMutationObserver,Re=je();return{disconnect:function(){"disconnect"in Re&&(A("Disconnect body MutationObserver"),Re.disconnect(),Qe.forEach(g))}}}function Te(){var P=0>ue;window.MutationObserver||window.WebKitMutationObserver?P?Ft():le=xt():(A("MutationObserver not supported in this browser!"),Ft())}function pe(P,V){function g(oe){var xe=/^\d+(px)?$/i;if(xe.test(oe))return parseInt(oe,B);var Ie=V.style.left,je=V.runtimeStyle.left;return V.runtimeStyle.left=V.currentStyle.left,V.style.left=oe||0,oe=V.style.pixelLeft,V.style.left=Ie,V.runtimeStyle.left=je,oe}var C=0;return V=V||document.body,"defaultView"in document&&"getComputedStyle"in document.defaultView?(C=document.defaultView.getComputedStyle(V,null),C=C!==null?C[P]:0):C=g(V.currentStyle[P]),parseInt(C,B)}function _e(P){P>ne/2&&(ne=2*P,A("Event throttle increased to "+ne+"ms"))}function me(P,V){for(var g=V.length,C=0,oe=0,xe=at(P),Ie=bt(),je=0;je<g;je++)C=V[je].getBoundingClientRect()[P]+pe("margin"+xe,V[je]),C>oe&&(oe=C);return Ie=bt()-Ie,A("Parsed "+g+" HTML elements"),A("Element position calculated in "+Ie+"ms"),_e(Ie),oe}function Se(P){return[P.bodyOffset(),P.bodyScroll(),P.documentElementOffset(),P.documentElementScroll()]}function Ze(P,V){function g(){return he("No tagged elements ("+V+") found on page"),document.querySelectorAll("body *")}var C=document.querySelectorAll("["+V+"]");return C.length===0&&g(),me(P,C)}function qe(){return document.querySelectorAll("body *")}var rt={bodyOffset:function(){return document.body.offsetHeight+pe("marginTop")+pe("marginBottom")},offset:function(){return rt.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return He.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,Se(rt))},min:function(){return Math.min.apply(null,Se(rt))},grow:function(){return rt.max()},lowestElement:function(){return Math.max(rt.bodyOffset(),me("bottom",qe()))},taggedElement:function(){return Ze("bottom","data-iframe-height")}},pt={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return He.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(pt.bodyScroll(),pt.documentElementScroll())},max:function(){return Math.max.apply(null,Se(pt))},min:function(){return Math.min.apply(null,Se(pt))},rightMostElement:function(){return me("right",qe())},taggedElement:function(){return Ze("right","data-iframe-width")}};function Pt(P,V,g,C){function oe(){R=Re,re=Fe,Zt(R,re,P)}function xe(){function Xe(Ke,Lt){var Qt=Math.abs(Ke-Lt)<=N;return!Qt}return Re=p!==g?g:rt[U](),Fe=p!==C?C:pt[De](),Xe(R,Re)||S&&Xe(re,Fe)}function Ie(){return!(P in{init:1,interval:1,size:1})}function je(){return U in be||S&&De in be}function Qe(){A("No change in size detected")}function et(){Ie()&&je()?ur(V):P in{interval:1}||Qe()}var Re,Fe;xe()||P==="init"?(Vn(),oe()):et()}var Vt=Ut(Pt);function Sn(P,V,g,C){function oe(){P in{reset:1,resetPage:1,init:1}||A("Trigger event: "+V)}function xe(){return ae&&P in F}xe()?A("Trigger event cancelled: "+P):(oe(),Vt(P,V,g,C))}function Vn(){ae||(ae=!0,A("Trigger event lock on")),clearTimeout(de),de=setTimeout(function(){ae=!1,A("Trigger event lock off"),A("--")},E)}function mn(P){R=rt[U](),re=pt[De](),Zt(R,re,P)}function ur(P){var V=U;U=ee,A("Reset trigger event: "+P),Vn(),mn("reset"),U=V}function Zt(P,V,g,C,oe){function xe(){p===oe?oe=O:A("Message targetOrigin: "+oe)}function Ie(){var je=P+":"+V,Qe=ot+":"+je+":"+g+(p!==C?":"+C:"");A("Sending message to host page ("+Qe+")"),x.postMessage(ze+Qe,oe)}Y===!0&&(xe(),Ie())}function lr(P){var V={init:function(){function Re(){K=P.data,x=P.source,y(),W=!1,setTimeout(function(){c=!1},E)}document.readyState==="interactive"||document.readyState==="complete"?Re():(A("Waiting for page ready"),lt(window,"readystatechange",V.initFromParent))},reset:function(){c?A("Page reset ignored by init"):(A("Page size reset by host page"),mn("resetPage"))},resize:function(){Sn("resizeParent","Parent window requested size check")},moveToAnchor:function(){f.findTarget(oe())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var Re=oe();A("PageInfoFromParent called from parent: "+Re),Ye(JSON.parse(Re)),A(" --")},message:function(){var Re=oe();A("MessageCallback called from parent: "+Re),Me(JSON.parse(Re)),A(" --")}};function g(){return ze===(""+P.data).substr(0,Le)}function C(){return P.data.split("]")[1].split(":")[0]}function oe(){return P.data.substr(P.data.indexOf(":")+1)}function xe(){return!d.exports&&"iFrameResize"in window}function Ie(){return P.data.split(":")[2]in{true:1,false:1}}function je(){var et=C();et in V?V[et]():!xe()&&!Ie()&&he("Unexpected message ("+P.data+")")}function Qe(){W===!1?je():Ie()?V.init():A('Ignored message of type "'+C()+'". Received before initialization.')}g()&&Qe()}function an(){document.readyState!=="loading"&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}lt(window,"message",lr),an()})()},28:(d,p)=>{var l,B,D;(function(j){if(typeof window>"u")return;var ye=0,le=!1,Q=!1,S="message",F=S.length,E="[iFrameSizer]",W=E.length,R=null,ee=window.requestAnimationFrame,U={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},c={},K=null,f={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){Y("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};function ue(A,he,y){"addEventListener"in window?A.addEventListener(he,y,!1):"attachEvent"in window&&A.attachEvent("on"+he,y)}function ve(A,he,y){"removeEventListener"in window?A.removeEventListener(he,y,!1):"detachEvent"in window&&A.detachEvent("on"+he,y)}function ce(){var A=["moz","webkit","o","ms"],he;for(he=0;he<A.length&&!ee;he+=1)ee=window[A[he]+"RequestAnimationFrame"];ee||be("setup","RequestAnimationFrame not supported")}function ze(A){var he="Host page: "+A;return window.top!==window.self&&(window.parentIFrame&&window.parentIFrame.getId?he=window.parentIFrame.getId()+": "+A:he="Nested host page: "+A),he}function Le(A){return E+"["+ze(A)+"]"}function ot(A){return c[A]?c[A].log:le}function be(A,he){x("log",A,he,ot(A))}function q(A,he){x("info",A,he,ot(A))}function Y(A,he){x("warn",A,he,!0)}function x(A,he,y,H){H===!0&&typeof window.console=="object"&&console[A](Le(he),y)}function O(A){function he(){function pe(){De(xt),ne(Te),X("resizedCallback",xt)}H("Height"),H("Width"),yt(pe,xt,"init")}function y(){var pe=Ft.substr(W).split(":");return{iframe:c[pe[0]]&&c[pe[0]].iframe,id:pe[0],height:pe[1],width:pe[2],type:pe[3]}}function H(pe){var _e=Number(c[Te]["max"+pe]),me=Number(c[Te]["min"+pe]),Se=pe.toLowerCase(),Ze=Number(xt[Se]);be(Te,"Checking "+Se+" is in range "+me+"-"+_e),Ze<me&&(Ze=me,be(Te,"Set "+Se+" to min value")),Ze>_e&&(Ze=_e,be(Te,"Set "+Se+" to max value")),xt[Se]=""+Ze}function ge(){function pe(){function Se(){var qe=0,rt=!1;for(be(Te,"Checking connection is from allowed list of origins: "+me);qe<me.length;qe++)if(me[qe]===_e){rt=!0;break}return rt}function Ze(){var qe=c[Te]&&c[Te].remoteHost;return be(Te,"Checking connection is from: "+qe),_e===qe}return me.constructor===Array?Se():Ze()}var _e=A.origin,me=c[Te]&&c[Te].checkOrigin;if(me&&""+_e!="null"&&!pe())throw new Error("Unexpected message received from: "+_e+" for "+xt.iframe.id+". Message was: "+A.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function fe(){return E===(""+Ft).substr(0,W)&&Ft.substr(W).split(":")[0]in c}function Ee(){var pe=xt.type in{true:1,false:1,undefined:1};return pe&&be(Te,"Ignoring init message from meta parent page"),pe}function Ne(pe){return Ft.substr(Ft.indexOf(":")+F+pe)}function _t(pe){be(Te,"MessageCallback passed: {iframe: "+xt.iframe.id+", message: "+pe+"}"),X("messageCallback",{iframe:xt.iframe,message:JSON.parse(pe)}),be(Te,"--")}function Ce(){var pe=document.body.getBoundingClientRect(),_e=xt.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:_e.height,iframeWidth:_e.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(_e.top-pe.top,10),offsetLeft:parseInt(_e.left-pe.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})}function Tt(pe,_e){function me(){Me("Send Page Info","pageInfo:"+Ce(),pe,_e)}He(me,32)}function k(){function pe(Ze,qe){function rt(){c[Se]?Tt(c[Se].iframe,Se):_e()}["scroll","resize"].forEach(function(pt){be(Se,Ze+pt+" listener for sendPageInfo"),qe(window,pt,rt)})}function _e(){pe("Remove ",ve)}function me(){pe("Add ",ue)}var Se=Te;me(),c[Se]&&(c[Se].stopPageInfo=_e)}function ie(){c[Te]&&c[Te].stopPageInfo&&(c[Te].stopPageInfo(),delete c[Te].stopPageInfo)}function _(){var pe=!0;return xt.iframe===null&&(Y(Te,"IFrame ("+xt.id+") not found"),pe=!1),pe}function I(pe){var _e=pe.getBoundingClientRect();return de(Te),{x:Math.floor(Number(_e.left)+Number(R.x)),y:Math.floor(Number(_e.top)+Number(R.y))}}function w(pe){function _e(){R=qe,L(),be(Te,"--")}function me(){return{x:Number(xt.width)+Ze.x,y:Number(xt.height)+Ze.y}}function Se(){window.parentIFrame?window.parentIFrame["scrollTo"+(pe?"Offset":"")](qe.x,qe.y):Y(Te,"Unable to scroll to requested position, window.parentIFrame not found")}var Ze=pe?I(xt.iframe):{x:0,y:0},qe=me();be(Te,"Reposition requested from iFrame (offset x:"+Ze.x+" y:"+Ze.y+")"),window.top!==window.self?Se():_e()}function L(){X("scrollCallback",R)!==!1?ne(Te):re()}function $(pe){function _e(){var rt=I(qe);be(Te,"Moving to in page link (#"+Se+") at x: "+rt.x+" y: "+rt.y),R={x:rt.x,y:rt.y},L(),be(Te,"--")}function me(){window.parentIFrame?window.parentIFrame.moveToAnchor(Se):be(Te,"In page link #"+Se+" not found and window.parentIFrame not found")}var Se=pe.split("#")[1]||"",Ze=decodeURIComponent(Se),qe=document.getElementById(Ze)||document.getElementsByName(Ze)[0];qe?_e():window.top!==window.self?me():be(Te,"In page link #"+Se+" not found")}function X(pe,_e){return N(Te,pe,_e)}function Je(){switch(c[Te]&&c[Te].firstRun&&fn(),xt.type){case"close":c[Te].closeRequestCallback?N(Te,"closeRequestCallback",c[Te].iframe):ae(xt.iframe);break;case"message":_t(Ne(6));break;case"scrollTo":w(!1);break;case"scrollToOffset":w(!0);break;case"pageInfo":Tt(c[Te]&&c[Te].iframe,Te),k();break;case"pageInfoStop":ie();break;case"inPageLink":$(Ne(9));break;case"reset":Pe(xt);break;case"init":he(),X("initCallback",xt.iframe);break;default:he()}}function ct(pe){var _e=!0;return c[pe]||(_e=!1,Y(xt.type+" No settings for "+pe+". Message was: "+Ft)),_e}function zt(){for(var pe in c)Me("iFrame requested init",Ge(pe),document.getElementById(pe),pe)}function fn(){c[Te]&&(c[Te].firstRun=!1)}var Ft=A.data,xt={},Te=null;Ft==="[iFrameResizerChild]Ready"?zt():fe()?(xt=y(),Te=xt.id,c[Te]&&(c[Te].loaded=!0),!Ee()&&ct(Te)&&(be(Te,"Received: "+Ft),_()&&ge()&&Je())):q(Te,"Ignored: "+Ft)}function N(A,he,y){var H=null,ge=null;if(c[A])if(H=c[A][he],typeof H=="function")ge=H(y);else throw new TypeError(he+" on iFrame["+A+"] is not a function");return ge}function ae(A){var he=A.id;be(he,"Removing iFrame: "+he),A.parentNode&&A.parentNode.removeChild(A),N(he,"closedCallback",he),be(he,"--"),delete c[he]}function de(A){R===null&&(R={x:window.pageXOffset!==j?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==j?window.pageYOffset:document.documentElement.scrollTop},be(A,"Get page position: "+R.x+","+R.y))}function ne(A){R!==null&&(window.scrollTo(R.x,R.y),be(A,"Set page position: "+R.x+","+R.y),re())}function re(){R=null}function Pe(A){function he(){De(A),Me("reset","reset",A.iframe,A.id)}be(A.id,"Size reset requested by "+(A.type==="init"?"host page":"iFrame")),de(A.id),yt(he,A,"reset")}function De(A){function he(fe){A.iframe.style[fe]=A[fe]+"px",be(A.id,"IFrame ("+ge+") "+fe+" set to "+A[fe]+"px")}function y(fe){!Q&&A[fe]==="0"&&(Q=!0,be(ge,"Hidden iFrame detected, creating visibility listener"),ft())}function H(fe){he(fe),y(fe)}var ge=A.iframe.id;c[ge]&&(c[ge].sizeHeight&&H("height"),c[ge].sizeWidth&&H("width"))}function yt(A,he,y){y!==he.type&&ee?(be(he.id,"Requesting animation frame"),ee(A)):A()}function Me(A,he,y,H,ge){function fe(){var Tt=c[H]&&c[H].targetOrigin;be(H,"["+A+"] Sending msg to iframe["+H+"] ("+he+") targetOrigin: "+Tt),y.contentWindow.postMessage(E+he,Tt)}function Ee(){Y(H,"["+A+"] IFrame("+H+") not found")}function Ne(){y&&"contentWindow"in y&&y.contentWindow!==null?fe():Ee()}function _t(){function Tt(){c[H]&&!c[H].loaded&&!Ce&&(Ce=!0,Y(H,"IFrame has not responded within "+c[H].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ingored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}ge&&c[H]&&c[H].warningTimeout&&(c[H].msgTimeout=setTimeout(Tt,c[H].warningTimeout))}var Ce=!1;H=H||y.id,c[H]&&(Ne(),_t())}function Ge(A){return A+":"+c[A].bodyMarginV1+":"+c[A].sizeWidth+":"+c[A].log+":"+c[A].interval+":"+c[A].enablePublicMethods+":"+c[A].autoResize+":"+c[A].bodyMargin+":"+c[A].heightCalculationMethod+":"+c[A].bodyBackground+":"+c[A].bodyPadding+":"+c[A].tolerance+":"+c[A].inPageLinks+":"+c[A].resizeFrom+":"+c[A].widthCalculationMethod}function Ye(A,he){function y(){function L(X){c[w][X]!==1/0&&c[w][X]!==0&&(A.style[X]=c[w][X]+"px",be(w,"Set "+X+" = "+c[w][X]+"px"))}function $(X){if(c[w]["min"+X]>c[w]["max"+X])throw new Error("Value for min"+X+" can not be greater than max"+X)}$("Height"),$("Width"),L("maxHeight"),L("minHeight"),L("maxWidth"),L("minWidth")}function H(){var L=he&&he.id||f.id+ye++;return document.getElementById(L)!==null&&(L=L+ye++),L}function ge(L){return L===""&&(A.id=L=H(),le=(he||{}).log,be(L,"Added missing iframe ID: "+L+" ("+A.src+")")),L}function fe(){switch(be(w,"IFrame scrolling "+(c[w]&&c[w].scrolling?"enabled":"disabled")+" for "+w),A.style.overflow=(c[w]&&c[w].scrolling)===!1?"hidden":"auto",c[w]&&c[w].scrolling){case!0:A.scrolling="yes";break;case!1:A.scrolling="no";break;default:A.scrolling=c[w]?c[w].scrolling:"no"}}function Ee(){(typeof(c[w]&&c[w].bodyMargin)=="number"||(c[w]&&c[w].bodyMargin)==="0")&&(c[w].bodyMarginV1=c[w].bodyMargin,c[w].bodyMargin=""+c[w].bodyMargin+"px")}function Ne(){var L=c[w]&&c[w].firstRun,$=c[w]&&c[w].heightCalculationMethod in U;!L&&$&&Pe({iframe:A,height:0,width:0,type:"init"})}function _t(){Function.prototype.bind&&c[w]&&(c[w].iframe.iFrameResizer={close:ae.bind(null,c[w].iframe),resize:Me.bind(null,"Window resize","resize",c[w].iframe),moveToAnchor:function(L){Me("Move to anchor","moveToAnchor:"+L,c[w].iframe,w)},sendMessage:function(L){L=JSON.stringify(L),Me("Send Message","message:"+L,c[w].iframe,w)}})}function Ce(L){function $(){Me("iFrame.onload",L,A,j,!0),Ne()}ue(A,"load",$),Me("init",L,A,j,!0)}function Tt(L){if(typeof L!="object")throw new TypeError("Options is not an object")}function k(L){for(var $ in f)f.hasOwnProperty($)&&(c[w][$]=L.hasOwnProperty($)?L[$]:f[$])}function ie(L){return L===""||L==="file://"?"*":L}function _(L){L=L||{},c[w]={firstRun:!0,iframe:A,remoteHost:A.src.split("/").slice(0,3).join("/")},Tt(L),k(L),c[w]&&(c[w].targetOrigin=c[w].checkOrigin===!0?ie(c[w].remoteHost):"*")}function I(){return w in c&&"iFrameResizer"in A}var w=ge(A.id);I()?Y(w,"Ignored iFrame, already setup."):(_(he),fe(),y(),Ee(),Ce(Ge(w)),_t())}function He(A,he){K===null&&(K=setTimeout(function(){K=null,A()},he))}function ft(){function A(){function ge(Ee){function Ne(Ce){return(c[Ee]&&c[Ee].iframe.style[Ce])==="0px"}function _t(Ce){return Ce.offsetParent!==null}c[Ee]&&_t(c[Ee].iframe)&&(Ne("height")||Ne("width"))&&Me("Visibility change","resize",c[Ee].iframe,Ee)}for(var fe in c)ge(fe)}function he(ge){be("window","Mutation observed: "+ge[0].target+" "+ge[0].type),He(A,16)}function y(){var ge=document.querySelector("body"),fe={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},Ee=new H(he);Ee.observe(ge,fe)}var H=window.MutationObserver||window.WebKitMutationObserver;H&&y()}function lt(A){function he(){at("Window "+A,"resize")}be("window","Trigger event: "+A),He(he,16)}function wt(){function A(){at("Tab Visable","resize")}document.visibilityState!=="hidden"&&(be("document","Trigger event: Visiblity change"),He(A,16))}function at(A,he){function y(ge){return c[ge]&&c[ge].resizeFrom==="parent"&&c[ge].autoResize&&!c[ge].firstRun}for(var H in c)y(H)&&Me(A,he,document.getElementById(H),H)}function Ut(){ue(window,"message",O),ue(window,"resize",function(){lt("resize")}),ue(document,"visibilitychange",wt),ue(document,"-webkit-visibilitychange",wt),ue(window,"focusin",function(){lt("focus")}),ue(window,"focus",function(){lt("focus")})}function bt(){function A(H,ge){function fe(){if(ge.tagName){if(ge.tagName.toUpperCase()!=="IFRAME")throw new TypeError("Expected <IFRAME> tag, found <"+ge.tagName+">")}else throw new TypeError("Object is not a valid DOM element")}ge&&(fe(),Ye(ge,H),y.push(ge))}function he(H){H&&H.enablePublicMethods&&Y("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var y;return ce(),Ut(),function(ge,fe){switch(y=[],he(ge),typeof fe){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(fe||"iframe"),A.bind(j,ge));break;case"object":A(ge,fe);break;default:throw new TypeError("Unexpected data type ("+typeof fe+")")}return y}}function Wt(A){A.fn?A.fn.iFrameResize||(A.fn.iFrameResize=function(y){function H(ge,fe){Ye(fe,y)}return this.filter("iframe").each(H).end()}):q("","Unable to bind to jQuery, it is not fully loaded.")}window.jQuery&&Wt(window.jQuery),B=[],l=bt,D=typeof l=="function"?l.apply(p,B):l,D!==j&&(d.exports=D)})()},683:(d,p,l)=>{p.iframeResizer=l(28),p.iframeResizerContentWindow=l(402)},457:d=>{var p=function(){var l=Math.floor(Math.random()*1000001),B={};function D(S,F,E,W){function R(c){for(var K=0;K<c.length;K++)if(c[K].win===S)return!0;return!1}var ee=!1;if(F==="*"){for(var U in B)if(B.hasOwnProperty(U)&&U!=="*"&&typeof B[U][E]=="object"&&(ee=R(B[U][E]),ee))break}else B["*"]&&B["*"][E]&&(ee=R(B["*"][E])),!ee&&B[F]&&B[F][E]&&(ee=R(B[F][E]));if(ee)throw"A channel is already bound to the same window which overlaps with origin '"+F+"' and has scope '"+E+"'";typeof B[F]!="object"&&(B[F]={}),typeof B[F][E]!="object"&&(B[F][E]=[]),B[F][E].push({win:S,handler:W})}function j(S,F,E){for(var W=B[F][E],R=0;R<W.length;R++)W[R].win===S&&W.splice(R,1);B[F][E].length===0&&delete B[F][E]}function ye(S){return Array.isArray?Array.isArray(S):S.constructor.toString().indexOf("Array")!=-1}var le={},Q=function(S){try{var F=JSON.parse(S.data);if(typeof F!="object"||F===null)throw"malformed"}catch{return}var E=S.source,W=S.origin,R,ee,U;if(typeof F.method=="string"){var c=F.method.split("::");c.length==2?(R=c[0],U=c[1]):U=F.method}if(typeof F.id<"u"&&(ee=F.id),typeof U=="string"){var K=!1;if(B[W]&&B[W][R]){for(var f=0;f<B[W][R].length;f++)if(B[W][R][f].win===E){B[W][R][f].handler(W,U,F),K=!0;break}}if(!K&&B["*"]&&B["*"][R]){for(var f=0;f<B["*"][R].length;f++)if(B["*"][R][f].win===E){B["*"][R][f].handler(W,U,F);break}}}else typeof ee<"u"&&le[ee]&&le[ee](W,U,F)};return window.addEventListener?window.addEventListener("message",Q,!1):window.attachEvent&&window.attachEvent("onmessage",Q),{build:function(S){var F=function(q){if(S.debugOutput&&window.console&&window.console.log){try{typeof q!="string"&&(q=JSON.stringify(q))}catch{}console.log("["+R+"] "+q)}};if(!window.postMessage)throw"jschannel cannot run this browser, no postMessage";if(!window.JSON||!window.JSON.stringify||!window.JSON.parse)throw"jschannel cannot run this browser, no JSON parsing/serialization";if(typeof S!="object")throw"Channel build invoked without a proper object argument";if(!S.window||!S.window.postMessage)throw"Channel.build() called without a valid window argument";if(window===S.window)throw"target window is same as present window -- not allowed";var E=!1;if(typeof S.origin=="string"){var W;S.origin==="*"?E=!0:(W=S.origin.match(/^https?:\/\/(?:[-a-zA-Z0-9_\.])+(?::\d+)?/))!==null&&(S.origin=W[0].toLowerCase(),E=!0)}if(!E)throw"Channel.build() called with an invalid origin";if(typeof S.scope<"u"){if(typeof S.scope!="string")throw"scope, when specified, must be a string";if(S.scope.split("::").length>1)throw"scope may not contain double colons: '::'"}var R=function(){for(var q="",Y="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",x=0;x<5;x++)q+=Y.charAt(Math.floor(Math.random()*Y.length));return q}(),ee={},U={},c={},K=!1,f=[],ue=function(q,Y,x){var O=!1,N=!1;return{origin:Y,invoke:function(ae,de){if(!c[q])throw"attempting to invoke a callback of a nonexistent transaction: "+q;for(var ne=!1,re=0;re<x.length;re++)if(ae===x[re]){ne=!0;break}if(!ne)throw"request supports no such callback '"+ae+"'";Le({id:q,callback:ae,params:de})},error:function(ae,de){if(N=!0,!c[q])throw"error called for nonexistent message: "+q;delete c[q],Le({id:q,error:ae,message:de})},complete:function(ae){if(N=!0,!c[q])throw"complete called for nonexistent message: "+q;delete c[q],Le({id:q,result:ae})},delayReturn:function(ae){return typeof ae=="boolean"&&(O=ae===!0),O},completed:function(){return N}}},ve=function(q,Y,x){return window.setTimeout(function(){if(U[q]){var O="timeout ("+Y+"ms) exceeded on method '"+x+"'";(0,U[q].error)("timeout_error",O),delete U[q],delete le[q]}},Y)},ce=function(q,Y,x){if(typeof S.gotMessageObserver=="function")try{S.gotMessageObserver(q,x)}catch(Ge){F("gotMessageObserver() raised an exception: "+Ge.toString())}if(x.id&&Y){if(ee[Y]){var O=ue(x.id,q,x.callbacks?x.callbacks:[]);c[x.id]={};try{if(x.callbacks&&ye(x.callbacks)&&x.callbacks.length>0)for(var N=0;N<x.callbacks.length;N++){for(var ae=x.callbacks[N],de=x.params,ne=ae.split("/"),re=0;re<ne.length-1;re++){var Pe=ne[re];typeof de[Pe]!="object"&&(de[Pe]={}),de=de[Pe]}de[ne[ne.length-1]]=function(){var Ge=ae;return function(Ye){return O.invoke(Ge,Ye)}}()}var De=ee[Y](O,x.params);!O.delayReturn()&&!O.completed()&&O.complete(De)}catch(Ge){var yt="runtime_error",Me=null;if(typeof Ge=="string"?Me=Ge:typeof Ge=="object"&&(Ge&&ye(Ge)&&Ge.length==2?(yt=Ge[0],Me=Ge[1]):typeof Ge.error=="string"&&(yt=Ge.error,Ge.message?typeof Ge.message=="string"?Me=Ge.message:Ge=Ge.message:Me="")),Me===null)try{Me=JSON.stringify(Ge),typeof Me>"u"&&(Me=Ge.toString())}catch{Me=Ge.toString()}O.error(yt,Me)}}}else x.id&&x.callback?!U[x.id]||!U[x.id].callbacks||!U[x.id].callbacks[x.callback]?F("ignoring invalid callback, id:"+x.id+" ("+x.callback+")"):U[x.id].callbacks[x.callback](x.params):x.id?U[x.id]?(x.error?(0,U[x.id].error)(x.error,x.message):x.result!==void 0?(0,U[x.id].success)(x.result):(0,U[x.id].success)(),delete U[x.id],delete le[x.id]):F("ignoring invalid response: "+x.id):Y&&ee[Y]&&ee[Y]({origin:q},x.params)};D(S.window,S.origin,typeof S.scope=="string"?S.scope:"",ce);var ze=function(q){return typeof S.scope=="string"&&S.scope.length&&(q=[S.scope,q].join("::")),q},Le=function(q,Y){if(!q)throw"postMessage called with null message";var x=K?"post  ":"queue ";if(F(x+" message: "+JSON.stringify(q)),!Y&&!K)f.push(q);else{if(typeof S.postMessageObserver=="function")try{S.postMessageObserver(S.origin,q)}catch(O){F("postMessageObserver() raised an exception: "+O.toString())}S.window.postMessage(JSON.stringify(q),S.origin)}},ot=function(q,Y){if(F("ready msg received"),K)throw"received ready message while in ready state.  help!";for(Y==="ping"?R+="-R":R+="-L",be.unbind("__ready"),K=!0,F("ready msg accepted."),Y==="ping"&&be.notify({method:"__ready",params:"pong"});f.length;)Le(f.pop());typeof S.onReady=="function"&&S.onReady(be)},be={unbind:function(q){if(ee[q]){if(!delete ee[q])throw"can't delete method: "+q;return!0}return!1},bind:function(q,Y){if(!q||typeof q!="string")throw"'method' argument to bind must be string";if(!Y||typeof Y!="function")throw"callback missing from bind params";if(ee[q])throw"method '"+q+"' is already bound!";return ee[q]=Y,this},call:function(q){if(!q)throw"missing arguments to call function";if(!q.method||typeof q.method!="string")throw"'method' argument to call must be string";if(!q.success||typeof q.success!="function")throw"'success' callback missing from call";var Y={},x=[],O=[],N=function(de,ne){if(O.indexOf(ne)>=0)throw"params cannot be a recursive data structure";if(O.push(ne),typeof ne=="object"){for(var re in ne)if(ne.hasOwnProperty(re)){var Pe=de+(de.length?"/":"")+re;typeof ne[re]=="function"?(Y[Pe]=ne[re],x.push(Pe),delete ne[re]):typeof ne[re]=="object"&&ne[re]!==null&&N(Pe,ne[re])}}};N("",q.params);var ae={id:l,method:ze(q.method),params:q.params};x.length&&(ae.callbacks=x),q.timeout&&ve(l,q.timeout,ze(q.method)),U[l]={callbacks:Y,error:q.error,success:q.success},le[l]=ce,l++,Le(ae)},notify:function(q){if(!q)throw"missing arguments to notify function";if(!q.method||typeof q.method!="string")throw"'method' argument to notify must be string";Le({method:ze(q.method),params:q.params})},destroy:function(){j(S.window,S.origin,typeof S.scope=="string"?S.scope:""),window.removeEventListener?window.removeEventListener("message",ce,!1):window.detachEvent&&window.detachEvent("onmessage",ce),K=!1,ee={},c={},U={},S.origin=null,f=[],F("channel destroyed"),R=""}};return be.bind("__ready",ot),setTimeout(function(){Le({method:ze("__ready"),params:"ping"},!0)},0),be}}}();d.exports=p},218:d=>{function p(l){var B=typeof l;return l!=null&&(B=="object"||B=="function")}d.exports=p}},a={};function i(d){var p=a[d];if(p!==void 0)return p.exports;var l=a[d]={exports:{}};return m[d].call(l.exports,l,l.exports,i),l.exports}i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i(669)})();var iv=Uu.Addon;class ov{constructor(){this.addon=new iv,this.addon.on("init",a=>{this.addon.options=a})}fetch_user(){try{return this.addon.api.getUser()}catch(a){throw a}}fetch_currencies(){try{return this.addon.request({method:"GET",endpoint:"currencies"})}catch(a){throw a}}fetch_institutions(){try{return this.addon.api.getInstitutions(this.get_options_query(this.addon.options))}catch(a){throw a}}fetch_positions(){try{return this.addon.api.getPositions(this.get_options_query(this.addon.options))}catch(a){throw a}}fetch_historical_data(a){try{return this.addon.request({method:"GET",endpoint:`securities/${a}/history`})}catch(i){throw i}}fetch_stock_prices(a,i){return fetch("https://data.wealthica.com/api/streams",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:a,symbols:i})}).then(l=>l.json()).catch(l=>{throw l})}get_options_query(a){return{from:a.dateRangeFilter&&a.dateRangeFilter[0],to:a.dateRangeFilter&&a.dateRangeFilter[1],groups:a.groupsFilter,institutions:a.institutionsFilter,investments:a.investmentsFilter==="all"?null:a.investmentsFilter}}}function av(m){if(this.storage_activated){const a=localStorage.getItem(m);return a?JSON.parse(a):null}else return null}function sv(m,a){this.storage_activated&&localStorage.setItem(m,JSON.stringify(a))}const ir=!1,Gi=[{name:"INVESTOR - CELI",account_number:"22981483",order:1,type:null,no_holdings:!1,exluded:!1},{name:"INVESTOR - RESP",account_number:"21921430",order:2,type:null,no_holdings:!1,exluded:!1},{name:"NESBITT - NON-ENRG",account_number:"31015145",order:3,type:null,no_holdings:!1,exluded:!0},{name:"NESBITT - BELSKI",account_number:"31107566",order:4,type:null,no_holdings:!1,exluded:ir},{name:"NESBITT - FONDS",account_number:"31107567",order:5,type:null,no_holdings:!1,exluded:ir},{name:"NESBITT - ACTIONS (REER)",account_number:"31107798",order:6,type:null,no_holdings:!1,exluded:ir},{name:"NESBITT - ACTIONS (CELI)",account_number:"78124230",order:7,type:null,no_holdings:!1,exluded:ir},{name:"CGI - ACTIONS (REER)",account_number:"197287703264",order:8,type:null,no_holdings:!0,exluded:ir},{name:"CGI - ACTIONS (NON-ENRG)",account_number:"197287499339",order:8,type:"NRG",no_holdings:!0,exluded:ir},{name:"FTQ - REER",account_number:"107935800-01R",order:9,type:"RRSP",no_holdings:!0,exluded:ir},{name:"BMO - INVEST",account_number:"XXXX6679",order:10,type:"CASH",no_holdings:!0,exluded:ir}];function Bu(m,a){const i=Gi.find(d=>d.account_number===m);return i?i.type||a.toUpperCase():""}function $u(m){var a=Gi.find(i=>i.account_number===m);return a?a.exluded:!0}function Hu(m){var a=Gi.find(i=>i.account_number===m);return a?a.order:999}function qu(m){var a=Gi.find(i=>i.account_number===m);return a?a.no_holdings:!1}const ra={dev:!0,prod:!1,log_all:!0},uv=[{id:"user",enabled:!1},{id:"currencies",enabled:!1},{id:"institutions",enabled:!1},{id:"positions",enabled:!1},{id:"accounts",enabled:!1},{id:"holdings",enabled:!1},{id:"totals",enabled:!1},{id:"currency",enabled:!1}];function lv(){return Wu(document.domain)&&ra.dev||zu(document.domain)&&ra.prod}function cv(m,a,i){var d;lv()&&((d=uv.find(p=>p.id===m))!=null&&d.enabled||ra.log_all)&&(i?console.log(m,i,a):console.log(m,a))}const Kt={user:"user",currencies:"currencies",institutions:"institutions",positions:"positions",prices:"prices",accounts:"accounts",holdings:"holdings",totals:"totals",x_usd:"x_usd"},Dr={unknown:"unknown",memory:"memory",store:"store",fetched:"fetched",loading:"loading",refreshed:"refreshed"};class fv{constructor(){Pn(this,"storage_activated",!1);Pn(this,"user",null);Pn(this,"currencies",null);Pn(this,"institutions",null);Pn(this,"positions",null);Pn(this,"prices",null);Pn(this,"accounts",null);Pn(this,"holdings",null);Pn(this,"totals",null);Pn(this,"x_usd",null);this.wealthica=new ov}async load(a){let i=Dr.unknown;this[a]?this[a]instanceof Promise?(i=Dr.loading,await this[a]):i=Dr.memory:(this[a]=av(a))?i=Dr.store:(i=Dr.fetched,this[a]=this.retrieve_data(a),this[a]=await this[a],sv(a,this[a])),i!=Dr.loading&&cv(a,this[a],i)}retrieve_data(a){switch(a){case"user":return this.wealthica.fetch_user();case"currencies":return this.wealthica.fetch_currencies();case"institutions":return this.wealthica.fetch_institutions();case"positions":return this.wealthica.fetch_positions();case"prices":return this.fetch_stock_prices();case"accounts":return this.retrieve_accounts_data();case"holdings":return this.retrieve_holdings_data();case"totals":return this.retrieve_accounts_totals();case"x_usd":return this.retrieve_x_usd_data();default:throw`No such data to fetch (${a})`}}async retrieve_accounts_data(){return await this.load(Kt.institutions),this.institutions.flatMap(i=>{const d=new Map;return i.investments.forEach(p=>{let l=this.get_account_number(p);if(!p.ignored&&!$u(l)){let B=d.get(l)??{institution:{name:i.name,type:i.type},number:l,name:p.name,type:Bu(l,p.type),order:Hu(l),no_holdings:qu(l),expanded:!1,subaccounts:[]};B.subaccounts.push({id:p._id,name:p.name,currency:p.currency,value:p.currency_value,expanded:!0}),d.set(l,B)}}),Array.from(d.values())}).sort((i,d)=>i.order-d.order)}get_account_number(a){return(a.account_number?a.account_number:a.id).toUpperCase()}async retrieve_accounts_totals(){let a={};return await Promise.all([this.load(Kt.accounts),this.load(Kt.holdings)]),this.accounts.forEach(i=>{let d={};i.subaccounts.forEach(p=>{let l=this.calculate_holdings_totals("subaccount_id",p.id);i.no_holdings&&this.calculate_no_holdings_totals(p,l),(a[i.number]=a[i.number]||{})[p.id]=l,d=this.sum_account_totals(d,l)}),a[i.number]={...a[i.number]||{},...d},a.all=this.sum_account_totals(a.all||{},d)}),this.calculate_accounts_weights(a),a}calculate_holdings_totals(a,i){let d=this.holdings.filter(p=>p[a]===i).reduce((p,l)=>(l.symbol!="REALCASH"&&(p.book_value+=l.values.book_value,p.close_amount+=l.values.close_amount,p.gain_daily_amount+=l.values.gain_daily_amount,p.gain_period_amount+=l.values.gain_period_amount,p.gain_overall_amount+=l.values.gain_overall_amount),p.market_value+=l.values.market_value,p.market_value_CAD+=l.currency!="usd"?l.values.market_value:0,p.market_value_USD+=l.currency=="usd"?l.values.market_value:0,p.market_total_CAD+=l.values.market_value_CAD,p.weight+=l.values.weight,p),this.initialized_holdings_totals());return d.gain_daily_percent=d.market_value/(d.market_value-d.gain_daily_amount)-1,d.gain_period_percent=d.market_value/(d.market_value-d.gain_period_amount)-1,d.gain_overall_percent=d.market_value/(d.market_value-d.gain_overall_amount)-1,d}calculate_no_holdings_totals(a,i){const d=a.currency=="usd";i.market_value_CAD=d?0:a.value,i.market_value_USD=d?a.value:0,i.market_total_CAD=a.value*(d?1/this.x_usd.rate:1)}calculate_accounts_weights(a){a.all.weight=this.accounts.reduce((i,d)=>{let p=a[d.number].market_total_CAD/a.all.market_total_CAD;return a[d.number].weight=p,i+p},0)}sum_account_totals(a,i){let d=Object.keys(i).reduce((p,l)=>({...p,[l]:(a[l]||0)+i[l]}),{});return delete d.market_value,d}async retrieve_holdings_data(){await Promise.all([this.load(Kt.positions),this.load(Kt.x_usd)]);let a=[];return this.positions.forEach(i=>{i.investments.forEach(d=>{let p=this.create_holding(i,d);a.push(p)})}),await Promise.all(a.map(async i=>{i.history=await i.history})),this.holdings=a,await this.refresh_stock_prices(),this.calc_holdings_weigth(),a}create_holding(a,i){return{account_number:i.investment.split(":")[0],subaccount_id:i.investment,market:i.currency.substring(0,2).toUpperCase(),symbol:a.security.symbol,symbol_mrkt:i.currency.substring(0,2).toUpperCase()+":"+a.security.symbol,name:a.security.name,currency:i.currency,xrate:i.currency==="usd"?1/this.x_usd.rate:1,quantity:i.quantity,cash:a.security.symbol=="REALCASH",history:this.wealthica.fetch_historical_data(a.security._id),values:{book_price:i.book_value/i.quantity,book_value:i.book_value,close_date:null,close_price:0,close_amount:0,daily_change:0,daily_date:null,gain_daily_amount:0,gain_daily_percent:0,gain_period_amount:0,gain_period_percent:0,gain_overall_amount:i.quantity*a.security.last_price-i.book_value,gain_overall_percent:(i.quantity*a.security.last_price-i.book_value)/i.book_value,market_date:a.security.last_date,market_price:a.security.last_price,market_value:i.quantity*a.security.last_price,market_price_CAD:a.security.last_price*(i.currency==="usd"?1/this.x_usd.rate:1),market_value_CAD:i.quantity*a.security.last_price*(i.currency==="usd"?1/this.x_usd.rate:1)}}}initialized_holdings_totals(){return{book_value:0,close_amount:0,gain_daily_amount:0,gain_daily_percent:0,gain_period_percent:0,gain_period_amount:0,gain_overall_amount:0,gain_overall_percent:0,market_value:0,market_value_CAD:0,market_value_USD:0,market_total_CAD:0,weight_childs:0,weight:0}}calc_holdings_weigth(){[...new Set(this.holdings.map(i=>i.account_number))].forEach(i=>{let d=this.holdings.filter(l=>l.account_number===i),p=d.reduce((l,B)=>l+B.values.market_value_CAD,0);d.forEach(l=>{l.values.weight_account=l.values.market_value_CAD/p})})}async fetch_stock_prices(){await this.load(Kt.user);let a=this.holdings.map(i=>i.symbol_mrkt);return this.wealthica.fetch_stock_prices(this.user.email,a)}async refresh_stock_prices(){await this.load(Kt.prices),this.prices.securities.forEach(a=>{let i=`${a.market}:${a.symbol.split(":")[1]}`;this.holdings.filter(d=>d.symbol_mrkt===i).forEach(d=>{d.values.close_price=a.price-a.change,d.values.close_amount=d.quantity*(a.price-a.change),d.values.daily_change=a.change,d.values.daily_date=a.update_date,d.values.gain_daily_amount=d.quantity*a.change,d.values.gain_daily_percent=(a.price-a.change)/(a.price-a.change-a.change)-1,d.values.gain_period_amount=0,d.values.gain_period_percent=0,d.values.gain_overall_amount=d.quantity*a.price-d.values.book_value,d.values.gain_overall_percent=(d.quantity*a.price-d.values.book_value)/d.values.book_value,d.values.market_price=a.price,d.values.market_value=d.quantity*a.price,d.values.market_date=a.quote_date,d.values.market_price_CAD=a.price*(d.currency==="usd"?1/this.x_usd.rate:1),d.values.market_value_CAD=d.quantity*a.price*(d.currency==="usd"?1/this.x_usd.rate:1)})})}async retrieve_x_usd_data(){await this.load(Kt.currencies);let a=this.currencies.find(i=>i._id==="usd");return a?{id:a._id,rate:a.exchange_rate,date:a.update_date}:null}}const sr=(m,a)=>{const i=m.__vccOpts||m;for(const[d,p]of a)i[d]=p;return i},dv={name:"tab_dashboard"},hv={class:"tab-container"},gv=M("div",{class:"tab-logo-container"},[M("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-dashboard-icon.png",alt:"Under Construction",class:"tab-logo-centered"})],-1),_v=[gv];function vv(m,a,i,d,p,l){return $e(),Ve("div",hv,_v)}const Su=sr(dv,[["render",vv]]),pv={props:{group_name:{type:String,default:""}}},mv={colspan:"2"},yv={class:"centered"},wv={class:"group-name"};function bv(m,a,i,d,p,l){return $e(),Ve("th",mv,[M("div",yv,[M("div",wv,Kn(i.group_name),1)])])}const Xt=sr(pv,[["render",bv]]);var $i={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */$i.exports;(function(m,a){(function(){var i,d="4.17.21",p=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",B="Expected a function",D="Invalid `variable` option passed into `_.template`",j="__lodash_hash_undefined__",ye=500,le="__lodash_placeholder__",Q=1,S=2,F=4,E=1,W=2,R=1,ee=2,U=4,c=8,K=16,f=32,ue=64,ve=128,ce=256,ze=512,Le=30,ot="...",be=800,q=16,Y=1,x=2,O=3,N=1/0,ae=9007199254740991,de=17976931348623157e292,ne=NaN,re=4294967295,Pe=re-1,De=re>>>1,yt=[["ary",ve],["bind",R],["bindKey",ee],["curry",c],["curryRight",K],["flip",ze],["partial",f],["partialRight",ue],["rearg",ce]],Me="[object Arguments]",Ge="[object Array]",Ye="[object AsyncFunction]",He="[object Boolean]",ft="[object Date]",lt="[object DOMException]",wt="[object Error]",at="[object Function]",Ut="[object GeneratorFunction]",bt="[object Map]",Wt="[object Number]",A="[object Null]",he="[object Object]",y="[object Promise]",H="[object Proxy]",ge="[object RegExp]",fe="[object Set]",Ee="[object String]",Ne="[object Symbol]",_t="[object Undefined]",Ce="[object WeakMap]",Tt="[object WeakSet]",k="[object ArrayBuffer]",ie="[object DataView]",_="[object Float32Array]",I="[object Float64Array]",w="[object Int8Array]",L="[object Int16Array]",$="[object Int32Array]",X="[object Uint8Array]",Je="[object Uint8ClampedArray]",ct="[object Uint16Array]",zt="[object Uint32Array]",fn=/\b__p \+= '';/g,Ft=/\b(__p \+=) '' \+/g,xt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Te=/&(?:amp|lt|gt|quot|#39);/g,pe=/[&<>"']/g,_e=RegExp(Te.source),me=RegExp(pe.source),Se=/<%-([\s\S]+?)%>/g,Ze=/<%([\s\S]+?)%>/g,qe=/<%=([\s\S]+?)%>/g,rt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pt=/^\w*$/,Pt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vt=/[\\^$.*+?()[\]{}|]/g,Sn=RegExp(Vt.source),Vn=/^\s+/,mn=/\s/,ur=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Zt=/\{\n\/\* \[wrapped with (.+)\] \*/,lr=/,? & /,an=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,P=/[()=,{}\[\]\/\s]/,V=/\\(\\)?/g,g=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,C=/\w*$/,oe=/^[-+]0x[0-9a-f]+$/i,xe=/^0b[01]+$/i,Ie=/^\[object .+?Constructor\]$/,je=/^0o[0-7]+$/i,Qe=/^(?:0|[1-9]\d*)$/,et=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Re=/($^)/,Fe=/['\n\r\u2028\u2029\\]/g,Xe="\\ud800-\\udfff",Ke="\\u0300-\\u036f",Lt="\\ufe20-\\ufe2f",Qt="\\u20d0-\\u20ff",Nn=Ke+Lt+Qt,ei="\\u2700-\\u27bf",oa="a-z\\xdf-\\xf6\\xf8-\\xff",Ju="\\xac\\xb1\\xd7\\xf7",Ku="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Vu="\\u2000-\\u206f",Yu=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",aa="A-Z\\xc0-\\xd6\\xd8-\\xde",sa="\\ufe0e\\ufe0f",ua=Ju+Ku+Vu+Yu,Ji="['’]",ju="["+Xe+"]",la="["+ua+"]",ti="["+Nn+"]",ca="\\d+",Xu="["+ei+"]",fa="["+oa+"]",da="[^"+Xe+ua+ca+ei+oa+aa+"]",Ki="\\ud83c[\\udffb-\\udfff]",Zu="(?:"+ti+"|"+Ki+")",ha="[^"+Xe+"]",Vi="(?:\\ud83c[\\udde6-\\uddff]){2}",Yi="[\\ud800-\\udbff][\\udc00-\\udfff]",br="["+aa+"]",ga="\\u200d",_a="(?:"+fa+"|"+da+")",Qu="(?:"+br+"|"+da+")",va="(?:"+Ji+"(?:d|ll|m|re|s|t|ve))?",pa="(?:"+Ji+"(?:D|LL|M|RE|S|T|VE))?",ma=Zu+"?",ya="["+sa+"]?",el="(?:"+ga+"(?:"+[ha,Vi,Yi].join("|")+")"+ya+ma+")*",tl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",nl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",wa=ya+ma+el,rl="(?:"+[Xu,Vi,Yi].join("|")+")"+wa,il="(?:"+[ha+ti+"?",ti,Vi,Yi,ju].join("|")+")",ol=RegExp(Ji,"g"),al=RegExp(ti,"g"),ji=RegExp(Ki+"(?="+Ki+")|"+il+wa,"g"),sl=RegExp([br+"?"+fa+"+"+va+"(?="+[la,br,"$"].join("|")+")",Qu+"+"+pa+"(?="+[la,br+_a,"$"].join("|")+")",br+"?"+_a+"+"+va,br+"+"+pa,nl,tl,ca,rl].join("|"),"g"),ul=RegExp("["+ga+Xe+Nn+sa+"]"),ll=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,cl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],fl=-1,St={};St[_]=St[I]=St[w]=St[L]=St[$]=St[X]=St[Je]=St[ct]=St[zt]=!0,St[Me]=St[Ge]=St[k]=St[He]=St[ie]=St[ft]=St[wt]=St[at]=St[bt]=St[Wt]=St[he]=St[ge]=St[fe]=St[Ee]=St[Ce]=!1;var Ct={};Ct[Me]=Ct[Ge]=Ct[k]=Ct[ie]=Ct[He]=Ct[ft]=Ct[_]=Ct[I]=Ct[w]=Ct[L]=Ct[$]=Ct[bt]=Ct[Wt]=Ct[he]=Ct[ge]=Ct[fe]=Ct[Ee]=Ct[Ne]=Ct[X]=Ct[Je]=Ct[ct]=Ct[zt]=!0,Ct[wt]=Ct[at]=Ct[Ce]=!1;var dl={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},hl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},gl={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},_l={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},vl=parseFloat,pl=parseInt,ba=typeof Qr=="object"&&Qr&&Qr.Object===Object&&Qr,ml=typeof self=="object"&&self&&self.Object===Object&&self,Gt=ba||ml||Function("return this")(),Xi=a&&!a.nodeType&&a,cr=Xi&&!0&&m&&!m.nodeType&&m,xa=cr&&cr.exports===Xi,Zi=xa&&ba.process,yn=function(){try{var b=cr&&cr.require&&cr.require("util").types;return b||Zi&&Zi.binding&&Zi.binding("util")}catch{}}(),Ea=yn&&yn.isArrayBuffer,ka=yn&&yn.isDate,Ta=yn&&yn.isMap,Aa=yn&&yn.isRegExp,Ca=yn&&yn.isSet,Sa=yn&&yn.isTypedArray;function dn(b,G,z){switch(z.length){case 0:return b.call(G);case 1:return b.call(G,z[0]);case 2:return b.call(G,z[0],z[1]);case 3:return b.call(G,z[0],z[1],z[2])}return b.apply(G,z)}function yl(b,G,z,ke){for(var tt=-1,mt=b==null?0:b.length;++tt<mt;){var Bt=b[tt];G(ke,Bt,z(Bt),b)}return ke}function wn(b,G){for(var z=-1,ke=b==null?0:b.length;++z<ke&&G(b[z],z,b)!==!1;);return b}function wl(b,G){for(var z=b==null?0:b.length;z--&&G(b[z],z,b)!==!1;);return b}function Oa(b,G){for(var z=-1,ke=b==null?0:b.length;++z<ke;)if(!G(b[z],z,b))return!1;return!0}function Yn(b,G){for(var z=-1,ke=b==null?0:b.length,tt=0,mt=[];++z<ke;){var Bt=b[z];G(Bt,z,b)&&(mt[tt++]=Bt)}return mt}function ni(b,G){var z=b==null?0:b.length;return!!z&&xr(b,G,0)>-1}function Qi(b,G,z){for(var ke=-1,tt=b==null?0:b.length;++ke<tt;)if(z(G,b[ke]))return!0;return!1}function Mt(b,G){for(var z=-1,ke=b==null?0:b.length,tt=Array(ke);++z<ke;)tt[z]=G(b[z],z,b);return tt}function jn(b,G){for(var z=-1,ke=G.length,tt=b.length;++z<ke;)b[tt+z]=G[z];return b}function eo(b,G,z,ke){var tt=-1,mt=b==null?0:b.length;for(ke&&mt&&(z=b[++tt]);++tt<mt;)z=G(z,b[tt],tt,b);return z}function bl(b,G,z,ke){var tt=b==null?0:b.length;for(ke&&tt&&(z=b[--tt]);tt--;)z=G(z,b[tt],tt,b);return z}function to(b,G){for(var z=-1,ke=b==null?0:b.length;++z<ke;)if(G(b[z],z,b))return!0;return!1}var xl=no("length");function El(b){return b.split("")}function kl(b){return b.match(an)||[]}function Ma(b,G,z){var ke;return z(b,function(tt,mt,Bt){if(G(tt,mt,Bt))return ke=mt,!1}),ke}function ri(b,G,z,ke){for(var tt=b.length,mt=z+(ke?1:-1);ke?mt--:++mt<tt;)if(G(b[mt],mt,b))return mt;return-1}function xr(b,G,z){return G===G?Dl(b,G,z):ri(b,Ia,z)}function Tl(b,G,z,ke){for(var tt=z-1,mt=b.length;++tt<mt;)if(ke(b[tt],G))return tt;return-1}function Ia(b){return b!==b}function Fa(b,G){var z=b==null?0:b.length;return z?io(b,G)/z:ne}function no(b){return function(G){return G==null?i:G[b]}}function ro(b){return function(G){return b==null?i:b[G]}}function Pa(b,G,z,ke,tt){return tt(b,function(mt,Bt,At){z=ke?(ke=!1,mt):G(z,mt,Bt,At)}),z}function Al(b,G){var z=b.length;for(b.sort(G);z--;)b[z]=b[z].value;return b}function io(b,G){for(var z,ke=-1,tt=b.length;++ke<tt;){var mt=G(b[ke]);mt!==i&&(z=z===i?mt:z+mt)}return z}function oo(b,G){for(var z=-1,ke=Array(b);++z<b;)ke[z]=G(z);return ke}function Cl(b,G){return Mt(G,function(z){return[z,b[z]]})}function Ra(b){return b&&b.slice(0,Wa(b)+1).replace(Vn,"")}function hn(b){return function(G){return b(G)}}function ao(b,G){return Mt(G,function(z){return b[z]})}function Wr(b,G){return b.has(G)}function La(b,G){for(var z=-1,ke=b.length;++z<ke&&xr(G,b[z],0)>-1;);return z}function Da(b,G){for(var z=b.length;z--&&xr(G,b[z],0)>-1;);return z}function Sl(b,G){for(var z=b.length,ke=0;z--;)b[z]===G&&++ke;return ke}var Ol=ro(dl),Ml=ro(hl);function Il(b){return"\\"+_l[b]}function Fl(b,G){return b==null?i:b[G]}function Er(b){return ul.test(b)}function Pl(b){return ll.test(b)}function Rl(b){for(var G,z=[];!(G=b.next()).done;)z.push(G.value);return z}function so(b){var G=-1,z=Array(b.size);return b.forEach(function(ke,tt){z[++G]=[tt,ke]}),z}function Na(b,G){return function(z){return b(G(z))}}function Xn(b,G){for(var z=-1,ke=b.length,tt=0,mt=[];++z<ke;){var Bt=b[z];(Bt===G||Bt===le)&&(b[z]=le,mt[tt++]=z)}return mt}function ii(b){var G=-1,z=Array(b.size);return b.forEach(function(ke){z[++G]=ke}),z}function Ll(b){var G=-1,z=Array(b.size);return b.forEach(function(ke){z[++G]=[ke,ke]}),z}function Dl(b,G,z){for(var ke=z-1,tt=b.length;++ke<tt;)if(b[ke]===G)return ke;return-1}function Nl(b,G,z){for(var ke=z+1;ke--;)if(b[ke]===G)return ke;return ke}function kr(b){return Er(b)?zl(b):xl(b)}function On(b){return Er(b)?Ul(b):El(b)}function Wa(b){for(var G=b.length;G--&&mn.test(b.charAt(G)););return G}var Wl=ro(gl);function zl(b){for(var G=ji.lastIndex=0;ji.test(b);)++G;return G}function Ul(b){return b.match(ji)||[]}function Bl(b){return b.match(sl)||[]}var $l=function b(G){G=G==null?Gt:Tr.defaults(Gt.Object(),G,Tr.pick(Gt,cl));var z=G.Array,ke=G.Date,tt=G.Error,mt=G.Function,Bt=G.Math,At=G.Object,uo=G.RegExp,Hl=G.String,bn=G.TypeError,oi=z.prototype,ql=mt.prototype,Ar=At.prototype,ai=G["__core-js_shared__"],si=ql.toString,kt=Ar.hasOwnProperty,Gl=0,za=function(){var e=/[^.]+$/.exec(ai&&ai.keys&&ai.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ui=Ar.toString,Jl=si.call(At),Kl=Gt._,Vl=uo("^"+si.call(kt).replace(Vt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),li=xa?G.Buffer:i,Zn=G.Symbol,ci=G.Uint8Array,Ua=li?li.allocUnsafe:i,fi=Na(At.getPrototypeOf,At),Ba=At.create,$a=Ar.propertyIsEnumerable,di=oi.splice,Ha=Zn?Zn.isConcatSpreadable:i,zr=Zn?Zn.iterator:i,fr=Zn?Zn.toStringTag:i,hi=function(){try{var e=vr(At,"defineProperty");return e({},"",{}),e}catch{}}(),Yl=G.clearTimeout!==Gt.clearTimeout&&G.clearTimeout,jl=ke&&ke.now!==Gt.Date.now&&ke.now,Xl=G.setTimeout!==Gt.setTimeout&&G.setTimeout,gi=Bt.ceil,_i=Bt.floor,lo=At.getOwnPropertySymbols,Zl=li?li.isBuffer:i,qa=G.isFinite,Ql=oi.join,ec=Na(At.keys,At),$t=Bt.max,Yt=Bt.min,tc=ke.now,nc=G.parseInt,Ga=Bt.random,rc=oi.reverse,co=vr(G,"DataView"),Ur=vr(G,"Map"),fo=vr(G,"Promise"),Cr=vr(G,"Set"),Br=vr(G,"WeakMap"),$r=vr(At,"create"),vi=Br&&new Br,Sr={},ic=pr(co),oc=pr(Ur),ac=pr(fo),sc=pr(Cr),uc=pr(Br),pi=Zn?Zn.prototype:i,Hr=pi?pi.valueOf:i,Ja=pi?pi.toString:i;function s(e){if(Rt(e)&&!nt(e)&&!(e instanceof ht)){if(e instanceof xn)return e;if(kt.call(e,"__wrapped__"))return Ks(e)}return new xn(e)}var Or=function(){function e(){}return function(t){if(!It(t))return{};if(Ba)return Ba(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function mi(){}function xn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}s.templateSettings={escape:Se,evaluate:Ze,interpolate:qe,variable:"",imports:{_:s}},s.prototype=mi.prototype,s.prototype.constructor=s,xn.prototype=Or(mi.prototype),xn.prototype.constructor=xn;function ht(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=re,this.__views__=[]}function lc(){var e=new ht(this.__wrapped__);return e.__actions__=sn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=sn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=sn(this.__views__),e}function cc(){if(this.__filtered__){var e=new ht(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function fc(){var e=this.__wrapped__.value(),t=this.__dir__,n=nt(e),r=t<0,o=n?e.length:0,u=kf(0,o,this.__views__),h=u.start,v=u.end,T=v-h,Z=r?v:h-1,te=this.__iteratees__,se=te.length,we=0,Oe=Yt(T,this.__takeCount__);if(!n||!r&&o==T&&Oe==T)return vs(e,this.__actions__);var Ue=[];e:for(;T--&&we<Oe;){Z+=t;for(var st=-1,Be=e[Z];++st<se;){var dt=te[st],gt=dt.iteratee,vn=dt.type,nn=gt(Be);if(vn==x)Be=nn;else if(!nn){if(vn==Y)continue e;break e}}Ue[we++]=Be}return Ue}ht.prototype=Or(mi.prototype),ht.prototype.constructor=ht;function dr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function dc(){this.__data__=$r?$r(null):{},this.size=0}function hc(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function gc(e){var t=this.__data__;if($r){var n=t[e];return n===j?i:n}return kt.call(t,e)?t[e]:i}function _c(e){var t=this.__data__;return $r?t[e]!==i:kt.call(t,e)}function vc(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=$r&&t===i?j:t,this}dr.prototype.clear=dc,dr.prototype.delete=hc,dr.prototype.get=gc,dr.prototype.has=_c,dr.prototype.set=vc;function Wn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function pc(){this.__data__=[],this.size=0}function mc(e){var t=this.__data__,n=yi(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():di.call(t,n,1),--this.size,!0}function yc(e){var t=this.__data__,n=yi(t,e);return n<0?i:t[n][1]}function wc(e){return yi(this.__data__,e)>-1}function bc(e,t){var n=this.__data__,r=yi(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}Wn.prototype.clear=pc,Wn.prototype.delete=mc,Wn.prototype.get=yc,Wn.prototype.has=wc,Wn.prototype.set=bc;function zn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function xc(){this.size=0,this.__data__={hash:new dr,map:new(Ur||Wn),string:new dr}}function Ec(e){var t=Ii(this,e).delete(e);return this.size-=t?1:0,t}function kc(e){return Ii(this,e).get(e)}function Tc(e){return Ii(this,e).has(e)}function Ac(e,t){var n=Ii(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}zn.prototype.clear=xc,zn.prototype.delete=Ec,zn.prototype.get=kc,zn.prototype.has=Tc,zn.prototype.set=Ac;function hr(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new zn;++t<n;)this.add(e[t])}function Cc(e){return this.__data__.set(e,j),this}function Sc(e){return this.__data__.has(e)}hr.prototype.add=hr.prototype.push=Cc,hr.prototype.has=Sc;function Mn(e){var t=this.__data__=new Wn(e);this.size=t.size}function Oc(){this.__data__=new Wn,this.size=0}function Mc(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Ic(e){return this.__data__.get(e)}function Fc(e){return this.__data__.has(e)}function Pc(e,t){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!Ur||r.length<p-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new zn(r)}return n.set(e,t),this.size=n.size,this}Mn.prototype.clear=Oc,Mn.prototype.delete=Mc,Mn.prototype.get=Ic,Mn.prototype.has=Fc,Mn.prototype.set=Pc;function Ka(e,t){var n=nt(e),r=!n&&mr(e),o=!n&&!r&&rr(e),u=!n&&!r&&!o&&Pr(e),h=n||r||o||u,v=h?oo(e.length,Hl):[],T=v.length;for(var Z in e)(t||kt.call(e,Z))&&!(h&&(Z=="length"||o&&(Z=="offset"||Z=="parent")||u&&(Z=="buffer"||Z=="byteLength"||Z=="byteOffset")||Hn(Z,T)))&&v.push(Z);return v}function Va(e){var t=e.length;return t?e[Eo(0,t-1)]:i}function Rc(e,t){return Fi(sn(e),gr(t,0,e.length))}function Lc(e){return Fi(sn(e))}function ho(e,t,n){(n!==i&&!In(e[t],n)||n===i&&!(t in e))&&Un(e,t,n)}function qr(e,t,n){var r=e[t];(!(kt.call(e,t)&&In(r,n))||n===i&&!(t in e))&&Un(e,t,n)}function yi(e,t){for(var n=e.length;n--;)if(In(e[n][0],t))return n;return-1}function Dc(e,t,n,r){return Qn(e,function(o,u,h){t(r,o,n(o),h)}),r}function Ya(e,t){return e&&Ln(t,qt(t),e)}function Nc(e,t){return e&&Ln(t,ln(t),e)}function Un(e,t,n){t=="__proto__"&&hi?hi(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function go(e,t){for(var n=-1,r=t.length,o=z(r),u=e==null;++n<r;)o[n]=u?i:Vo(e,t[n]);return o}function gr(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function En(e,t,n,r,o,u){var h,v=t&Q,T=t&S,Z=t&F;if(n&&(h=o?n(e,r,o,u):n(e)),h!==i)return h;if(!It(e))return e;var te=nt(e);if(te){if(h=Af(e),!v)return sn(e,h)}else{var se=jt(e),we=se==at||se==Ut;if(rr(e))return ys(e,v);if(se==he||se==Me||we&&!o){if(h=T||we?{}:Ws(e),!v)return T?_f(e,Nc(h,e)):gf(e,Ya(h,e))}else{if(!Ct[se])return o?e:{};h=Cf(e,se,v)}}u||(u=new Mn);var Oe=u.get(e);if(Oe)return Oe;u.set(e,h),hu(e)?e.forEach(function(Be){h.add(En(Be,t,n,Be,e,u))}):fu(e)&&e.forEach(function(Be,dt){h.set(dt,En(Be,t,n,dt,e,u))});var Ue=Z?T?Ro:Po:T?ln:qt,st=te?i:Ue(e);return wn(st||e,function(Be,dt){st&&(dt=Be,Be=e[dt]),qr(h,dt,En(Be,t,n,dt,e,u))}),h}function Wc(e){var t=qt(e);return function(n){return ja(n,e,t)}}function ja(e,t,n){var r=n.length;if(e==null)return!r;for(e=At(e);r--;){var o=n[r],u=t[o],h=e[o];if(h===i&&!(o in e)||!u(h))return!1}return!0}function Xa(e,t,n){if(typeof e!="function")throw new bn(B);return Xr(function(){e.apply(i,n)},t)}function Gr(e,t,n,r){var o=-1,u=ni,h=!0,v=e.length,T=[],Z=t.length;if(!v)return T;n&&(t=Mt(t,hn(n))),r?(u=Qi,h=!1):t.length>=p&&(u=Wr,h=!1,t=new hr(t));e:for(;++o<v;){var te=e[o],se=n==null?te:n(te);if(te=r||te!==0?te:0,h&&se===se){for(var we=Z;we--;)if(t[we]===se)continue e;T.push(te)}else u(t,se,r)||T.push(te)}return T}var Qn=ks(Rn),Za=ks(vo,!0);function zc(e,t){var n=!0;return Qn(e,function(r,o,u){return n=!!t(r,o,u),n}),n}function wi(e,t,n){for(var r=-1,o=e.length;++r<o;){var u=e[r],h=t(u);if(h!=null&&(v===i?h===h&&!_n(h):n(h,v)))var v=h,T=u}return T}function Uc(e,t,n,r){var o=e.length;for(n=it(n),n<0&&(n=-n>o?0:o+n),r=r===i||r>o?o:it(r),r<0&&(r+=o),r=n>r?0:_u(r);n<r;)e[n++]=t;return e}function Qa(e,t){var n=[];return Qn(e,function(r,o,u){t(r,o,u)&&n.push(r)}),n}function Jt(e,t,n,r,o){var u=-1,h=e.length;for(n||(n=Of),o||(o=[]);++u<h;){var v=e[u];t>0&&n(v)?t>1?Jt(v,t-1,n,r,o):jn(o,v):r||(o[o.length]=v)}return o}var _o=Ts(),es=Ts(!0);function Rn(e,t){return e&&_o(e,t,qt)}function vo(e,t){return e&&es(e,t,qt)}function bi(e,t){return Yn(t,function(n){return qn(e[n])})}function _r(e,t){t=tr(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Dn(t[n++])];return n&&n==r?e:i}function ts(e,t,n){var r=t(e);return nt(e)?r:jn(r,n(e))}function en(e){return e==null?e===i?_t:A:fr&&fr in At(e)?Ef(e):Df(e)}function po(e,t){return e>t}function Bc(e,t){return e!=null&&kt.call(e,t)}function $c(e,t){return e!=null&&t in At(e)}function Hc(e,t,n){return e>=Yt(t,n)&&e<$t(t,n)}function mo(e,t,n){for(var r=n?Qi:ni,o=e[0].length,u=e.length,h=u,v=z(u),T=1/0,Z=[];h--;){var te=e[h];h&&t&&(te=Mt(te,hn(t))),T=Yt(te.length,T),v[h]=!n&&(t||o>=120&&te.length>=120)?new hr(h&&te):i}te=e[0];var se=-1,we=v[0];e:for(;++se<o&&Z.length<T;){var Oe=te[se],Ue=t?t(Oe):Oe;if(Oe=n||Oe!==0?Oe:0,!(we?Wr(we,Ue):r(Z,Ue,n))){for(h=u;--h;){var st=v[h];if(!(st?Wr(st,Ue):r(e[h],Ue,n)))continue e}we&&we.push(Ue),Z.push(Oe)}}return Z}function qc(e,t,n,r){return Rn(e,function(o,u,h){t(r,n(o),u,h)}),r}function Jr(e,t,n){t=tr(t,e),e=$s(e,t);var r=e==null?e:e[Dn(Tn(t))];return r==null?i:dn(r,e,n)}function ns(e){return Rt(e)&&en(e)==Me}function Gc(e){return Rt(e)&&en(e)==k}function Jc(e){return Rt(e)&&en(e)==ft}function Kr(e,t,n,r,o){return e===t?!0:e==null||t==null||!Rt(e)&&!Rt(t)?e!==e&&t!==t:Kc(e,t,n,r,Kr,o)}function Kc(e,t,n,r,o,u){var h=nt(e),v=nt(t),T=h?Ge:jt(e),Z=v?Ge:jt(t);T=T==Me?he:T,Z=Z==Me?he:Z;var te=T==he,se=Z==he,we=T==Z;if(we&&rr(e)){if(!rr(t))return!1;h=!0,te=!1}if(we&&!te)return u||(u=new Mn),h||Pr(e)?Ls(e,t,n,r,o,u):bf(e,t,T,n,r,o,u);if(!(n&E)){var Oe=te&&kt.call(e,"__wrapped__"),Ue=se&&kt.call(t,"__wrapped__");if(Oe||Ue){var st=Oe?e.value():e,Be=Ue?t.value():t;return u||(u=new Mn),o(st,Be,n,r,u)}}return we?(u||(u=new Mn),xf(e,t,n,r,o,u)):!1}function Vc(e){return Rt(e)&&jt(e)==bt}function yo(e,t,n,r){var o=n.length,u=o,h=!r;if(e==null)return!u;for(e=At(e);o--;){var v=n[o];if(h&&v[2]?v[1]!==e[v[0]]:!(v[0]in e))return!1}for(;++o<u;){v=n[o];var T=v[0],Z=e[T],te=v[1];if(h&&v[2]){if(Z===i&&!(T in e))return!1}else{var se=new Mn;if(r)var we=r(Z,te,T,e,t,se);if(!(we===i?Kr(te,Z,E|W,r,se):we))return!1}}return!0}function rs(e){if(!It(e)||If(e))return!1;var t=qn(e)?Vl:Ie;return t.test(pr(e))}function Yc(e){return Rt(e)&&en(e)==ge}function jc(e){return Rt(e)&&jt(e)==fe}function Xc(e){return Rt(e)&&Wi(e.length)&&!!St[en(e)]}function is(e){return typeof e=="function"?e:e==null?cn:typeof e=="object"?nt(e)?ss(e[0],e[1]):as(e):Au(e)}function wo(e){if(!jr(e))return ec(e);var t=[];for(var n in At(e))kt.call(e,n)&&n!="constructor"&&t.push(n);return t}function Zc(e){if(!It(e))return Lf(e);var t=jr(e),n=[];for(var r in e)r=="constructor"&&(t||!kt.call(e,r))||n.push(r);return n}function bo(e,t){return e<t}function os(e,t){var n=-1,r=un(e)?z(e.length):[];return Qn(e,function(o,u,h){r[++n]=t(o,u,h)}),r}function as(e){var t=Do(e);return t.length==1&&t[0][2]?Us(t[0][0],t[0][1]):function(n){return n===e||yo(n,e,t)}}function ss(e,t){return Wo(e)&&zs(t)?Us(Dn(e),t):function(n){var r=Vo(n,e);return r===i&&r===t?Yo(n,e):Kr(t,r,E|W)}}function xi(e,t,n,r,o){e!==t&&_o(t,function(u,h){if(o||(o=new Mn),It(u))Qc(e,t,h,n,xi,r,o);else{var v=r?r(Uo(e,h),u,h+"",e,t,o):i;v===i&&(v=u),ho(e,h,v)}},ln)}function Qc(e,t,n,r,o,u,h){var v=Uo(e,n),T=Uo(t,n),Z=h.get(T);if(Z){ho(e,n,Z);return}var te=u?u(v,T,n+"",e,t,h):i,se=te===i;if(se){var we=nt(T),Oe=!we&&rr(T),Ue=!we&&!Oe&&Pr(T);te=T,we||Oe||Ue?nt(v)?te=v:Dt(v)?te=sn(v):Oe?(se=!1,te=ys(T,!0)):Ue?(se=!1,te=ws(T,!0)):te=[]:Zr(T)||mr(T)?(te=v,mr(v)?te=vu(v):(!It(v)||qn(v))&&(te=Ws(T))):se=!1}se&&(h.set(T,te),o(te,T,r,u,h),h.delete(T)),ho(e,n,te)}function us(e,t){var n=e.length;if(n)return t+=t<0?n:0,Hn(t,n)?e[t]:i}function ls(e,t,n){t.length?t=Mt(t,function(u){return nt(u)?function(h){return _r(h,u.length===1?u[0]:u)}:u}):t=[cn];var r=-1;t=Mt(t,hn(We()));var o=os(e,function(u,h,v){var T=Mt(t,function(Z){return Z(u)});return{criteria:T,index:++r,value:u}});return Al(o,function(u,h){return hf(u,h,n)})}function ef(e,t){return cs(e,t,function(n,r){return Yo(e,r)})}function cs(e,t,n){for(var r=-1,o=t.length,u={};++r<o;){var h=t[r],v=_r(e,h);n(v,h)&&Vr(u,tr(h,e),v)}return u}function tf(e){return function(t){return _r(t,e)}}function xo(e,t,n,r){var o=r?Tl:xr,u=-1,h=t.length,v=e;for(e===t&&(t=sn(t)),n&&(v=Mt(e,hn(n)));++u<h;)for(var T=0,Z=t[u],te=n?n(Z):Z;(T=o(v,te,T,r))>-1;)v!==e&&di.call(v,T,1),di.call(e,T,1);return e}function fs(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==u){var u=o;Hn(o)?di.call(e,o,1):Ao(e,o)}}return e}function Eo(e,t){return e+_i(Ga()*(t-e+1))}function nf(e,t,n,r){for(var o=-1,u=$t(gi((t-e)/(n||1)),0),h=z(u);u--;)h[r?u:++o]=e,e+=n;return h}function ko(e,t){var n="";if(!e||t<1||t>ae)return n;do t%2&&(n+=e),t=_i(t/2),t&&(e+=e);while(t);return n}function ut(e,t){return Bo(Bs(e,t,cn),e+"")}function rf(e){return Va(Rr(e))}function of(e,t){var n=Rr(e);return Fi(n,gr(t,0,n.length))}function Vr(e,t,n,r){if(!It(e))return e;t=tr(t,e);for(var o=-1,u=t.length,h=u-1,v=e;v!=null&&++o<u;){var T=Dn(t[o]),Z=n;if(T==="__proto__"||T==="constructor"||T==="prototype")return e;if(o!=h){var te=v[T];Z=r?r(te,T,v):i,Z===i&&(Z=It(te)?te:Hn(t[o+1])?[]:{})}qr(v,T,Z),v=v[T]}return e}var ds=vi?function(e,t){return vi.set(e,t),e}:cn,af=hi?function(e,t){return hi(e,"toString",{configurable:!0,enumerable:!1,value:Xo(t),writable:!0})}:cn;function sf(e){return Fi(Rr(e))}function kn(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var u=z(o);++r<o;)u[r]=e[r+t];return u}function uf(e,t){var n;return Qn(e,function(r,o,u){return n=t(r,o,u),!n}),!!n}function Ei(e,t,n){var r=0,o=e==null?r:e.length;if(typeof t=="number"&&t===t&&o<=De){for(;r<o;){var u=r+o>>>1,h=e[u];h!==null&&!_n(h)&&(n?h<=t:h<t)?r=u+1:o=u}return o}return To(e,t,cn,n)}function To(e,t,n,r){var o=0,u=e==null?0:e.length;if(u===0)return 0;t=n(t);for(var h=t!==t,v=t===null,T=_n(t),Z=t===i;o<u;){var te=_i((o+u)/2),se=n(e[te]),we=se!==i,Oe=se===null,Ue=se===se,st=_n(se);if(h)var Be=r||Ue;else Z?Be=Ue&&(r||we):v?Be=Ue&&we&&(r||!Oe):T?Be=Ue&&we&&!Oe&&(r||!st):Oe||st?Be=!1:Be=r?se<=t:se<t;Be?o=te+1:u=te}return Yt(u,Pe)}function hs(e,t){for(var n=-1,r=e.length,o=0,u=[];++n<r;){var h=e[n],v=t?t(h):h;if(!n||!In(v,T)){var T=v;u[o++]=h===0?0:h}}return u}function gs(e){return typeof e=="number"?e:_n(e)?ne:+e}function gn(e){if(typeof e=="string")return e;if(nt(e))return Mt(e,gn)+"";if(_n(e))return Ja?Ja.call(e):"";var t=e+"";return t=="0"&&1/e==-N?"-0":t}function er(e,t,n){var r=-1,o=ni,u=e.length,h=!0,v=[],T=v;if(n)h=!1,o=Qi;else if(u>=p){var Z=t?null:yf(e);if(Z)return ii(Z);h=!1,o=Wr,T=new hr}else T=t?[]:v;e:for(;++r<u;){var te=e[r],se=t?t(te):te;if(te=n||te!==0?te:0,h&&se===se){for(var we=T.length;we--;)if(T[we]===se)continue e;t&&T.push(se),v.push(te)}else o(T,se,n)||(T!==v&&T.push(se),v.push(te))}return v}function Ao(e,t){return t=tr(t,e),e=$s(e,t),e==null||delete e[Dn(Tn(t))]}function _s(e,t,n,r){return Vr(e,t,n(_r(e,t)),r)}function ki(e,t,n,r){for(var o=e.length,u=r?o:-1;(r?u--:++u<o)&&t(e[u],u,e););return n?kn(e,r?0:u,r?u+1:o):kn(e,r?u+1:0,r?o:u)}function vs(e,t){var n=e;return n instanceof ht&&(n=n.value()),eo(t,function(r,o){return o.func.apply(o.thisArg,jn([r],o.args))},n)}function Co(e,t,n){var r=e.length;if(r<2)return r?er(e[0]):[];for(var o=-1,u=z(r);++o<r;)for(var h=e[o],v=-1;++v<r;)v!=o&&(u[o]=Gr(u[o]||h,e[v],t,n));return er(Jt(u,1),t,n)}function ps(e,t,n){for(var r=-1,o=e.length,u=t.length,h={};++r<o;){var v=r<u?t[r]:i;n(h,e[r],v)}return h}function So(e){return Dt(e)?e:[]}function Oo(e){return typeof e=="function"?e:cn}function tr(e,t){return nt(e)?e:Wo(e,t)?[e]:Js(Et(e))}var lf=ut;function nr(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:kn(e,t,n)}var ms=Yl||function(e){return Gt.clearTimeout(e)};function ys(e,t){if(t)return e.slice();var n=e.length,r=Ua?Ua(n):new e.constructor(n);return e.copy(r),r}function Mo(e){var t=new e.constructor(e.byteLength);return new ci(t).set(new ci(e)),t}function cf(e,t){var n=t?Mo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function ff(e){var t=new e.constructor(e.source,C.exec(e));return t.lastIndex=e.lastIndex,t}function df(e){return Hr?At(Hr.call(e)):{}}function ws(e,t){var n=t?Mo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function bs(e,t){if(e!==t){var n=e!==i,r=e===null,o=e===e,u=_n(e),h=t!==i,v=t===null,T=t===t,Z=_n(t);if(!v&&!Z&&!u&&e>t||u&&h&&T&&!v&&!Z||r&&h&&T||!n&&T||!o)return 1;if(!r&&!u&&!Z&&e<t||Z&&n&&o&&!r&&!u||v&&n&&o||!h&&o||!T)return-1}return 0}function hf(e,t,n){for(var r=-1,o=e.criteria,u=t.criteria,h=o.length,v=n.length;++r<h;){var T=bs(o[r],u[r]);if(T){if(r>=v)return T;var Z=n[r];return T*(Z=="desc"?-1:1)}}return e.index-t.index}function xs(e,t,n,r){for(var o=-1,u=e.length,h=n.length,v=-1,T=t.length,Z=$t(u-h,0),te=z(T+Z),se=!r;++v<T;)te[v]=t[v];for(;++o<h;)(se||o<u)&&(te[n[o]]=e[o]);for(;Z--;)te[v++]=e[o++];return te}function Es(e,t,n,r){for(var o=-1,u=e.length,h=-1,v=n.length,T=-1,Z=t.length,te=$t(u-v,0),se=z(te+Z),we=!r;++o<te;)se[o]=e[o];for(var Oe=o;++T<Z;)se[Oe+T]=t[T];for(;++h<v;)(we||o<u)&&(se[Oe+n[h]]=e[o++]);return se}function sn(e,t){var n=-1,r=e.length;for(t||(t=z(r));++n<r;)t[n]=e[n];return t}function Ln(e,t,n,r){var o=!n;n||(n={});for(var u=-1,h=t.length;++u<h;){var v=t[u],T=r?r(n[v],e[v],v,n,e):i;T===i&&(T=e[v]),o?Un(n,v,T):qr(n,v,T)}return n}function gf(e,t){return Ln(e,No(e),t)}function _f(e,t){return Ln(e,Ds(e),t)}function Ti(e,t){return function(n,r){var o=nt(n)?yl:Dc,u=t?t():{};return o(n,e,We(r,2),u)}}function Mr(e){return ut(function(t,n){var r=-1,o=n.length,u=o>1?n[o-1]:i,h=o>2?n[2]:i;for(u=e.length>3&&typeof u=="function"?(o--,u):i,h&&tn(n[0],n[1],h)&&(u=o<3?i:u,o=1),t=At(t);++r<o;){var v=n[r];v&&e(t,v,r,u)}return t})}function ks(e,t){return function(n,r){if(n==null)return n;if(!un(n))return e(n,r);for(var o=n.length,u=t?o:-1,h=At(n);(t?u--:++u<o)&&r(h[u],u,h)!==!1;);return n}}function Ts(e){return function(t,n,r){for(var o=-1,u=At(t),h=r(t),v=h.length;v--;){var T=h[e?v:++o];if(n(u[T],T,u)===!1)break}return t}}function vf(e,t,n){var r=t&R,o=Yr(e);function u(){var h=this&&this!==Gt&&this instanceof u?o:e;return h.apply(r?n:this,arguments)}return u}function As(e){return function(t){t=Et(t);var n=Er(t)?On(t):i,r=n?n[0]:t.charAt(0),o=n?nr(n,1).join(""):t.slice(1);return r[e]()+o}}function Ir(e){return function(t){return eo(ku(Eu(t).replace(ol,"")),e,"")}}function Yr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Or(e.prototype),r=e.apply(n,t);return It(r)?r:n}}function pf(e,t,n){var r=Yr(e);function o(){for(var u=arguments.length,h=z(u),v=u,T=Fr(o);v--;)h[v]=arguments[v];var Z=u<3&&h[0]!==T&&h[u-1]!==T?[]:Xn(h,T);if(u-=Z.length,u<n)return Is(e,t,Ai,o.placeholder,i,h,Z,i,i,n-u);var te=this&&this!==Gt&&this instanceof o?r:e;return dn(te,this,h)}return o}function Cs(e){return function(t,n,r){var o=At(t);if(!un(t)){var u=We(n,3);t=qt(t),n=function(v){return u(o[v],v,o)}}var h=e(t,n,r);return h>-1?o[u?t[h]:h]:i}}function Ss(e){return $n(function(t){var n=t.length,r=n,o=xn.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if(typeof u!="function")throw new bn(B);if(o&&!h&&Mi(u)=="wrapper")var h=new xn([],!0)}for(r=h?r:n;++r<n;){u=t[r];var v=Mi(u),T=v=="wrapper"?Lo(u):i;T&&zo(T[0])&&T[1]==(ve|c|f|ce)&&!T[4].length&&T[9]==1?h=h[Mi(T[0])].apply(h,T[3]):h=u.length==1&&zo(u)?h[v]():h.thru(u)}return function(){var Z=arguments,te=Z[0];if(h&&Z.length==1&&nt(te))return h.plant(te).value();for(var se=0,we=n?t[se].apply(this,Z):te;++se<n;)we=t[se].call(this,we);return we}})}function Ai(e,t,n,r,o,u,h,v,T,Z){var te=t&ve,se=t&R,we=t&ee,Oe=t&(c|K),Ue=t&ze,st=we?i:Yr(e);function Be(){for(var dt=arguments.length,gt=z(dt),vn=dt;vn--;)gt[vn]=arguments[vn];if(Oe)var nn=Fr(Be),pn=Sl(gt,nn);if(r&&(gt=xs(gt,r,o,Oe)),u&&(gt=Es(gt,u,h,Oe)),dt-=pn,Oe&&dt<Z){var Nt=Xn(gt,nn);return Is(e,t,Ai,Be.placeholder,n,gt,Nt,v,T,Z-dt)}var Fn=se?n:this,Jn=we?Fn[e]:e;return dt=gt.length,v?gt=Nf(gt,v):Ue&&dt>1&&gt.reverse(),te&&T<dt&&(gt.length=T),this&&this!==Gt&&this instanceof Be&&(Jn=st||Yr(Jn)),Jn.apply(Fn,gt)}return Be}function Os(e,t){return function(n,r){return qc(n,e,t(r),{})}}function Ci(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;typeof n=="string"||typeof r=="string"?(n=gn(n),r=gn(r)):(n=gs(n),r=gs(r)),o=e(n,r)}return o}}function Io(e){return $n(function(t){return t=Mt(t,hn(We())),ut(function(n){var r=this;return e(t,function(o){return dn(o,r,n)})})})}function Si(e,t){t=t===i?" ":gn(t);var n=t.length;if(n<2)return n?ko(t,e):t;var r=ko(t,gi(e/kr(t)));return Er(t)?nr(On(r),0,e).join(""):r.slice(0,e)}function mf(e,t,n,r){var o=t&R,u=Yr(e);function h(){for(var v=-1,T=arguments.length,Z=-1,te=r.length,se=z(te+T),we=this&&this!==Gt&&this instanceof h?u:e;++Z<te;)se[Z]=r[Z];for(;T--;)se[Z++]=arguments[++v];return dn(we,o?n:this,se)}return h}function Ms(e){return function(t,n,r){return r&&typeof r!="number"&&tn(t,n,r)&&(n=r=i),t=Gn(t),n===i?(n=t,t=0):n=Gn(n),r=r===i?t<n?1:-1:Gn(r),nf(t,n,r,e)}}function Oi(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=An(t),n=An(n)),e(t,n)}}function Is(e,t,n,r,o,u,h,v,T,Z){var te=t&c,se=te?h:i,we=te?i:h,Oe=te?u:i,Ue=te?i:u;t|=te?f:ue,t&=~(te?ue:f),t&U||(t&=~(R|ee));var st=[e,t,o,Oe,se,Ue,we,v,T,Z],Be=n.apply(i,st);return zo(e)&&Hs(Be,st),Be.placeholder=r,qs(Be,e,t)}function Fo(e){var t=Bt[e];return function(n,r){if(n=An(n),r=r==null?0:Yt(it(r),292),r&&qa(n)){var o=(Et(n)+"e").split("e"),u=t(o[0]+"e"+(+o[1]+r));return o=(Et(u)+"e").split("e"),+(o[0]+"e"+(+o[1]-r))}return t(n)}}var yf=Cr&&1/ii(new Cr([,-0]))[1]==N?function(e){return new Cr(e)}:ea;function Fs(e){return function(t){var n=jt(t);return n==bt?so(t):n==fe?Ll(t):Cl(t,e(t))}}function Bn(e,t,n,r,o,u,h,v){var T=t&ee;if(!T&&typeof e!="function")throw new bn(B);var Z=r?r.length:0;if(Z||(t&=~(f|ue),r=o=i),h=h===i?h:$t(it(h),0),v=v===i?v:it(v),Z-=o?o.length:0,t&ue){var te=r,se=o;r=o=i}var we=T?i:Lo(e),Oe=[e,t,n,r,o,te,se,u,h,v];if(we&&Rf(Oe,we),e=Oe[0],t=Oe[1],n=Oe[2],r=Oe[3],o=Oe[4],v=Oe[9]=Oe[9]===i?T?0:e.length:$t(Oe[9]-Z,0),!v&&t&(c|K)&&(t&=~(c|K)),!t||t==R)var Ue=vf(e,t,n);else t==c||t==K?Ue=pf(e,t,v):(t==f||t==(R|f))&&!o.length?Ue=mf(e,t,n,r):Ue=Ai.apply(i,Oe);var st=we?ds:Hs;return qs(st(Ue,Oe),e,t)}function Ps(e,t,n,r){return e===i||In(e,Ar[n])&&!kt.call(r,n)?t:e}function Rs(e,t,n,r,o,u){return It(e)&&It(t)&&(u.set(t,e),xi(e,t,i,Rs,u),u.delete(t)),e}function wf(e){return Zr(e)?i:e}function Ls(e,t,n,r,o,u){var h=n&E,v=e.length,T=t.length;if(v!=T&&!(h&&T>v))return!1;var Z=u.get(e),te=u.get(t);if(Z&&te)return Z==t&&te==e;var se=-1,we=!0,Oe=n&W?new hr:i;for(u.set(e,t),u.set(t,e);++se<v;){var Ue=e[se],st=t[se];if(r)var Be=h?r(st,Ue,se,t,e,u):r(Ue,st,se,e,t,u);if(Be!==i){if(Be)continue;we=!1;break}if(Oe){if(!to(t,function(dt,gt){if(!Wr(Oe,gt)&&(Ue===dt||o(Ue,dt,n,r,u)))return Oe.push(gt)})){we=!1;break}}else if(!(Ue===st||o(Ue,st,n,r,u))){we=!1;break}}return u.delete(e),u.delete(t),we}function bf(e,t,n,r,o,u,h){switch(n){case ie:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!u(new ci(e),new ci(t)));case He:case ft:case Wt:return In(+e,+t);case wt:return e.name==t.name&&e.message==t.message;case ge:case Ee:return e==t+"";case bt:var v=so;case fe:var T=r&E;if(v||(v=ii),e.size!=t.size&&!T)return!1;var Z=h.get(e);if(Z)return Z==t;r|=W,h.set(e,t);var te=Ls(v(e),v(t),r,o,u,h);return h.delete(e),te;case Ne:if(Hr)return Hr.call(e)==Hr.call(t)}return!1}function xf(e,t,n,r,o,u){var h=n&E,v=Po(e),T=v.length,Z=Po(t),te=Z.length;if(T!=te&&!h)return!1;for(var se=T;se--;){var we=v[se];if(!(h?we in t:kt.call(t,we)))return!1}var Oe=u.get(e),Ue=u.get(t);if(Oe&&Ue)return Oe==t&&Ue==e;var st=!0;u.set(e,t),u.set(t,e);for(var Be=h;++se<T;){we=v[se];var dt=e[we],gt=t[we];if(r)var vn=h?r(gt,dt,we,t,e,u):r(dt,gt,we,e,t,u);if(!(vn===i?dt===gt||o(dt,gt,n,r,u):vn)){st=!1;break}Be||(Be=we=="constructor")}if(st&&!Be){var nn=e.constructor,pn=t.constructor;nn!=pn&&"constructor"in e&&"constructor"in t&&!(typeof nn=="function"&&nn instanceof nn&&typeof pn=="function"&&pn instanceof pn)&&(st=!1)}return u.delete(e),u.delete(t),st}function $n(e){return Bo(Bs(e,i,js),e+"")}function Po(e){return ts(e,qt,No)}function Ro(e){return ts(e,ln,Ds)}var Lo=vi?function(e){return vi.get(e)}:ea;function Mi(e){for(var t=e.name+"",n=Sr[t],r=kt.call(Sr,t)?n.length:0;r--;){var o=n[r],u=o.func;if(u==null||u==e)return o.name}return t}function Fr(e){var t=kt.call(s,"placeholder")?s:e;return t.placeholder}function We(){var e=s.iteratee||Zo;return e=e===Zo?is:e,arguments.length?e(arguments[0],arguments[1]):e}function Ii(e,t){var n=e.__data__;return Mf(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Do(e){for(var t=qt(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,zs(o)]}return t}function vr(e,t){var n=Fl(e,t);return rs(n)?n:i}function Ef(e){var t=kt.call(e,fr),n=e[fr];try{e[fr]=i;var r=!0}catch{}var o=ui.call(e);return r&&(t?e[fr]=n:delete e[fr]),o}var No=lo?function(e){return e==null?[]:(e=At(e),Yn(lo(e),function(t){return $a.call(e,t)}))}:ta,Ds=lo?function(e){for(var t=[];e;)jn(t,No(e)),e=fi(e);return t}:ta,jt=en;(co&&jt(new co(new ArrayBuffer(1)))!=ie||Ur&&jt(new Ur)!=bt||fo&&jt(fo.resolve())!=y||Cr&&jt(new Cr)!=fe||Br&&jt(new Br)!=Ce)&&(jt=function(e){var t=en(e),n=t==he?e.constructor:i,r=n?pr(n):"";if(r)switch(r){case ic:return ie;case oc:return bt;case ac:return y;case sc:return fe;case uc:return Ce}return t});function kf(e,t,n){for(var r=-1,o=n.length;++r<o;){var u=n[r],h=u.size;switch(u.type){case"drop":e+=h;break;case"dropRight":t-=h;break;case"take":t=Yt(t,e+h);break;case"takeRight":e=$t(e,t-h);break}}return{start:e,end:t}}function Tf(e){var t=e.match(Zt);return t?t[1].split(lr):[]}function Ns(e,t,n){t=tr(t,e);for(var r=-1,o=t.length,u=!1;++r<o;){var h=Dn(t[r]);if(!(u=e!=null&&n(e,h)))break;e=e[h]}return u||++r!=o?u:(o=e==null?0:e.length,!!o&&Wi(o)&&Hn(h,o)&&(nt(e)||mr(e)))}function Af(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&kt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Ws(e){return typeof e.constructor=="function"&&!jr(e)?Or(fi(e)):{}}function Cf(e,t,n){var r=e.constructor;switch(t){case k:return Mo(e);case He:case ft:return new r(+e);case ie:return cf(e,n);case _:case I:case w:case L:case $:case X:case Je:case ct:case zt:return ws(e,n);case bt:return new r;case Wt:case Ee:return new r(e);case ge:return ff(e);case fe:return new r;case Ne:return df(e)}}function Sf(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ur,`{
/* [wrapped with `+t+`] */
`)}function Of(e){return nt(e)||mr(e)||!!(Ha&&e&&e[Ha])}function Hn(e,t){var n=typeof e;return t=t??ae,!!t&&(n=="number"||n!="symbol"&&Qe.test(e))&&e>-1&&e%1==0&&e<t}function tn(e,t,n){if(!It(n))return!1;var r=typeof t;return(r=="number"?un(n)&&Hn(t,n.length):r=="string"&&t in n)?In(n[t],e):!1}function Wo(e,t){if(nt(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||_n(e)?!0:pt.test(e)||!rt.test(e)||t!=null&&e in At(t)}function Mf(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function zo(e){var t=Mi(e),n=s[t];if(typeof n!="function"||!(t in ht.prototype))return!1;if(e===n)return!0;var r=Lo(n);return!!r&&e===r[0]}function If(e){return!!za&&za in e}var Ff=ai?qn:na;function jr(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Ar;return e===n}function zs(e){return e===e&&!It(e)}function Us(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==i||e in At(n))}}function Pf(e){var t=Di(e,function(r){return n.size===ye&&n.clear(),r}),n=t.cache;return t}function Rf(e,t){var n=e[1],r=t[1],o=n|r,u=o<(R|ee|ve),h=r==ve&&n==c||r==ve&&n==ce&&e[7].length<=t[8]||r==(ve|ce)&&t[7].length<=t[8]&&n==c;if(!(u||h))return e;r&R&&(e[2]=t[2],o|=n&R?0:U);var v=t[3];if(v){var T=e[3];e[3]=T?xs(T,v,t[4]):v,e[4]=T?Xn(e[3],le):t[4]}return v=t[5],v&&(T=e[5],e[5]=T?Es(T,v,t[6]):v,e[6]=T?Xn(e[5],le):t[6]),v=t[7],v&&(e[7]=v),r&ve&&(e[8]=e[8]==null?t[8]:Yt(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}function Lf(e){var t=[];if(e!=null)for(var n in At(e))t.push(n);return t}function Df(e){return ui.call(e)}function Bs(e,t,n){return t=$t(t===i?e.length-1:t,0),function(){for(var r=arguments,o=-1,u=$t(r.length-t,0),h=z(u);++o<u;)h[o]=r[t+o];o=-1;for(var v=z(t+1);++o<t;)v[o]=r[o];return v[t]=n(h),dn(e,this,v)}}function $s(e,t){return t.length<2?e:_r(e,kn(t,0,-1))}function Nf(e,t){for(var n=e.length,r=Yt(t.length,n),o=sn(e);r--;){var u=t[r];e[r]=Hn(u,n)?o[u]:i}return e}function Uo(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Hs=Gs(ds),Xr=Xl||function(e,t){return Gt.setTimeout(e,t)},Bo=Gs(af);function qs(e,t,n){var r=t+"";return Bo(e,Sf(r,Wf(Tf(r),n)))}function Gs(e){var t=0,n=0;return function(){var r=tc(),o=q-(r-n);if(n=r,o>0){if(++t>=be)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Fi(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var u=Eo(n,o),h=e[u];e[u]=e[n],e[n]=h}return e.length=t,e}var Js=Pf(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Pt,function(n,r,o,u){t.push(o?u.replace(V,"$1"):r||n)}),t});function Dn(e){if(typeof e=="string"||_n(e))return e;var t=e+"";return t=="0"&&1/e==-N?"-0":t}function pr(e){if(e!=null){try{return si.call(e)}catch{}try{return e+""}catch{}}return""}function Wf(e,t){return wn(yt,function(n){var r="_."+n[0];t&n[1]&&!ni(e,r)&&e.push(r)}),e.sort()}function Ks(e){if(e instanceof ht)return e.clone();var t=new xn(e.__wrapped__,e.__chain__);return t.__actions__=sn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function zf(e,t,n){(n?tn(e,t,n):t===i)?t=1:t=$t(it(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var o=0,u=0,h=z(gi(r/t));o<r;)h[u++]=kn(e,o,o+=t);return h}function Uf(e){for(var t=-1,n=e==null?0:e.length,r=0,o=[];++t<n;){var u=e[t];u&&(o[r++]=u)}return o}function Bf(){var e=arguments.length;if(!e)return[];for(var t=z(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return jn(nt(n)?sn(n):[n],Jt(t,1))}var $f=ut(function(e,t){return Dt(e)?Gr(e,Jt(t,1,Dt,!0)):[]}),Hf=ut(function(e,t){var n=Tn(t);return Dt(n)&&(n=i),Dt(e)?Gr(e,Jt(t,1,Dt,!0),We(n,2)):[]}),qf=ut(function(e,t){var n=Tn(t);return Dt(n)&&(n=i),Dt(e)?Gr(e,Jt(t,1,Dt,!0),i,n):[]});function Gf(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===i?1:it(t),kn(e,t<0?0:t,r)):[]}function Jf(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===i?1:it(t),t=r-t,kn(e,0,t<0?0:t)):[]}function Kf(e,t){return e&&e.length?ki(e,We(t,3),!0,!0):[]}function Vf(e,t){return e&&e.length?ki(e,We(t,3),!0):[]}function Yf(e,t,n,r){var o=e==null?0:e.length;return o?(n&&typeof n!="number"&&tn(e,t,n)&&(n=0,r=o),Uc(e,t,n,r)):[]}function Vs(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:it(n);return o<0&&(o=$t(r+o,0)),ri(e,We(t,3),o)}function Ys(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=it(n),o=n<0?$t(r+o,0):Yt(o,r-1)),ri(e,We(t,3),o,!0)}function js(e){var t=e==null?0:e.length;return t?Jt(e,1):[]}function jf(e){var t=e==null?0:e.length;return t?Jt(e,N):[]}function Xf(e,t){var n=e==null?0:e.length;return n?(t=t===i?1:it(t),Jt(e,t)):[]}function Zf(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r}function Xs(e){return e&&e.length?e[0]:i}function Qf(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:it(n);return o<0&&(o=$t(r+o,0)),xr(e,t,o)}function ed(e){var t=e==null?0:e.length;return t?kn(e,0,-1):[]}var td=ut(function(e){var t=Mt(e,So);return t.length&&t[0]===e[0]?mo(t):[]}),nd=ut(function(e){var t=Tn(e),n=Mt(e,So);return t===Tn(n)?t=i:n.pop(),n.length&&n[0]===e[0]?mo(n,We(t,2)):[]}),rd=ut(function(e){var t=Tn(e),n=Mt(e,So);return t=typeof t=="function"?t:i,t&&n.pop(),n.length&&n[0]===e[0]?mo(n,i,t):[]});function id(e,t){return e==null?"":Ql.call(e,t)}function Tn(e){var t=e==null?0:e.length;return t?e[t-1]:i}function od(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=it(n),o=o<0?$t(r+o,0):Yt(o,r-1)),t===t?Nl(e,t,o):ri(e,Ia,o,!0)}function ad(e,t){return e&&e.length?us(e,it(t)):i}var sd=ut(Zs);function Zs(e,t){return e&&e.length&&t&&t.length?xo(e,t):e}function ud(e,t,n){return e&&e.length&&t&&t.length?xo(e,t,We(n,2)):e}function ld(e,t,n){return e&&e.length&&t&&t.length?xo(e,t,i,n):e}var cd=$n(function(e,t){var n=e==null?0:e.length,r=go(e,t);return fs(e,Mt(t,function(o){return Hn(o,n)?+o:o}).sort(bs)),r});function fd(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,o=[],u=e.length;for(t=We(t,3);++r<u;){var h=e[r];t(h,r,e)&&(n.push(h),o.push(r))}return fs(e,o),n}function $o(e){return e==null?e:rc.call(e)}function dd(e,t,n){var r=e==null?0:e.length;return r?(n&&typeof n!="number"&&tn(e,t,n)?(t=0,n=r):(t=t==null?0:it(t),n=n===i?r:it(n)),kn(e,t,n)):[]}function hd(e,t){return Ei(e,t)}function gd(e,t,n){return To(e,t,We(n,2))}function _d(e,t){var n=e==null?0:e.length;if(n){var r=Ei(e,t);if(r<n&&In(e[r],t))return r}return-1}function vd(e,t){return Ei(e,t,!0)}function pd(e,t,n){return To(e,t,We(n,2),!0)}function md(e,t){var n=e==null?0:e.length;if(n){var r=Ei(e,t,!0)-1;if(In(e[r],t))return r}return-1}function yd(e){return e&&e.length?hs(e):[]}function wd(e,t){return e&&e.length?hs(e,We(t,2)):[]}function bd(e){var t=e==null?0:e.length;return t?kn(e,1,t):[]}function xd(e,t,n){return e&&e.length?(t=n||t===i?1:it(t),kn(e,0,t<0?0:t)):[]}function Ed(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===i?1:it(t),t=r-t,kn(e,t<0?0:t,r)):[]}function kd(e,t){return e&&e.length?ki(e,We(t,3),!1,!0):[]}function Td(e,t){return e&&e.length?ki(e,We(t,3)):[]}var Ad=ut(function(e){return er(Jt(e,1,Dt,!0))}),Cd=ut(function(e){var t=Tn(e);return Dt(t)&&(t=i),er(Jt(e,1,Dt,!0),We(t,2))}),Sd=ut(function(e){var t=Tn(e);return t=typeof t=="function"?t:i,er(Jt(e,1,Dt,!0),i,t)});function Od(e){return e&&e.length?er(e):[]}function Md(e,t){return e&&e.length?er(e,We(t,2)):[]}function Id(e,t){return t=typeof t=="function"?t:i,e&&e.length?er(e,i,t):[]}function Ho(e){if(!(e&&e.length))return[];var t=0;return e=Yn(e,function(n){if(Dt(n))return t=$t(n.length,t),!0}),oo(t,function(n){return Mt(e,no(n))})}function Qs(e,t){if(!(e&&e.length))return[];var n=Ho(e);return t==null?n:Mt(n,function(r){return dn(t,i,r)})}var Fd=ut(function(e,t){return Dt(e)?Gr(e,t):[]}),Pd=ut(function(e){return Co(Yn(e,Dt))}),Rd=ut(function(e){var t=Tn(e);return Dt(t)&&(t=i),Co(Yn(e,Dt),We(t,2))}),Ld=ut(function(e){var t=Tn(e);return t=typeof t=="function"?t:i,Co(Yn(e,Dt),i,t)}),Dd=ut(Ho);function Nd(e,t){return ps(e||[],t||[],qr)}function Wd(e,t){return ps(e||[],t||[],Vr)}var zd=ut(function(e){var t=e.length,n=t>1?e[t-1]:i;return n=typeof n=="function"?(e.pop(),n):i,Qs(e,n)});function eu(e){var t=s(e);return t.__chain__=!0,t}function Ud(e,t){return t(e),e}function Pi(e,t){return t(e)}var Bd=$n(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(u){return go(u,e)};return t>1||this.__actions__.length||!(r instanceof ht)||!Hn(n)?this.thru(o):(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:Pi,args:[o],thisArg:i}),new xn(r,this.__chain__).thru(function(u){return t&&!u.length&&u.push(i),u}))});function $d(){return eu(this)}function Hd(){return new xn(this.value(),this.__chain__)}function qd(){this.__values__===i&&(this.__values__=gu(this.value()));var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}}function Gd(){return this}function Jd(e){for(var t,n=this;n instanceof mi;){var r=Ks(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t}function Kd(){var e=this.__wrapped__;if(e instanceof ht){var t=e;return this.__actions__.length&&(t=new ht(this)),t=t.reverse(),t.__actions__.push({func:Pi,args:[$o],thisArg:i}),new xn(t,this.__chain__)}return this.thru($o)}function Vd(){return vs(this.__wrapped__,this.__actions__)}var Yd=Ti(function(e,t,n){kt.call(e,n)?++e[n]:Un(e,n,1)});function jd(e,t,n){var r=nt(e)?Oa:zc;return n&&tn(e,t,n)&&(t=i),r(e,We(t,3))}function Xd(e,t){var n=nt(e)?Yn:Qa;return n(e,We(t,3))}var Zd=Cs(Vs),Qd=Cs(Ys);function eh(e,t){return Jt(Ri(e,t),1)}function th(e,t){return Jt(Ri(e,t),N)}function nh(e,t,n){return n=n===i?1:it(n),Jt(Ri(e,t),n)}function tu(e,t){var n=nt(e)?wn:Qn;return n(e,We(t,3))}function nu(e,t){var n=nt(e)?wl:Za;return n(e,We(t,3))}var rh=Ti(function(e,t,n){kt.call(e,n)?e[n].push(t):Un(e,n,[t])});function ih(e,t,n,r){e=un(e)?e:Rr(e),n=n&&!r?it(n):0;var o=e.length;return n<0&&(n=$t(o+n,0)),zi(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&xr(e,t,n)>-1}var oh=ut(function(e,t,n){var r=-1,o=typeof t=="function",u=un(e)?z(e.length):[];return Qn(e,function(h){u[++r]=o?dn(t,h,n):Jr(h,t,n)}),u}),ah=Ti(function(e,t,n){Un(e,n,t)});function Ri(e,t){var n=nt(e)?Mt:os;return n(e,We(t,3))}function sh(e,t,n,r){return e==null?[]:(nt(t)||(t=t==null?[]:[t]),n=r?i:n,nt(n)||(n=n==null?[]:[n]),ls(e,t,n))}var uh=Ti(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function lh(e,t,n){var r=nt(e)?eo:Pa,o=arguments.length<3;return r(e,We(t,4),n,o,Qn)}function ch(e,t,n){var r=nt(e)?bl:Pa,o=arguments.length<3;return r(e,We(t,4),n,o,Za)}function fh(e,t){var n=nt(e)?Yn:Qa;return n(e,Ni(We(t,3)))}function dh(e){var t=nt(e)?Va:rf;return t(e)}function hh(e,t,n){(n?tn(e,t,n):t===i)?t=1:t=it(t);var r=nt(e)?Rc:of;return r(e,t)}function gh(e){var t=nt(e)?Lc:sf;return t(e)}function _h(e){if(e==null)return 0;if(un(e))return zi(e)?kr(e):e.length;var t=jt(e);return t==bt||t==fe?e.size:wo(e).length}function vh(e,t,n){var r=nt(e)?to:uf;return n&&tn(e,t,n)&&(t=i),r(e,We(t,3))}var ph=ut(function(e,t){if(e==null)return[];var n=t.length;return n>1&&tn(e,t[0],t[1])?t=[]:n>2&&tn(t[0],t[1],t[2])&&(t=[t[0]]),ls(e,Jt(t,1),[])}),Li=jl||function(){return Gt.Date.now()};function mh(e,t){if(typeof t!="function")throw new bn(B);return e=it(e),function(){if(--e<1)return t.apply(this,arguments)}}function ru(e,t,n){return t=n?i:t,t=e&&t==null?e.length:t,Bn(e,ve,i,i,i,i,t)}function iu(e,t){var n;if(typeof t!="function")throw new bn(B);return e=it(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var qo=ut(function(e,t,n){var r=R;if(n.length){var o=Xn(n,Fr(qo));r|=f}return Bn(e,r,t,n,o)}),ou=ut(function(e,t,n){var r=R|ee;if(n.length){var o=Xn(n,Fr(ou));r|=f}return Bn(t,r,e,n,o)});function au(e,t,n){t=n?i:t;var r=Bn(e,c,i,i,i,i,i,t);return r.placeholder=au.placeholder,r}function su(e,t,n){t=n?i:t;var r=Bn(e,K,i,i,i,i,i,t);return r.placeholder=su.placeholder,r}function uu(e,t,n){var r,o,u,h,v,T,Z=0,te=!1,se=!1,we=!0;if(typeof e!="function")throw new bn(B);t=An(t)||0,It(n)&&(te=!!n.leading,se="maxWait"in n,u=se?$t(An(n.maxWait)||0,t):u,we="trailing"in n?!!n.trailing:we);function Oe(Nt){var Fn=r,Jn=o;return r=o=i,Z=Nt,h=e.apply(Jn,Fn),h}function Ue(Nt){return Z=Nt,v=Xr(dt,t),te?Oe(Nt):h}function st(Nt){var Fn=Nt-T,Jn=Nt-Z,Cu=t-Fn;return se?Yt(Cu,u-Jn):Cu}function Be(Nt){var Fn=Nt-T,Jn=Nt-Z;return T===i||Fn>=t||Fn<0||se&&Jn>=u}function dt(){var Nt=Li();if(Be(Nt))return gt(Nt);v=Xr(dt,st(Nt))}function gt(Nt){return v=i,we&&r?Oe(Nt):(r=o=i,h)}function vn(){v!==i&&ms(v),Z=0,r=T=o=v=i}function nn(){return v===i?h:gt(Li())}function pn(){var Nt=Li(),Fn=Be(Nt);if(r=arguments,o=this,T=Nt,Fn){if(v===i)return Ue(T);if(se)return ms(v),v=Xr(dt,t),Oe(T)}return v===i&&(v=Xr(dt,t)),h}return pn.cancel=vn,pn.flush=nn,pn}var yh=ut(function(e,t){return Xa(e,1,t)}),wh=ut(function(e,t,n){return Xa(e,An(t)||0,n)});function bh(e){return Bn(e,ze)}function Di(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new bn(B);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],u=n.cache;if(u.has(o))return u.get(o);var h=e.apply(this,r);return n.cache=u.set(o,h)||u,h};return n.cache=new(Di.Cache||zn),n}Di.Cache=zn;function Ni(e){if(typeof e!="function")throw new bn(B);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function xh(e){return iu(2,e)}var Eh=lf(function(e,t){t=t.length==1&&nt(t[0])?Mt(t[0],hn(We())):Mt(Jt(t,1),hn(We()));var n=t.length;return ut(function(r){for(var o=-1,u=Yt(r.length,n);++o<u;)r[o]=t[o].call(this,r[o]);return dn(e,this,r)})}),Go=ut(function(e,t){var n=Xn(t,Fr(Go));return Bn(e,f,i,t,n)}),lu=ut(function(e,t){var n=Xn(t,Fr(lu));return Bn(e,ue,i,t,n)}),kh=$n(function(e,t){return Bn(e,ce,i,i,i,t)});function Th(e,t){if(typeof e!="function")throw new bn(B);return t=t===i?t:it(t),ut(e,t)}function Ah(e,t){if(typeof e!="function")throw new bn(B);return t=t==null?0:$t(it(t),0),ut(function(n){var r=n[t],o=nr(n,0,t);return r&&jn(o,r),dn(e,this,o)})}function Ch(e,t,n){var r=!0,o=!0;if(typeof e!="function")throw new bn(B);return It(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),uu(e,t,{leading:r,maxWait:t,trailing:o})}function Sh(e){return ru(e,1)}function Oh(e,t){return Go(Oo(t),e)}function Mh(){if(!arguments.length)return[];var e=arguments[0];return nt(e)?e:[e]}function Ih(e){return En(e,F)}function Fh(e,t){return t=typeof t=="function"?t:i,En(e,F,t)}function Ph(e){return En(e,Q|F)}function Rh(e,t){return t=typeof t=="function"?t:i,En(e,Q|F,t)}function Lh(e,t){return t==null||ja(e,t,qt(t))}function In(e,t){return e===t||e!==e&&t!==t}var Dh=Oi(po),Nh=Oi(function(e,t){return e>=t}),mr=ns(function(){return arguments}())?ns:function(e){return Rt(e)&&kt.call(e,"callee")&&!$a.call(e,"callee")},nt=z.isArray,Wh=Ea?hn(Ea):Gc;function un(e){return e!=null&&Wi(e.length)&&!qn(e)}function Dt(e){return Rt(e)&&un(e)}function zh(e){return e===!0||e===!1||Rt(e)&&en(e)==He}var rr=Zl||na,Uh=ka?hn(ka):Jc;function Bh(e){return Rt(e)&&e.nodeType===1&&!Zr(e)}function $h(e){if(e==null)return!0;if(un(e)&&(nt(e)||typeof e=="string"||typeof e.splice=="function"||rr(e)||Pr(e)||mr(e)))return!e.length;var t=jt(e);if(t==bt||t==fe)return!e.size;if(jr(e))return!wo(e).length;for(var n in e)if(kt.call(e,n))return!1;return!0}function Hh(e,t){return Kr(e,t)}function qh(e,t,n){n=typeof n=="function"?n:i;var r=n?n(e,t):i;return r===i?Kr(e,t,i,n):!!r}function Jo(e){if(!Rt(e))return!1;var t=en(e);return t==wt||t==lt||typeof e.message=="string"&&typeof e.name=="string"&&!Zr(e)}function Gh(e){return typeof e=="number"&&qa(e)}function qn(e){if(!It(e))return!1;var t=en(e);return t==at||t==Ut||t==Ye||t==H}function cu(e){return typeof e=="number"&&e==it(e)}function Wi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ae}function It(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Rt(e){return e!=null&&typeof e=="object"}var fu=Ta?hn(Ta):Vc;function Jh(e,t){return e===t||yo(e,t,Do(t))}function Kh(e,t,n){return n=typeof n=="function"?n:i,yo(e,t,Do(t),n)}function Vh(e){return du(e)&&e!=+e}function Yh(e){if(Ff(e))throw new tt(l);return rs(e)}function jh(e){return e===null}function Xh(e){return e==null}function du(e){return typeof e=="number"||Rt(e)&&en(e)==Wt}function Zr(e){if(!Rt(e)||en(e)!=he)return!1;var t=fi(e);if(t===null)return!0;var n=kt.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&si.call(n)==Jl}var Ko=Aa?hn(Aa):Yc;function Zh(e){return cu(e)&&e>=-ae&&e<=ae}var hu=Ca?hn(Ca):jc;function zi(e){return typeof e=="string"||!nt(e)&&Rt(e)&&en(e)==Ee}function _n(e){return typeof e=="symbol"||Rt(e)&&en(e)==Ne}var Pr=Sa?hn(Sa):Xc;function Qh(e){return e===i}function eg(e){return Rt(e)&&jt(e)==Ce}function tg(e){return Rt(e)&&en(e)==Tt}var ng=Oi(bo),rg=Oi(function(e,t){return e<=t});function gu(e){if(!e)return[];if(un(e))return zi(e)?On(e):sn(e);if(zr&&e[zr])return Rl(e[zr]());var t=jt(e),n=t==bt?so:t==fe?ii:Rr;return n(e)}function Gn(e){if(!e)return e===0?e:0;if(e=An(e),e===N||e===-N){var t=e<0?-1:1;return t*de}return e===e?e:0}function it(e){var t=Gn(e),n=t%1;return t===t?n?t-n:t:0}function _u(e){return e?gr(it(e),0,re):0}function An(e){if(typeof e=="number")return e;if(_n(e))return ne;if(It(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=It(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ra(e);var n=xe.test(e);return n||je.test(e)?pl(e.slice(2),n?2:8):oe.test(e)?ne:+e}function vu(e){return Ln(e,ln(e))}function ig(e){return e?gr(it(e),-ae,ae):e===0?e:0}function Et(e){return e==null?"":gn(e)}var og=Mr(function(e,t){if(jr(t)||un(t)){Ln(t,qt(t),e);return}for(var n in t)kt.call(t,n)&&qr(e,n,t[n])}),pu=Mr(function(e,t){Ln(t,ln(t),e)}),Ui=Mr(function(e,t,n,r){Ln(t,ln(t),e,r)}),ag=Mr(function(e,t,n,r){Ln(t,qt(t),e,r)}),sg=$n(go);function ug(e,t){var n=Or(e);return t==null?n:Ya(n,t)}var lg=ut(function(e,t){e=At(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&tn(t[0],t[1],o)&&(r=1);++n<r;)for(var u=t[n],h=ln(u),v=-1,T=h.length;++v<T;){var Z=h[v],te=e[Z];(te===i||In(te,Ar[Z])&&!kt.call(e,Z))&&(e[Z]=u[Z])}return e}),cg=ut(function(e){return e.push(i,Rs),dn(mu,i,e)});function fg(e,t){return Ma(e,We(t,3),Rn)}function dg(e,t){return Ma(e,We(t,3),vo)}function hg(e,t){return e==null?e:_o(e,We(t,3),ln)}function gg(e,t){return e==null?e:es(e,We(t,3),ln)}function _g(e,t){return e&&Rn(e,We(t,3))}function vg(e,t){return e&&vo(e,We(t,3))}function pg(e){return e==null?[]:bi(e,qt(e))}function mg(e){return e==null?[]:bi(e,ln(e))}function Vo(e,t,n){var r=e==null?i:_r(e,t);return r===i?n:r}function yg(e,t){return e!=null&&Ns(e,t,Bc)}function Yo(e,t){return e!=null&&Ns(e,t,$c)}var wg=Os(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=ui.call(t)),e[t]=n},Xo(cn)),bg=Os(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=ui.call(t)),kt.call(e,t)?e[t].push(n):e[t]=[n]},We),xg=ut(Jr);function qt(e){return un(e)?Ka(e):wo(e)}function ln(e){return un(e)?Ka(e,!0):Zc(e)}function Eg(e,t){var n={};return t=We(t,3),Rn(e,function(r,o,u){Un(n,t(r,o,u),r)}),n}function kg(e,t){var n={};return t=We(t,3),Rn(e,function(r,o,u){Un(n,o,t(r,o,u))}),n}var Tg=Mr(function(e,t,n){xi(e,t,n)}),mu=Mr(function(e,t,n,r){xi(e,t,n,r)}),Ag=$n(function(e,t){var n={};if(e==null)return n;var r=!1;t=Mt(t,function(u){return u=tr(u,e),r||(r=u.length>1),u}),Ln(e,Ro(e),n),r&&(n=En(n,Q|S|F,wf));for(var o=t.length;o--;)Ao(n,t[o]);return n});function Cg(e,t){return yu(e,Ni(We(t)))}var Sg=$n(function(e,t){return e==null?{}:ef(e,t)});function yu(e,t){if(e==null)return{};var n=Mt(Ro(e),function(r){return[r]});return t=We(t),cs(e,n,function(r,o){return t(r,o[0])})}function Og(e,t,n){t=tr(t,e);var r=-1,o=t.length;for(o||(o=1,e=i);++r<o;){var u=e==null?i:e[Dn(t[r])];u===i&&(r=o,u=n),e=qn(u)?u.call(e):u}return e}function Mg(e,t,n){return e==null?e:Vr(e,t,n)}function Ig(e,t,n,r){return r=typeof r=="function"?r:i,e==null?e:Vr(e,t,n,r)}var wu=Fs(qt),bu=Fs(ln);function Fg(e,t,n){var r=nt(e),o=r||rr(e)||Pr(e);if(t=We(t,4),n==null){var u=e&&e.constructor;o?n=r?new u:[]:It(e)?n=qn(u)?Or(fi(e)):{}:n={}}return(o?wn:Rn)(e,function(h,v,T){return t(n,h,v,T)}),n}function Pg(e,t){return e==null?!0:Ao(e,t)}function Rg(e,t,n){return e==null?e:_s(e,t,Oo(n))}function Lg(e,t,n,r){return r=typeof r=="function"?r:i,e==null?e:_s(e,t,Oo(n),r)}function Rr(e){return e==null?[]:ao(e,qt(e))}function Dg(e){return e==null?[]:ao(e,ln(e))}function Ng(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=An(n),n=n===n?n:0),t!==i&&(t=An(t),t=t===t?t:0),gr(An(e),t,n)}function Wg(e,t,n){return t=Gn(t),n===i?(n=t,t=0):n=Gn(n),e=An(e),Hc(e,t,n)}function zg(e,t,n){if(n&&typeof n!="boolean"&&tn(e,t,n)&&(t=n=i),n===i&&(typeof t=="boolean"?(n=t,t=i):typeof e=="boolean"&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=Gn(e),t===i?(t=e,e=0):t=Gn(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Ga();return Yt(e+o*(t-e+vl("1e-"+((o+"").length-1))),t)}return Eo(e,t)}var Ug=Ir(function(e,t,n){return t=t.toLowerCase(),e+(n?xu(t):t)});function xu(e){return jo(Et(e).toLowerCase())}function Eu(e){return e=Et(e),e&&e.replace(et,Ol).replace(al,"")}function Bg(e,t,n){e=Et(e),t=gn(t);var r=e.length;n=n===i?r:gr(it(n),0,r);var o=n;return n-=t.length,n>=0&&e.slice(n,o)==t}function $g(e){return e=Et(e),e&&me.test(e)?e.replace(pe,Ml):e}function Hg(e){return e=Et(e),e&&Sn.test(e)?e.replace(Vt,"\\$&"):e}var qg=Ir(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Gg=Ir(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Jg=As("toLowerCase");function Kg(e,t,n){e=Et(e),t=it(t);var r=t?kr(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Si(_i(o),n)+e+Si(gi(o),n)}function Vg(e,t,n){e=Et(e),t=it(t);var r=t?kr(e):0;return t&&r<t?e+Si(t-r,n):e}function Yg(e,t,n){e=Et(e),t=it(t);var r=t?kr(e):0;return t&&r<t?Si(t-r,n)+e:e}function jg(e,t,n){return n||t==null?t=0:t&&(t=+t),nc(Et(e).replace(Vn,""),t||0)}function Xg(e,t,n){return(n?tn(e,t,n):t===i)?t=1:t=it(t),ko(Et(e),t)}function Zg(){var e=arguments,t=Et(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var Qg=Ir(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function e_(e,t,n){return n&&typeof n!="number"&&tn(e,t,n)&&(t=n=i),n=n===i?re:n>>>0,n?(e=Et(e),e&&(typeof t=="string"||t!=null&&!Ko(t))&&(t=gn(t),!t&&Er(e))?nr(On(e),0,n):e.split(t,n)):[]}var t_=Ir(function(e,t,n){return e+(n?" ":"")+jo(t)});function n_(e,t,n){return e=Et(e),n=n==null?0:gr(it(n),0,e.length),t=gn(t),e.slice(n,n+t.length)==t}function r_(e,t,n){var r=s.templateSettings;n&&tn(e,t,n)&&(t=i),e=Et(e),t=Ui({},t,r,Ps);var o=Ui({},t.imports,r.imports,Ps),u=qt(o),h=ao(o,u),v,T,Z=0,te=t.interpolate||Re,se="__p += '",we=uo((t.escape||Re).source+"|"+te.source+"|"+(te===qe?g:Re).source+"|"+(t.evaluate||Re).source+"|$","g"),Oe="//# sourceURL="+(kt.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++fl+"]")+`
`;e.replace(we,function(Be,dt,gt,vn,nn,pn){return gt||(gt=vn),se+=e.slice(Z,pn).replace(Fe,Il),dt&&(v=!0,se+=`' +
__e(`+dt+`) +
'`),nn&&(T=!0,se+=`';
`+nn+`;
__p += '`),gt&&(se+=`' +
((__t = (`+gt+`)) == null ? '' : __t) +
'`),Z=pn+Be.length,Be}),se+=`';
`;var Ue=kt.call(t,"variable")&&t.variable;if(!Ue)se=`with (obj) {
`+se+`
}
`;else if(P.test(Ue))throw new tt(D);se=(T?se.replace(fn,""):se).replace(Ft,"$1").replace(xt,"$1;"),se="function("+(Ue||"obj")+`) {
`+(Ue?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(v?", __e = _.escape":"")+(T?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+se+`return __p
}`;var st=Tu(function(){return mt(u,Oe+"return "+se).apply(i,h)});if(st.source=se,Jo(st))throw st;return st}function i_(e){return Et(e).toLowerCase()}function o_(e){return Et(e).toUpperCase()}function a_(e,t,n){if(e=Et(e),e&&(n||t===i))return Ra(e);if(!e||!(t=gn(t)))return e;var r=On(e),o=On(t),u=La(r,o),h=Da(r,o)+1;return nr(r,u,h).join("")}function s_(e,t,n){if(e=Et(e),e&&(n||t===i))return e.slice(0,Wa(e)+1);if(!e||!(t=gn(t)))return e;var r=On(e),o=Da(r,On(t))+1;return nr(r,0,o).join("")}function u_(e,t,n){if(e=Et(e),e&&(n||t===i))return e.replace(Vn,"");if(!e||!(t=gn(t)))return e;var r=On(e),o=La(r,On(t));return nr(r,o).join("")}function l_(e,t){var n=Le,r=ot;if(It(t)){var o="separator"in t?t.separator:o;n="length"in t?it(t.length):n,r="omission"in t?gn(t.omission):r}e=Et(e);var u=e.length;if(Er(e)){var h=On(e);u=h.length}if(n>=u)return e;var v=n-kr(r);if(v<1)return r;var T=h?nr(h,0,v).join(""):e.slice(0,v);if(o===i)return T+r;if(h&&(v+=T.length-v),Ko(o)){if(e.slice(v).search(o)){var Z,te=T;for(o.global||(o=uo(o.source,Et(C.exec(o))+"g")),o.lastIndex=0;Z=o.exec(te);)var se=Z.index;T=T.slice(0,se===i?v:se)}}else if(e.indexOf(gn(o),v)!=v){var we=T.lastIndexOf(o);we>-1&&(T=T.slice(0,we))}return T+r}function c_(e){return e=Et(e),e&&_e.test(e)?e.replace(Te,Wl):e}var f_=Ir(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),jo=As("toUpperCase");function ku(e,t,n){return e=Et(e),t=n?i:t,t===i?Pl(e)?Bl(e):kl(e):e.match(t)||[]}var Tu=ut(function(e,t){try{return dn(e,i,t)}catch(n){return Jo(n)?n:new tt(n)}}),d_=$n(function(e,t){return wn(t,function(n){n=Dn(n),Un(e,n,qo(e[n],e))}),e});function h_(e){var t=e==null?0:e.length,n=We();return e=t?Mt(e,function(r){if(typeof r[1]!="function")throw new bn(B);return[n(r[0]),r[1]]}):[],ut(function(r){for(var o=-1;++o<t;){var u=e[o];if(dn(u[0],this,r))return dn(u[1],this,r)}})}function g_(e){return Wc(En(e,Q))}function Xo(e){return function(){return e}}function __(e,t){return e==null||e!==e?t:e}var v_=Ss(),p_=Ss(!0);function cn(e){return e}function Zo(e){return is(typeof e=="function"?e:En(e,Q))}function m_(e){return as(En(e,Q))}function y_(e,t){return ss(e,En(t,Q))}var w_=ut(function(e,t){return function(n){return Jr(n,e,t)}}),b_=ut(function(e,t){return function(n){return Jr(e,n,t)}});function Qo(e,t,n){var r=qt(t),o=bi(t,r);n==null&&!(It(t)&&(o.length||!r.length))&&(n=t,t=e,e=this,o=bi(t,qt(t)));var u=!(It(n)&&"chain"in n)||!!n.chain,h=qn(e);return wn(o,function(v){var T=t[v];e[v]=T,h&&(e.prototype[v]=function(){var Z=this.__chain__;if(u||Z){var te=e(this.__wrapped__),se=te.__actions__=sn(this.__actions__);return se.push({func:T,args:arguments,thisArg:e}),te.__chain__=Z,te}return T.apply(e,jn([this.value()],arguments))})}),e}function x_(){return Gt._===this&&(Gt._=Kl),this}function ea(){}function E_(e){return e=it(e),ut(function(t){return us(t,e)})}var k_=Io(Mt),T_=Io(Oa),A_=Io(to);function Au(e){return Wo(e)?no(Dn(e)):tf(e)}function C_(e){return function(t){return e==null?i:_r(e,t)}}var S_=Ms(),O_=Ms(!0);function ta(){return[]}function na(){return!1}function M_(){return{}}function I_(){return""}function F_(){return!0}function P_(e,t){if(e=it(e),e<1||e>ae)return[];var n=re,r=Yt(e,re);t=We(t),e-=re;for(var o=oo(r,t);++n<e;)t(n);return o}function R_(e){return nt(e)?Mt(e,Dn):_n(e)?[e]:sn(Js(Et(e)))}function L_(e){var t=++Gl;return Et(e)+t}var D_=Ci(function(e,t){return e+t},0),N_=Fo("ceil"),W_=Ci(function(e,t){return e/t},1),z_=Fo("floor");function U_(e){return e&&e.length?wi(e,cn,po):i}function B_(e,t){return e&&e.length?wi(e,We(t,2),po):i}function $_(e){return Fa(e,cn)}function H_(e,t){return Fa(e,We(t,2))}function q_(e){return e&&e.length?wi(e,cn,bo):i}function G_(e,t){return e&&e.length?wi(e,We(t,2),bo):i}var J_=Ci(function(e,t){return e*t},1),K_=Fo("round"),V_=Ci(function(e,t){return e-t},0);function Y_(e){return e&&e.length?io(e,cn):0}function j_(e,t){return e&&e.length?io(e,We(t,2)):0}return s.after=mh,s.ary=ru,s.assign=og,s.assignIn=pu,s.assignInWith=Ui,s.assignWith=ag,s.at=sg,s.before=iu,s.bind=qo,s.bindAll=d_,s.bindKey=ou,s.castArray=Mh,s.chain=eu,s.chunk=zf,s.compact=Uf,s.concat=Bf,s.cond=h_,s.conforms=g_,s.constant=Xo,s.countBy=Yd,s.create=ug,s.curry=au,s.curryRight=su,s.debounce=uu,s.defaults=lg,s.defaultsDeep=cg,s.defer=yh,s.delay=wh,s.difference=$f,s.differenceBy=Hf,s.differenceWith=qf,s.drop=Gf,s.dropRight=Jf,s.dropRightWhile=Kf,s.dropWhile=Vf,s.fill=Yf,s.filter=Xd,s.flatMap=eh,s.flatMapDeep=th,s.flatMapDepth=nh,s.flatten=js,s.flattenDeep=jf,s.flattenDepth=Xf,s.flip=bh,s.flow=v_,s.flowRight=p_,s.fromPairs=Zf,s.functions=pg,s.functionsIn=mg,s.groupBy=rh,s.initial=ed,s.intersection=td,s.intersectionBy=nd,s.intersectionWith=rd,s.invert=wg,s.invertBy=bg,s.invokeMap=oh,s.iteratee=Zo,s.keyBy=ah,s.keys=qt,s.keysIn=ln,s.map=Ri,s.mapKeys=Eg,s.mapValues=kg,s.matches=m_,s.matchesProperty=y_,s.memoize=Di,s.merge=Tg,s.mergeWith=mu,s.method=w_,s.methodOf=b_,s.mixin=Qo,s.negate=Ni,s.nthArg=E_,s.omit=Ag,s.omitBy=Cg,s.once=xh,s.orderBy=sh,s.over=k_,s.overArgs=Eh,s.overEvery=T_,s.overSome=A_,s.partial=Go,s.partialRight=lu,s.partition=uh,s.pick=Sg,s.pickBy=yu,s.property=Au,s.propertyOf=C_,s.pull=sd,s.pullAll=Zs,s.pullAllBy=ud,s.pullAllWith=ld,s.pullAt=cd,s.range=S_,s.rangeRight=O_,s.rearg=kh,s.reject=fh,s.remove=fd,s.rest=Th,s.reverse=$o,s.sampleSize=hh,s.set=Mg,s.setWith=Ig,s.shuffle=gh,s.slice=dd,s.sortBy=ph,s.sortedUniq=yd,s.sortedUniqBy=wd,s.split=e_,s.spread=Ah,s.tail=bd,s.take=xd,s.takeRight=Ed,s.takeRightWhile=kd,s.takeWhile=Td,s.tap=Ud,s.throttle=Ch,s.thru=Pi,s.toArray=gu,s.toPairs=wu,s.toPairsIn=bu,s.toPath=R_,s.toPlainObject=vu,s.transform=Fg,s.unary=Sh,s.union=Ad,s.unionBy=Cd,s.unionWith=Sd,s.uniq=Od,s.uniqBy=Md,s.uniqWith=Id,s.unset=Pg,s.unzip=Ho,s.unzipWith=Qs,s.update=Rg,s.updateWith=Lg,s.values=Rr,s.valuesIn=Dg,s.without=Fd,s.words=ku,s.wrap=Oh,s.xor=Pd,s.xorBy=Rd,s.xorWith=Ld,s.zip=Dd,s.zipObject=Nd,s.zipObjectDeep=Wd,s.zipWith=zd,s.entries=wu,s.entriesIn=bu,s.extend=pu,s.extendWith=Ui,Qo(s,s),s.add=D_,s.attempt=Tu,s.camelCase=Ug,s.capitalize=xu,s.ceil=N_,s.clamp=Ng,s.clone=Ih,s.cloneDeep=Ph,s.cloneDeepWith=Rh,s.cloneWith=Fh,s.conformsTo=Lh,s.deburr=Eu,s.defaultTo=__,s.divide=W_,s.endsWith=Bg,s.eq=In,s.escape=$g,s.escapeRegExp=Hg,s.every=jd,s.find=Zd,s.findIndex=Vs,s.findKey=fg,s.findLast=Qd,s.findLastIndex=Ys,s.findLastKey=dg,s.floor=z_,s.forEach=tu,s.forEachRight=nu,s.forIn=hg,s.forInRight=gg,s.forOwn=_g,s.forOwnRight=vg,s.get=Vo,s.gt=Dh,s.gte=Nh,s.has=yg,s.hasIn=Yo,s.head=Xs,s.identity=cn,s.includes=ih,s.indexOf=Qf,s.inRange=Wg,s.invoke=xg,s.isArguments=mr,s.isArray=nt,s.isArrayBuffer=Wh,s.isArrayLike=un,s.isArrayLikeObject=Dt,s.isBoolean=zh,s.isBuffer=rr,s.isDate=Uh,s.isElement=Bh,s.isEmpty=$h,s.isEqual=Hh,s.isEqualWith=qh,s.isError=Jo,s.isFinite=Gh,s.isFunction=qn,s.isInteger=cu,s.isLength=Wi,s.isMap=fu,s.isMatch=Jh,s.isMatchWith=Kh,s.isNaN=Vh,s.isNative=Yh,s.isNil=Xh,s.isNull=jh,s.isNumber=du,s.isObject=It,s.isObjectLike=Rt,s.isPlainObject=Zr,s.isRegExp=Ko,s.isSafeInteger=Zh,s.isSet=hu,s.isString=zi,s.isSymbol=_n,s.isTypedArray=Pr,s.isUndefined=Qh,s.isWeakMap=eg,s.isWeakSet=tg,s.join=id,s.kebabCase=qg,s.last=Tn,s.lastIndexOf=od,s.lowerCase=Gg,s.lowerFirst=Jg,s.lt=ng,s.lte=rg,s.max=U_,s.maxBy=B_,s.mean=$_,s.meanBy=H_,s.min=q_,s.minBy=G_,s.stubArray=ta,s.stubFalse=na,s.stubObject=M_,s.stubString=I_,s.stubTrue=F_,s.multiply=J_,s.nth=ad,s.noConflict=x_,s.noop=ea,s.now=Li,s.pad=Kg,s.padEnd=Vg,s.padStart=Yg,s.parseInt=jg,s.random=zg,s.reduce=lh,s.reduceRight=ch,s.repeat=Xg,s.replace=Zg,s.result=Og,s.round=K_,s.runInContext=b,s.sample=dh,s.size=_h,s.snakeCase=Qg,s.some=vh,s.sortedIndex=hd,s.sortedIndexBy=gd,s.sortedIndexOf=_d,s.sortedLastIndex=vd,s.sortedLastIndexBy=pd,s.sortedLastIndexOf=md,s.startCase=t_,s.startsWith=n_,s.subtract=V_,s.sum=Y_,s.sumBy=j_,s.template=r_,s.times=P_,s.toFinite=Gn,s.toInteger=it,s.toLength=_u,s.toLower=i_,s.toNumber=An,s.toSafeInteger=ig,s.toString=Et,s.toUpper=o_,s.trim=a_,s.trimEnd=s_,s.trimStart=u_,s.truncate=l_,s.unescape=c_,s.uniqueId=L_,s.upperCase=f_,s.upperFirst=jo,s.each=tu,s.eachRight=nu,s.first=Xs,Qo(s,function(){var e={};return Rn(s,function(t,n){kt.call(s.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),s.VERSION=d,wn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){s[e].placeholder=s}),wn(["drop","take"],function(e,t){ht.prototype[e]=function(n){n=n===i?1:$t(it(n),0);var r=this.__filtered__&&!t?new ht(this):this.clone();return r.__filtered__?r.__takeCount__=Yt(n,r.__takeCount__):r.__views__.push({size:Yt(n,re),type:e+(r.__dir__<0?"Right":"")}),r},ht.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),wn(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==Y||n==O;ht.prototype[e]=function(o){var u=this.clone();return u.__iteratees__.push({iteratee:We(o,3),type:n}),u.__filtered__=u.__filtered__||r,u}}),wn(["head","last"],function(e,t){var n="take"+(t?"Right":"");ht.prototype[e]=function(){return this[n](1).value()[0]}}),wn(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");ht.prototype[e]=function(){return this.__filtered__?new ht(this):this[n](1)}}),ht.prototype.compact=function(){return this.filter(cn)},ht.prototype.find=function(e){return this.filter(e).head()},ht.prototype.findLast=function(e){return this.reverse().find(e)},ht.prototype.invokeMap=ut(function(e,t){return typeof e=="function"?new ht(this):this.map(function(n){return Jr(n,e,t)})}),ht.prototype.reject=function(e){return this.filter(Ni(We(e)))},ht.prototype.slice=function(e,t){e=it(e);var n=this;return n.__filtered__&&(e>0||t<0)?new ht(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(t=it(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},ht.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ht.prototype.toArray=function(){return this.take(re)},Rn(ht.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=s[r?"take"+(t=="last"?"Right":""):t],u=r||/^find/.test(t);o&&(s.prototype[t]=function(){var h=this.__wrapped__,v=r?[1]:arguments,T=h instanceof ht,Z=v[0],te=T||nt(h),se=function(dt){var gt=o.apply(s,jn([dt],v));return r&&we?gt[0]:gt};te&&n&&typeof Z=="function"&&Z.length!=1&&(T=te=!1);var we=this.__chain__,Oe=!!this.__actions__.length,Ue=u&&!we,st=T&&!Oe;if(!u&&te){h=st?h:new ht(this);var Be=e.apply(h,v);return Be.__actions__.push({func:Pi,args:[se],thisArg:i}),new xn(Be,we)}return Ue&&st?e.apply(this,v):(Be=this.thru(se),Ue?r?Be.value()[0]:Be.value():Be)})}),wn(["pop","push","shift","sort","splice","unshift"],function(e){var t=oi[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);s.prototype[e]=function(){var o=arguments;if(r&&!this.__chain__){var u=this.value();return t.apply(nt(u)?u:[],o)}return this[n](function(h){return t.apply(nt(h)?h:[],o)})}}),Rn(ht.prototype,function(e,t){var n=s[t];if(n){var r=n.name+"";kt.call(Sr,r)||(Sr[r]=[]),Sr[r].push({name:t,func:n})}}),Sr[Ai(i,ee).name]=[{name:"wrapper",func:i}],ht.prototype.clone=lc,ht.prototype.reverse=cc,ht.prototype.value=fc,s.prototype.at=Bd,s.prototype.chain=$d,s.prototype.commit=Hd,s.prototype.next=qd,s.prototype.plant=Jd,s.prototype.reverse=Kd,s.prototype.toJSON=s.prototype.valueOf=s.prototype.value=Vd,s.prototype.first=s.prototype.head,zr&&(s.prototype[zr]=Gd),s},Tr=$l();cr?((cr.exports=Tr)._=Tr,Xi._=Tr):Gt._=Tr}).call(Qr)})($i,$i.exports);var xv=$i.exports;const Ev=rv(xv),kv={props:{value:{type:Number,default:null},text:{type:String,default:""},allowNil:{type:Boolean}},computed:{isNA(){return!(this.allowNil||Ev.isFinite(this.value))}}};function Tv(m,a,i,d,p,l){return $e(),Ve("span",{class:on(["value-text",{underline:l.isNA}])},Kn(i.text),3)}const Gu=sr(kv,[["render",Tv]]),Av=["colspan","title"],Cv={key:0},Sv=M("path",{"data-v-ae951afa":"",d:"M5.79 15.013H3.778V7.806H.813L4.808.398l4.004 7.408H5.791v7.207z",fill:"currentColor"},null,-1),Ov=[Sv],Mv={components:{cell_content:Gu},props:{value:{type:Number,default:null},tooltip:{type:null,default:null},visible:{type:Boolean,default:!0},colored:{type:Boolean,default:!0},highlighted:{type:Boolean,default:!1},arrow:{type:Boolean,default:!1},formatter:{type:Function,required:!0},align:{type:String,validator:function(m){return["left","center","right"].includes(m)},default:"right"},span:{type:Number,default:1}},computed:{effective_value(){return this.value},font_color(){return this.colored?this.value>0?"green":this.value<0?"red":"":"black"},show_arrow(){return this.arrow&&this.value!=0},formatted_value(){return this.formatter(this.value)}}},Nr=Object.assign(Mv,{__name:"td_value",setup(m){return(a,i)=>($e(),Ve("td",{colspan:m.span,class:"td-value",title:m.tooltip},[m.visible&&m.value?($e(),Ve("div",Cv,[M("div",{class:on(["nowrap","flex-container",m.align])},[J(Gu,{class:on([a.font_color,{highlighted:m.highlighted},{textColor:a.font_color}]),value:a.effective_value,text:a.formatted_value},null,8,["class","value","text"]),a.show_arrow?($e(),Ve("svg",{key:0,viewBox:"0 0 9 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:on(["arrow-icon",[a.font_color]])},Ov,2)):Ot("",!0)],2)])):Ot("",!0)],8,Av))}}),Iv={props:{market:{type:String,default:""},symbol:{type:String,default:""},name:{type:String,default:""}},methods:{default_logo_path(m){m.target.src="https://portfoliotech.github.io/investify/static/img/default_logo.png"}},computed:{company_symbol(){return this.symbol=="REALCASH"?"CASH":this.symbol},company_name(){return this.symbol=="REALCASH"?"CASH BALANCE":this.name},logo_path(){return this.symbol=="REALCASH"?"https://portfoliotech.github.io/investify/static/img/cash.png":"https://data.wealthica.com/api/securities/"+this.market.substr(0,2)+":"+this.symbol+"/logo"}}},Fv=["title"],Pv={class:"company-data-wraper"},Rv={class:""},Lv=["src"],Dv={class:"company-data"},Nv={class:"company-symbol"},Wv={class:"company-name"};function zv(m,a,i,d,p,l){return $e(),Ve("td",{class:"company-cell",title:l.company_name},[M("div",Pv,[M("div",Rv,[M("img",{src:l.logo_path,onError:a[0]||(a[0]=(...B)=>l.default_logo_path&&l.default_logo_path(...B)),alt:"company_symbol",class:"logo"},null,40,Lv)]),M("div",Dv,[M("div",Nv,Kn(l.company_symbol),1),M("div",Wv,Kn(l.company_name),1)])])],8,Fv)}const Hi=sr(Iv,[["render",zv]]),Uv={props:{institution:{type:String,default:""},name:{type:String,default:""},number:{type:String,default:""},type:{type:String,default:""},currency:{type:String,default:""},show_expand:{type:Boolean,default:!0},expanded:{type:Boolean,default:!0}},emits:["toggle"],methods:{toggle(){this.$emit("toggle")}},computed:{institution_icon(){if(this.institution=="--")switch(this.currency){case"cad":return"https://portfoliotech.github.io/investify/static/img/cad.png";case"usd":return"https://portfoliotech.github.io/investify/static/img/usd.png";default:return"https://portfoliotech.github.io/investify/static/expanded.png"}else return"https://app.wealthica.com/images/institutions/"+this.institution+".png"}}},Bv={class:"account-cell",colspan:"5"},$v={class:"account-data-wraper"},Hv={class:"account-identifier"},qv=["src"],Gv={class:"account-name"},Jv={key:0,class:"toggle-arrow"},Kv={class:"account-details"},Vv={class:"account-number"},Yv={class:"account-type"};function jv(m,a,i,d,p,l){return $e(),Ve("td",Bv,[M("div",$v,[M("div",Hv,[M("div",null,[M("img",{src:l.institution_icon,class:"institution-icon"},null,8,qv)]),M("div",Gv,Kn(i.name),1),i.show_expand?($e(),Ve("div",Jv,[M("img",{src:"https://app.wealthica.com/img/arrow_down.f6ca09b2.svg",width:"13",height:"8",class:on({expand:i.expanded}),onClick:a[0]||(a[0]=Q_((...B)=>l.toggle&&l.toggle(...B),["stop"]))},null,2)])):Ot("",!0)]),M("div",Kv,[M("div",Vv,Kn(i.number),1),M("div",Yv,Kn(i.type),1)])])])}const qi=sr(Uv,[["render",jv]]),or={number:new Intl.NumberFormat("en-US"),money:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),price:new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}),percent:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2}),xrate:new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}),long_date:new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),long_datetime:new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1})},rn={number(m){return or.number.format(m)},money(m){return or.money.format(m)},money_plus(m){return(m>0?"+":"")+or.money.format(m)},price(m){return or.price.format(m)},percent(m){return or.percent.format(m)},long_date(m){let a=new Date(m);return isNaN(a.getTime())?"Invalid":or.long_date.format(a)},long_datetime(m){let a=new Date(m);return isNaN(a.getTime())?"Invalid":or.long_datetime.format(a)},xrate_cad(m){return`1 USD = ${or.xrate.format(m)} CAD`},tip_daily_change(m,a){return rn.money_plus(m)+" on "+rn.long_datetime(a)},tip_xrate(m,a){return m==="usd"?`1 USD = ${rn.xrate_cad(a)} CAD`:null}},Xv={components:{td_value:Nr}},Ae=Object.assign(Xv,{__name:"td_money",setup(m){return(a,i)=>($e(),Bi(Nr,{formatter:Ht(rn).money,class:"justify-right"},null,8,["formatter"]))}}),Zv={components:{td_value:Nr}},vt=Object.assign(Zv,{__name:"td_percent",setup(m){return(a,i)=>($e(),Bi(Nr,{formatter:Ht(rn).percent,class:"justify-right"},null,8,["formatter"]))}}),Qv={key:0,id:"portfolio"},ep={class:"portfolio"},tp={id:"tr_accounts_header_1"},np=M("th",{colspan:"5"},null,-1),rp=M("th",{colspan:"7"},null,-1),ip=M("tr",{id:"tr_accounts_header_2",class:"show-separator-line"},[M("th",{colspan:"5",class:"justify-left"},"Accounts"),M("th",null,"Gain $"),M("th",null,"Gain %"),M("th",null,"Gain $"),M("th",null,"Gain %"),M("th",{colspan:"2"},"CAD"),M("th",{colspan:"2"},"USD"),M("th",{colspan:"2"},"Total CAD"),M("th",null,"Portfolio")],-1),op={key:0,class:"spacer"},ap={key:1,id:"holdings_header_1",class:"spacer"},sp=M("th",null,null,-1),up=M("th",null,null,-1),lp=M("th",null,null,-1),cp=M("th",null,null,-1),fp={key:2,id:"holdings_header_2",class:"show-separator-line"},dp=M("th",{class:"justify-left"},"Company",-1),hp=M("th",null,null,-1),gp=M("th",{class:"justify-center"},"Qty",-1),_p=M("th",null,"Price",-1),vp=M("th",null,"Value",-1),pp=M("th",null,"Gain $",-1),mp=M("th",null,"Gain %",-1),yp=M("th",null,"Gain $",-1),wp=M("th",null,"Gain %",-1),bp=M("th",null,"low",-1),xp=M("th",null,"high",-1),Ep=M("th",null,"Price",-1),kp=M("th",null,"Value",-1),Tp=M("th",null,"Price",-1),Ap=M("th",null,"Value",-1),Cp=M("th",null,"Weigth",-1),Sp=[dp,hp,gp,_p,vp,pp,mp,yp,wp,bp,xp,Ep,kp,Tp,Ap,Cp],Op={id:"holdings",class:"holdings"},Mp=M("td",{class:"fill-space"},null,-1),Ip={id:"cash",class:"holdings"},Fp=M("td",{class:"fill-space"},null,-1),Pp=M("td",{colspan:"10"},null,-1),Rp=M("td",null,null,-1),Lp={key:5,id:"holdings_totals",class:"show-total-line"},Dp=M("td",{colspan:"4",class:"justify-left"},"Total",-1),Np=M("td",null,null,-1),Wp=M("td",null,null,-1),zp=M("td",null,null,-1),Up=M("td",null,null,-1),Bp={key:1,id:"accounts_footer_spacing",class:"accounts-footer"},$p=M("td",{colspan:"16"},null,-1),Hp=[$p],qp={id:"portfolio_totals",class:"show-total-line"},Gp=M("td",{colspan:"5",class:"justify-left"},"Total",-1),Jp={key:1,id:"footer"},Kp=M("div",{style:{height:"20px"}},null,-1),Vp={style:{display:"flex","justify-content":"space-between"}},Yp=["title"],jp={inject:["data_store"],data(){return{accounts:null,totals:null,holdings:null,x_usd:null}},created(){this.load_data()},methods:{load_data(){Promise.all([this.data_store.load(Kt.accounts),this.data_store.load(Kt.holdings),this.data_store.load(Kt.totals),this.data_store.load(Kt.x_usd)]).then(()=>{this.accounts=this.data_store[Kt.accounts],this.holdings=this.data_store[Kt.holdings],this.totals=this.data_store[Kt.totals],this.x_usd=this.data_store[Kt.x_usd]})},refresh_all(){this.data_store.clear_data(Object.keys(Kt))},refresh_stock_prices(){this.data_store.refresh_stock_prices()},get_account_totals(m){return console.log("totals account_number",m),console.log("totals holdings",this.holdings.totals),console.log("totals account",m,this.holdings.totals[m]),this.holdings.totals[m].gain_daily_amount}},computed:{currency_info(){if(this.x_usd){let m=this.x_usd.id.toUpperCase(),a=(1/this.x_usd.rate).toFixed(4),i=this.x_usd.rate.toFixed(4);return`1 ${m} = ${a} CAD, 1 CAD = ${i} ${m}`}else return"undefined"},currency_date(){return this.x_usd?rn.long_datetime(this.x_usd.date):"undefined"}}},Ou=Object.assign(jp,{__name:"portfolio",setup(m){return(a,i)=>($e(),Ve(Cn,null,[a.accounts&&a.accounts.length?($e(),Ve("div",Qv,[M("table",ep,[M("thead",null,[M("tr",tp,[np,J(Xt,{group_name:"Daily CAD"}),J(Xt,{group_name:"Overall CAD"}),rp]),ip]),a.accounts?($e(!0),Ve(Cn,{key:0},ar(a.accounts,d=>($e(),Ve("tbody",{key:d.account_number},[M("tr",{id:"accounts",class:on(["accounts",[{expanded:d.expanded}]])},[J(qi,{institution:d.institution.type,name:d.name,number:d.number,type:d.type,show_expand:!d.no_holdings,expanded:d.expanded,onToggle:p=>d.expanded=!d.expanded},null,8,["institution","name","number","type","show_expand","expanded","onToggle"]),J(Ae,{value:a.totals[d.number].gain_daily_amount,highlighted:!0},null,8,["value"]),J(vt,{value:a.totals[d.number].gain_daily_percent,arrow:!0},null,8,["value"]),J(Ae,{value:a.totals[d.number].gain_overall_amount,highlighted:!0},null,8,["value"]),J(vt,{value:a.totals[d.number].gain_overall_percent,arrow:!0},null,8,["value"]),J(Ae,{span:2,value:a.totals[d.number].market_value_CAD,colored:!1},null,8,["value"]),J(Ae,{span:2,value:a.totals[d.number].market_value_USD,colored:!1},null,8,["value"]),J(Ae,{span:2,value:a.totals[d.number].market_total_CAD},null,8,["value"]),J(vt,{value:a.totals[d.number].weight,colored:!1},null,8,["value"])],2),d.expanded&&d.subaccounts&&d.subaccounts.length?($e(!0),Ve(Cn,{key:0},ar(d.subaccounts,p=>($e(),Ve(Cn,{key:p.id},[M("tr",{id:"subaccounts",class:on(["subaccounts",[{expanded:p.expanded}]])},[J(qi,{institution:"--",name:p.name,currency:p.currency,expanded:p.expanded,onToggle:l=>p.expanded=!p.expanded},null,8,["name","currency","expanded","onToggle"]),J(Ae,{value:a.totals[d.number][p.id].gain_daily_amount,highlighted:!0,visible:!p.expanded},null,8,["value","visible"]),J(vt,{value:a.totals[d.number][p.id].gain_daily_percent,arrow:!0,visible:!p.expanded},null,8,["value","visible"]),J(Ae,{value:a.totals[d.number][p.id].gain_overall_amount,highlighted:!0,visible:!p.expanded},null,8,["value","visible"]),J(vt,{value:a.totals[d.number][p.id].gain_overall_percent,arrow:!0,visible:!p.expanded},null,8,["value","visible"]),J(Ae,{span:2,value:a.totals[d.number][p.id].market_value_CAD,colored:!1,visible:!p.expanded},null,8,["value","visible"]),J(Ae,{span:2,value:a.totals[d.number][p.id].market_value_USD,colored:!1,visible:!p.expanded},null,8,["value","visible"]),J(Ae,{span:2,value:a.totals[d.number][p.id].market_total_CAD,visible:!p.expanded},null,8,["value","visible"]),J(vt,{value:a.totals[d.number][p.id].weight_account,colored:!1,visible:!p.expanded},null,8,["value","visible"])],2),p.expanded?($e(),Ve("tr",op)):Ot("",!0),p.expanded?($e(),Ve("tr",ap,[sp,up,lp,J(Xt,{group_name:"Book"}),J(Xt,{group_name:"Daily"}),J(Xt,{group_name:"Overall"}),J(Xt,{group_name:"52 weeks"}),J(Xt,{group_name:"Market"}),J(Xt,{group_name:"Market CAD"}),cp])):Ot("",!0),p.expanded?($e(),Ve("tr",fp,Sp)):Ot("",!0),p.expanded?($e(!0),Ve(Cn,{key:3},ar(a.holdings.filter(l=>l.subaccount_id==p.id&&!l.cash),l=>($e(),Ve("tr",Op,[J(Hi,{market:l.market,symbol:l.symbol,name:l.name},null,8,["market","symbol","name"]),Mp,J(Nr,{value:l.quantity,formatter:Ht(rn).number,align:"center",colored:!1},null,8,["value","formatter"]),J(Ae,{value:l.values.book_price,colored:!1,tooltip:Ht(rn).price(l.values.book_price)},null,8,["value","tooltip"]),J(Ae,{value:l.values.book_value,colored:!1},null,8,["value"]),J(Ae,{value:l.values.gain_daily_amount,highlighted:!0,tooltip:Ht(rn).tip_daily_change(l.values.daily_change,l.values.market_date)},null,8,["value","tooltip"]),J(vt,{value:l.values.gain_daily_percent,arrow:!0,tooltip:Ht(rn).tip_daily_change(l.values.daily_change,l.values.market_date)},null,8,["value","tooltip"]),J(Ae,{value:l.values.gain_overall_amount,highlighted:!0},null,8,["value"]),J(vt,{value:l.values.gain_overall_percent,arrow:!0},null,8,["value"]),J(Ae,{value:l.history.low.value,colored:!1,tooltip:Ht(rn).long_date(l.history.low.date)},null,8,["value","tooltip"]),J(Ae,{value:l.history.high.value,colored:!1,tooltip:Ht(rn).long_date(l.history.high.date)},null,8,["value","tooltip"]),J(Ae,{value:l.values.market_price,colored:!1,tooltip:Ht(rn).long_datetime(l.values.market_date)},null,8,["value","tooltip"]),J(Ae,{value:l.values.market_value,colored:!1},null,8,["value"]),J(Ae,{value:l.values.market_price_CAD,tooltip:Ht(rn).tip_xrate(l.currency,l.xrate)},null,8,["value","tooltip"]),J(Ae,{value:l.values.market_value_CAD,tooltip:Ht(rn).tip_xrate(l.currency,l.xrate)},null,8,["value","tooltip"]),J(vt,{value:l.values.weight_account,colored:!1},null,8,["value"])]))),256)):Ot("",!0),p.expanded?($e(!0),Ve(Cn,{key:4},ar(a.holdings.filter(l=>l.subaccount_id==p.id&&l.cash),l=>($e(),Ve("tr",Ip,[J(Hi,{market:l.market,symbol:l.symbol,name:l.name},null,8,["market","symbol","name"]),Fp,Pp,J(Ae,{value:l.values.market_value,colored:!1},null,8,["value"]),Rp,J(Ae,{value:l.values.market_value_CAD},null,8,["value"]),J(vt,{value:l.values.weight_account,colored:!1},null,8,["value"])]))),256)):Ot("",!0),p.expanded?($e(),Ve("tr",Lp,[Dp,J(Ae,{value:a.totals[d.number][p.id].book_value,colored:!1},null,8,["value"]),J(Ae,{value:a.totals[d.number][p.id].gain_daily_amount,highlighted:!0},null,8,["value"]),J(vt,{value:a.totals[d.number][p.id].gain_daily_percent,arrow:!0},null,8,["value"]),J(Ae,{value:a.totals[d.number][p.id].gain_overall_amount,highlighted:!0},null,8,["value"]),J(vt,{value:a.totals[d.number][p.id].gain_overall_percent,arrow:!0},null,8,["value"]),Np,Wp,zp,J(Ae,{value:a.totals[d.number][p.id].market_value,colored:!1},null,8,["value"]),Up,J(Ae,{value:a.totals[d.number][p.id].market_total_CAD},null,8,["value"]),J(vt,{value:a.totals[d.number][p.id].weight_account,colored:!1},null,8,["value"])])):Ot("",!0)],64))),128)):Ot("",!0),d.expanded?($e(),Ve("tr",Bp,Hp)):Ot("",!0)]))),128)):Ot("",!0),M("tfoot",null,[M("tr",qp,[Gp,J(Ae,{value:a.totals.all.gain_daily_amount,highlighted:!0},null,8,["value"]),J(vt,{value:a.totals.all.gain_daily_percent,arrow:!0},null,8,["value"]),J(Ae,{value:a.totals.all.gain_overall_amount,highlighted:!0},null,8,["value"]),J(vt,{value:a.totals.all.gain_overall_percent,arrow:!0},null,8,["value"]),J(Ae,{span:2,value:a.totals.all.market_value_CAD,colored:!1},null,8,["value"]),J(Ae,{span:2,value:a.totals.all.market_value_USD,colored:!1},null,8,["value"]),J(Ae,{span:2,value:a.totals.all.market_total_CAD},null,8,["value"]),J(vt,{value:a.totals.all.weight,colored:!1},null,8,["value"])])])])])):Ot("",!0),a.x_usd?($e(),Ve("div",Jp,[Kp,M("div",Vp,[a.x_usd?($e(),Ve("div",{key:0,class:"x-rate-info",title:a.currency_date},Kn(a.currency_info),9,Yp)):Ot("",!0),M("div",null,[M("button",{onClick:i[0]||(i[0]=(...d)=>a.refresh_all&&a.refresh_all(...d))},"Refresh All"),ev("  "),M("button",{onClick:i[1]||(i[1]=(...d)=>a.refresh_stock_prices&&a.refresh_stock_prices(...d))},"Refresh Prices")])])])):Ot("",!0)],64))}}),ia={dev:!0,prod:!1,log_all:!1},yr={portfolio_user:"user",portfolio_currencies:"currencies",portfolio_institutions:"institutions",portfolio_positions:"positions",portfolio_holdings:"holdings",portfolio_streams:"streams",portfolio_wallet:"wallet"},Mu={portfolio:[{id:yr.portfolio_user,enabled:!1},{id:yr.portfolio_currencies,enabled:!1},{id:yr.portfolio_institutions,enabled:!1},{id:yr.portfolio_positions,enabled:!1},{id:yr.portfolio_holdings,enabled:!1},{id:yr.portfolio_streams,enabled:!1}],wallet:{id:yr.portfolio_wallet,enabled:!0}};function Xp(m){return Wu(m)&&ia.dev||zu(m)&&ia.prod}function wr(m,a){if(m==0)return"";switch(a){case"number":return new Intl.NumberFormat("en-US").format(m);case"money":return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(m);case"money+":return(m>0?"+":"")+new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(m);case"price":return new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}).format(m);case"percent":return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2}).format(m);case"x_rate_CAD":return"1 USD = "+new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}).format(m)+" CAD";case"long_date":let i=new Date(m);return isNaN(i.getTime())?"Invalid":new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(i);case"long_date_hour":let d=new Date(m);return new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).format(d);default:return"Invalid"}}function Iu(m){return wr(m,"long_date")}function Zp(m){return wr(m,"long_date_hour")}function Fu(m,a){return wr(m,"money+")+" on "+wr(a,"long_date_hour")}function Pu(m,a){return m=="usd"?wr(a,"x_rate_CAD"):null}function Qp(m){return wr(m,"price")}const em={key:0,id:"wallet"},tm={class:"wallet"},nm={id:"tr_accounts_header_1"},rm=M("th",{colspan:"5"},null,-1),im=M("th",{colspan:"7"},null,-1),om=M("tr",{id:"tr_accounts_header_2",class:"show-separator-line"},[M("th",{colspan:"5",class:"justify-left"},"Accounts"),M("th",null,"Gain $"),M("th",null,"Gain %"),M("th",null,"Gain $"),M("th",null,"Gain %"),M("th",{colspan:"2"},"CAD"),M("th",{colspan:"2"},"USD"),M("th",{colspan:"2"},"Total CAD"),M("th",null,"Portfolio")],-1),am={key:0,class:"spacer"},sm={key:1,id:"holdings_header_1",class:"spacer"},um=M("th",null,null,-1),lm=M("th",null,null,-1),cm=M("th",null,null,-1),fm=M("th",null,null,-1),dm={key:2,id:"holdings_header_2",class:"show-separator-line"},hm=M("th",{class:"justify-left"},"Company",-1),gm=M("th",null,null,-1),_m=M("th",{class:"justify-center"},"Qty",-1),vm=M("th",null,"Price",-1),pm=M("th",null,"Value",-1),mm=M("th",null,"Gain $",-1),ym=M("th",null,"Gain %",-1),wm=M("th",null,"Gain $",-1),bm=M("th",null,"Gain %",-1),xm=M("th",null,"low",-1),Em=M("th",null,"high",-1),km=M("th",null,"Price",-1),Tm=M("th",null,"Value",-1),Am=M("th",null,"Price",-1),Cm=M("th",null,"Value",-1),Sm=M("th",null,"Weigth",-1),Om=[hm,gm,_m,vm,pm,mm,ym,wm,bm,xm,Em,km,Tm,Am,Cm,Sm],Mm={id:"holdings",class:"holdings"},Im=M("td",{class:"fill-space"},null,-1),Fm={id:"cash",class:"holdings"},Pm=M("td",{class:"fill-space"},null,-1),Rm=M("td",{colspan:"10"},null,-1),Lm=M("td",null,null,-1),Dm={key:5,id:"holdings_totals",class:"show-total-line"},Nm=M("td",{colspan:"4",class:"justify-left"},"Total",-1),Wm=M("td",null,null,-1),zm=M("td",null,null,-1),Um=M("td",null,null,-1),Bm=M("td",null,null,-1),$m={key:1,id:"accounts_footer_spacing",class:"accounts-footer"},Hm=M("td",{colspan:"16"},null,-1),qm=[Hm],Gm={id:"wallet_totals",class:"show-total-line"},Jm=M("td",{colspan:"5",class:"justify-left"},"Total",-1),Km={id:"footer"},Vm=M("div",{style:{height:"20px"}},null,-1),Ym={style:{display:"flex","justify-content":"space-between"}},jm=["title"],Xm={inject:["data_store"],data(){return{data:{user:[],currencies:[],institutions:[],positions:[],holdings:[],streams:[]},wallet:{user:[],xcurrency:null,accounts:[],values:{daily_gain_amount:0,daily_gain_percent:0,period_gain_amount:0,period_gain_percent:0,overall_gain_amount:0,overall_gain_percent:0,market_value_CAD:0,market_value_USD:0,market_value_totalCAD:0,weight:0}}}},created(){this.fetch_data().then(()=>{this.extract_data()})},methods:{fetch_data(){return Promise.all([this.fetch_user(),this.fetch_currencies(),this.fetch_institutions(),this.fetch_positions()])},fetch_user(){return this.data_store.wealthica.addon.api.getUser().then(m=>{this.data.user=m}).catch(m=>{throw console.error("Error fetching user:",m),m})},fetch_currencies(){return this.data_store.wealthica.addon.request({method:"GET",endpoint:"currencies"}).then(m=>{this.data.currencies=m}).catch(m=>{throw console.error("Error fetching currencies:",m),m})},fetch_institutions(){return this.data_store.wealthica.addon.api.getInstitutions(this.get_query_from_options(this.data_store.wealthica.addon.options)).then(m=>{this.data.institutions=m}).catch(m=>{throw console.error("Error fetching institutions:",m),m})},fetch_positions(){return this.data_store.wealthica.addon.api.getPositions(this.get_query_from_options(this.data_store.wealthica.addon.options)).then(m=>{this.data.positions=m}).catch(m=>{throw console.error("Error fetching positions:",m),m})},fetch_historical_data(m){try{return this.data_store.wealthica.addon.request({method:"GET",endpoint:`securities/${m}/history`})}catch(a){console.error("Error fetching position historical data:",a)}},fetch_stock_prices(m){const a="https://data.wealthica.com/api/streams",i={user:this.wallet.user.email,symbols:m};return fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then(d=>d.json()).catch(d=>{console.log("Error fetching stock pices:",d)})},get_query_from_options(m){return{from:m.dateRangeFilter&&m.dateRangeFilter[0],to:m.dateRangeFilter&&m.dateRangeFilter[1],groups:m.groupsFilter,institutions:m.institutionsFilter,investments:m.investmentsFilter==="all"?null:m.investmentsFilter}},extract_data(){this.extract_user(),this.extract_xcurrency(),this.extract_holdings().then(()=>{this.extract_accounts(),this.refresh_wallet()})},extract_user(){this.wallet.user=this.data.user},extract_xcurrency(){let m=this.data.currencies.find(a=>a._id==="usd");this.wallet.xcurrency=m?{id:m._id,rate:m.exchange_rate,date:m.update_date}:null},extract_holdings(){const m=[];return this.data.positions.forEach(a=>{a.investments.forEach(i=>{const d=this.fetch_historical_data(a.security._id).then(p=>{this.data.holdings.push({account_number:i.investment.split(":")[0],subaccount_id:i.investment,market:i.currency.substring(0,2).toUpperCase(),symbol:a.security.symbol,symbol_mrkt:i.currency.substring(0,2).toUpperCase()+":"+a.security.symbol,name:a.security.name,currency:i.currency,x_rate:i.currency==="usd"?1/this.wallet.xcurrency.rate:1,quantity:i.quantity,cash:a.security.symbol=="REALCASH",history:p,values:{low_price:a.security.low_price,low_date:a.security.low_date,high_price:a.security.high_price,high_date:a.security.high_date,book_price:i.book_value/i.quantity,book_value:i.book_value,daily_change:0,daily_date:a.security.last_date,daily_gain_amount:0,daily_gain_percent:0,period_gain_amount:0,period_gain_percent:0,overall_gain_amount:i.quantity*a.security.last_price-i.book_value,overall_gain_percent:(i.quantity*a.security.last_price-i.book_value)/i.book_value,close_price:a.security.last_price,close_date:a.security.last_date,market_price:a.security.last_price,market_date:a.security.last_date,market_value:i.quantity*a.security.last_price,market_price_CAD:a.security.last_price*(i.currency==="usd"?1/this.wallet.xcurrency.rate:1),market_value_CAD:i.quantity*a.security.last_price*(i.currency==="usd"?1/this.wallet.xcurrency.rate:1)}})});m.push(d)})}),Promise.all(m)},extract_accounts(){this.data.institutions.forEach(m=>{const a=new Map;m.investments.forEach(i=>{const d=this.get_account_number(i);if(!i.ignored&&!$u(d)){let p=a.get(d);p==null&&(p={institution:{name:m.name,type:m.type},number:d,name:i.name,type:Bu(i.type),order:Hu(d),no_holdings:qu(d),expanded:!1,subaccounts:[],values:{close_amount:0,daily_gain_amount:0,period_gain_amount:0,overall_gain_amount:0,market_value:0,market_value_CAD:0,market_value_USD:0,market_value_totalCAD:0,subaccounts_weights:0,account_weights:0}}),p.no_holdings&&(p.values.market_value_CAD=i.currency!="usd"?i.currency_value:0,p.values.market_value_USD=i.currency=="usd"?i.currency_value:0,p.values.market_value_totalCAD=i.value),p.subaccounts.push({id:i._id,name:i.name,currency:i.currency,expanded:!0,holdings:this.data.holdings.filter(l=>l.subaccount_id===i._id),values:{book_value:0,daily_gain_amount:0,daily_gain_percent:0,period_gain_amoumt:0,period_gain_percent:0,overall_gain_amount:0,overall_gain_percent:0,market_value_CAD:0,market_value_USD:0,market_value_totalCAD:0,holding_weights:0,weight:0}}),a.set(d,p)}}),this.wallet.accounts.push(...Array.from(a.values()))}),this.wallet.accounts.sort((m,a)=>m.order-a.order)},refresh_wallet(){this.update_stock_prices().then(()=>{this.calc_holdings_weigths(),this.calc_subaccounts_totals(),this.calc_accounts_totals(),this.calc_accounts_weigths(),this.calc_wallet_totals(),this.log_data()})},update_stock_prices(){return new Promise((m,a)=>{let i=this.wallet.accounts.flatMap(d=>d.subaccounts.flatMap(p=>p.holdings.map(l=>l.symbol_mrkt)));i&&i.length>0?this.fetch_stock_prices(i).then(d=>{this.data.streams=d;let p=Object.fromEntries(this.data.streams.securities.map(l=>[`${l.market}:${l.symbol.split(":")[1]}`,l]));this.wallet.accounts.forEach(l=>l.subaccounts.forEach(B=>B.holdings.forEach(D=>{let j=p[D.symbol_mrkt];j&&(D.values.close_price=j.price-j.change,D.values.close_amount=D.quantity*(j.price-j.change),D.values.daily_change=j.change,D.values.daily_date=j.update_date,D.values.daily_gain_amount=D.quantity*j.change,D.values.daily_gain_percent=D.values.close_price/(D.values.close_price-j.change)-1,D.values.period_gain_amount=0,D.values.period_gain_percent=0,D.values.overall_gain_amount=D.quantity*j.price-D.values.book_value,D.values.overall_gain_percent=(D.quantity*j.price-D.values.book_value)/D.values.book_value,D.values.market_price=j.price,D.values.market_value=D.quantity*j.price,D.values.market_date=j.quote_date,D.values.market_price_CAD=j.price*(D.currency==="usd"?1/this.wallet.xcurrency.rate:1),D.values.market_value_CAD=D.quantity*j.price*(D.currency==="usd"?1/this.wallet.xcurrency.rate:1))}))),m()}).catch(d=>{console.log("Error updating stock prices:",d),a(d)}):(console.log("Warning: no stocks to update."),m())})},calc_holdings_weigths(){this.wallet.accounts.forEach(m=>{let a=m.subaccounts.flatMap(i=>i.holdings).reduce((i,d)=>i+d.values.market_value,0);m.subaccounts.forEach(i=>{i.holdings.forEach(d=>{d.values.weight=d.values.market_value/a}),i.holdings.sort((d,p)=>p.values.weight-d.values.weight)})})},calc_subaccounts_totals(){this.wallet.accounts.forEach(m=>{m.subaccounts.forEach(a=>{let i=a.holdings.reduce((d,p)=>(p.symbol!="REALCASH"&&(d.book_value+=p.values.book_value,d.close_amount+=p.values.close_amount,d.daily_gain_amount+=p.values.daily_gain_amount,d.period_gain_amount+=p.values.period_gain_amount,d.overall_gain_amount+=p.values.overall_gain_amount),d.market_value+=p.values.market_value,d.market_value_CAD+=a.currency!="usd"?p.values.market_value:0,d.market_value_USD+=a.currency=="usd"?p.values.market_value:0,d.market_value_totalCAD+=p.values.market_value_CAD,d.holding_weights+=p.values.weight,d.weight+=p.values.weight,d),{book_value:0,close_amount:0,daily_gain_amount:0,period_gain_amount:0,overall_gain_amount:0,market_value:0,market_value_CAD:0,market_value_USD:0,market_value_totalCAD:0,holding_weights:0,weight:0});i.daily_gain_percent=i.market_value/(i.market_value-i.daily_gain_amount)-1,i.overall_gain_percent=i.market_value/(i.market_value-i.overall_gain_amount)-1,Object.assign(a.values,i)})})},calc_subaccouts_weigths(){this.wallet.accounts.forEach(m=>{let a=m.subaccounts.reduce((i,d)=>i+d.values.market_value_totalCAD,0);m.subaccounts.forEach(i=>{i.values.weight=i.values.market_value_totalCAD/a})})},calc_accounts_totals(){this.wallet.accounts.forEach(m=>{if(!m.no_holdings){let a=m.subaccounts.reduce((i,d)=>(i.book_value+=d.values.book_value,i.close_amount+=d.values.close_amount,i.daily_gain_amount+=d.values.daily_gain_amount,i.period_gain_amount+=d.values.period_gain_amount,i.overall_gain_amount+=d.values.overall_gain_amount,i.market_value+=d.values.market_value,i.market_value_CAD+=d.currency!="usd"?d.values.market_value:0,i.market_value_USD+=d.currency=="usd"?d.values.market_value:0,i.market_value_totalCAD+=d.values.market_value_totalCAD,i.subaccounts_weights+=d.values.weight,i),{book_value:0,close_amount:0,daily_gain_amount:0,period_gain_amount:0,overall_gain_amount:0,market_value:0,market_value_CAD:0,market_value_USD:0,market_value_totalCAD:0,subaccounts_weights:0});a.daily_gain_percent=a.market_value/(a.market_value-a.daily_gain_amount)-1,a.overall_gain_percent=a.market_value/(a.market_value-a.overall_gain_amount)-1,Object.assign(m.values,a)}})},calc_accounts_weigths(){let m=this.wallet.accounts.reduce((a,i)=>a+i.values.market_value_totalCAD,0);this.wallet.accounts.forEach(a=>{a.values.weight=a.values.market_value_totalCAD/m})},calc_wallet_totals(){let m=this.wallet.accounts.reduce((a,i)=>(a.book_value+=i.values.book_value,a.close_amount+=i.values.close_amount,a.daily_gain_amount+=i.values.daily_gain_amount,a.period_gain_amount+=i.values.period_gain_amount,a.overall_gain_amount+=i.values.overall_gain_amount,a.market_value+=i.values.market_value,a.market_value_CAD+=i.values.market_value_CAD,a.market_value_USD+=i.values.market_value_USD,a.market_value_totalCAD+=i.values.market_value_totalCAD,a.account_weights+=i.values.weight,a),{book_value:0,close_amount:0,daily_gain_amount:0,period_gain_amount:0,overall_gain_amount:0,market_value:0,market_value_CAD:0,market_value_USD:0,market_value_totalCAD:0,account_weights:0});m.daily_gain_percent=m.market_value/(m.market_value-m.daily_gain_amount)-1,m.overall_gain_percent=m.market_value/(m.market_value-m.overall_gain_amount)-1,Object.assign(this.wallet.values,m)},get_account_number(m){return m.account_number?m.account_number:m.id},log_data(){Xp(document.domain)&&(Mu.portfolio.forEach(m=>{(m.enabled||ia.log_all)&&console.log(m.id,this.data[m.id])}),console.log(Mu.wallet.id,this.wallet))}},computed:{xcurrency_info(){if(this.wallet.xcurrency){let m=this.wallet.xcurrency.id.toUpperCase(),a=(1/this.wallet.xcurrency.rate).toFixed(4),i=this.wallet.xcurrency.rate.toFixed(4);return`1 ${m} = ${a} CAD, 1 CAD = ${i} ${m}`}else return"undefined"},xcurrency_date(){return this.wallet.xcurrency?wr(this.wallet.xcurrency.date,"long_date_hour"):"undefined"}}},Ru=Object.assign(Xm,{__name:"portfolio_old",setup(m){return(a,i)=>($e(),Ve(Cn,null,[a.wallet.accounts&&a.wallet.accounts.length?($e(),Ve("div",em,[M("table",tm,[M("thead",null,[M("tr",nm,[rm,J(Xt,{group_name:"Daily CAD"}),J(Xt,{group_name:"Overall CAD"}),im]),om]),($e(!0),Ve(Cn,null,ar(a.wallet.accounts,d=>($e(),Ve("tbody",{key:d.account_number},[M("tr",{id:"accounts",class:on(["accounts",[{expanded:d.expanded}]])},[J(qi,{institution:d.institution.type,name:d.name,number:d.number,type:d.type,show_expand:!d.no_holdings,expanded:d.expanded,onToggle:p=>d.expanded=!d.expanded},null,8,["institution","name","number","type","show_expand","expanded","onToggle"]),J(Ae,{value:d.values.daily_gain_amount,highlighted:!0},null,8,["value"]),J(vt,{value:d.values.daily_gain_percent,arrow:!0},null,8,["value"]),J(Ae,{value:d.values.overall_gain_amount,highlighted:!0},null,8,["value"]),J(vt,{value:d.values.overall_gain_percent,arrow:!0},null,8,["value"]),J(Ae,{span:2,value:d.values.market_value_CAD,colored:!1},null,8,["value"]),J(Ae,{span:2,value:d.values.market_value_USD,colored:!1},null,8,["value"]),J(Ae,{span:2,value:d.values.market_value_totalCAD},null,8,["value"]),J(vt,{value:d.values.weight,colored:!1},null,8,["value"])],2),d.expanded&&d.subaccounts&&d.subaccounts.length?($e(!0),Ve(Cn,{key:0},ar(d.subaccounts,p=>($e(),Ve(Cn,{key:p.id},[M("tr",{id:"subaccounts",class:on(["subaccounts",[{expanded:p.expanded}]])},[J(qi,{institution:"--",name:p.name,currency:p.currency,expanded:p.expanded,onToggle:l=>p.expanded=!p.expanded},null,8,["name","currency","expanded","onToggle"]),J(Ae,{value:p.values.daily_gain_amount,highlighted:!0,visible:!p.expanded},null,8,["value","visible"]),J(vt,{value:p.values.daily_gain_percent,arrow:!0,visible:!p.expanded},null,8,["value","visible"]),J(Ae,{value:p.values.overall_gain_amount,highlighted:!0,visible:!p.expanded},null,8,["value","visible"]),J(vt,{value:p.values.overall_gain_percent,arrow:!0,visible:!p.expanded},null,8,["value","visible"]),J(Ae,{span:2,value:p.values.market_value_CAD,colored:!1,visible:!p.expanded},null,8,["value","visible"]),J(Ae,{span:2,value:p.values.market_value_USD,colored:!1,visible:!p.expanded},null,8,["value","visible"]),J(Ae,{span:2,value:p.values.market_value_totalCAD,visible:!p.expanded},null,8,["value","visible"]),J(vt,{value:p.values.weight,colored:!1,visible:!p.expanded},null,8,["value","visible"])],2),p.expanded?($e(),Ve("tr",am)):Ot("",!0),p.expanded?($e(),Ve("tr",sm,[um,lm,cm,J(Xt,{group_name:"Book"}),J(Xt,{group_name:"Daily"}),J(Xt,{group_name:"Overall"}),J(Xt,{group_name:"52 weeks"}),J(Xt,{group_name:"Market"}),J(Xt,{group_name:"Market CAD"}),fm])):Ot("",!0),p.expanded?($e(),Ve("tr",dm,Om)):Ot("",!0),p.expanded?($e(!0),Ve(Cn,{key:3},ar(p.holdings.filter(l=>!l.cash),l=>($e(),Ve("tr",Mm,[J(Hi,{market:l.market,symbol:l.symbol,name:l.name},null,8,["market","symbol","name"]),Im,J(Nr,{value:l.quantity,align:"center",colored:!1},null,8,["value"]),J(Ae,{value:l.values.book_price,colored:!1,tooltip:Ht(Qp)(l.values.book_price)},null,8,["value","tooltip"]),J(Ae,{value:l.values.book_value,colored:!1},null,8,["value"]),J(Ae,{value:l.values.daily_gain_amount,highlighted:!0,tooltip:Ht(Fu)(l.values.daily_change,l.values.market_date)},null,8,["value","tooltip"]),J(vt,{value:l.values.daily_gain_percent,arrow:!0,tooltip:Ht(Fu)(l.values.daily_change,l.values.market_date)},null,8,["value","tooltip"]),J(Ae,{value:l.values.overall_gain_amount,highlighted:!0},null,8,["value"]),J(vt,{value:l.values.overall_gain_percent,arrow:!0},null,8,["value"]),J(Ae,{value:l.history.low.value,colored:!1,tooltip:Ht(Iu)(l.history.low.date)},null,8,["value","tooltip"]),J(Ae,{value:l.history.high.value,colored:!1,tooltip:Ht(Iu)(l.history.high.date)},null,8,["value","tooltip"]),J(Ae,{value:l.values.market_price,colored:!1,tooltip:Ht(Zp)(l.values.market_date)},null,8,["value","tooltip"]),J(Ae,{value:l.values.market_value,colored:!1},null,8,["value"]),J(Ae,{value:l.values.market_price_CAD,tooltip:Ht(Pu)(l.currency,l.x_rate)},null,8,["value","tooltip"]),J(Ae,{value:l.values.market_value_CAD,tooltip:Ht(Pu)(l.currency,l.x_rate)},null,8,["value","tooltip"]),J(vt,{value:l.values.weight,colored:!1},null,8,["value"])]))),256)):Ot("",!0),p.expanded?($e(!0),Ve(Cn,{key:4},ar(p.holdings.filter(l=>l.cash),l=>($e(),Ve("tr",Fm,[J(Hi,{market:l.market,symbol:l.symbol,name:l.name},null,8,["market","symbol","name"]),Pm,Rm,J(Ae,{value:l.values.market_value,colored:!1},null,8,["value"]),Lm,J(Ae,{value:l.values.market_value_CAD},null,8,["value"]),J(vt,{value:l.values.weight,colored:!1},null,8,["value"])]))),256)):Ot("",!0),p.expanded?($e(),Ve("tr",Dm,[Nm,J(Ae,{value:p.values.book_value,colored:!1},null,8,["value"]),J(Ae,{value:p.values.daily_gain_amount,highlighted:!0},null,8,["value"]),J(vt,{value:p.values.daily_gain_percent,arrow:!0},null,8,["value"]),J(Ae,{value:p.values.overall_gain_amount,highlighted:!0},null,8,["value"]),J(vt,{value:p.values.overall_gain_percent,arrow:!0},null,8,["value"]),Wm,zm,Um,J(Ae,{value:p.values.market_value,colored:!1},null,8,["value"]),Bm,J(Ae,{value:p.values.market_value_totalCAD},null,8,["value"]),J(vt,{value:p.values.holding_weights,colored:!1},null,8,["value"])])):Ot("",!0)],64))),128)):Ot("",!0),d.expanded?($e(),Ve("tr",$m,qm)):Ot("",!0)]))),128)),M("tfoot",null,[M("tr",Gm,[Jm,J(Ae,{value:a.wallet.values.daily_gain_amount,highlighted:!0},null,8,["value"]),J(vt,{value:a.wallet.values.daily_gain_percent,arrow:!0},null,8,["value"]),J(Ae,{value:a.wallet.values.overall_gain_amount,highlighted:!0},null,8,["value"]),J(vt,{value:a.wallet.values.overall_gain_percent,arrow:!0},null,8,["value"]),J(Ae,{span:2,value:a.wallet.values.market_value_CAD,colored:!1},null,8,["value"]),J(Ae,{span:2,value:a.wallet.values.market_value_USD,colored:!1},null,8,["value"]),J(Ae,{span:2,value:a.wallet.values.market_value_totalCAD},null,8,["value"]),J(vt,{value:a.wallet.values.account_weights,colored:!1},null,8,["value"])])])])])):Ot("",!0),M("div",Km,[Vm,M("div",Ym,[a.wallet.xcurrency?($e(),Ve("div",{key:0,class:"x-rate-info",title:a.xcurrency_date},Kn(a.xcurrency_info),9,jm)):Ot("",!0),M("button",{onClick:i[0]||(i[0]=(...d)=>a.refresh_wallet&&a.refresh_wallet(...d))},"Refresh")])])],64))}}),Zm={name:"tab_performance"},Qm={class:"tab-container"},ey=M("div",{class:"tab-logo-container"},[M("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-performance-icon.png",alt:"Under Construction",class:"tab-logo-centered"})],-1),ty=[ey];function ny(m,a,i,d,p,l){return $e(),Ve("div",Qm,ty)}const Lu=sr(Zm,[["render",ny]]),ry={name:"tab_wealth"},iy={class:"tab-container"},oy=M("div",{class:"tab-logo-container"},[M("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-wealth-icon.png",alt:"Under Construction",class:"tab-logo-centered"})],-1),ay=[oy];function sy(m,a,i,d,p,l){return $e(),Ve("div",iy,ay)}const Du=sr(ry,[["render",sy]]),uy={name:"tab_transactions"},ly={class:"tab-container"},cy=M("div",{class:"tab-logo-container"},[M("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-transactions-icon.png",alt:"Under Construction",class:"tab-logo-centered"})],-1),fy=[cy];function dy(m,a,i,d,p,l){return $e(),Ve("div",ly,fy)}const Nu=sr(uy,[["render",dy]]),hy={class:"tabs-container"},gy=M("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-dashboard-icon.png",alt:"",class:"tab-img"},null,-1),_y=M("span",null,"Dashboard",-1),vy=[gy,_y],py=M("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-portfolio-icon.png",alt:"",class:"tab-img"},null,-1),my=M("span",null,"Portfolio",-1),yy=[py,my],wy=M("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-portfolio-icon.png",alt:"",class:"tab-img"},null,-1),by=M("span",null,"Portfolio (old)",-1),xy=[wy,by],Ey=M("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-performance-icon.png",alt:"",class:"tab-img"},null,-1),ky=M("span",null,"Performance",-1),Ty=[Ey,ky],Ay=M("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-wealth-icon.png",alt:"",class:"tab-img"},null,-1),Cy=M("span",null,"Wealth",-1),Sy=[Ay,Cy],Oy=M("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-transactions-icon.png",alt:"",class:"tab-img"},null,-1),My=M("span",null,"Transactions",-1),Iy=[Oy,My],Fy=M("div",{class:"top-space"},null,-1),Py={name:"App",provide(){return{data_store:new fv}},components:{Dashboard:Su,Portfolio:Ou,Portfolio_old:Ru,Performance:Lu,Wealth:Du,Transactions:Nu},data(){return{active_tab:"Portfolio",tabs:{Dashboard:Lr(Su),Portfolio:Lr(Ou),Portfolio_old:Lr(Ru),Performance:Lr(Lu),Wealth:Lr(Du),Transactions:Lr(Nu)}}},created(){},computed:{get_active_tab(){return this.tabs[this.active_tab]}}},Dy=Object.assign(Py,{setup(m){return(a,i)=>($e(),Ve("div",null,[M("div",hy,[M("div",{onClick:i[0]||(i[0]=d=>a.active_tab="Dashboard"),class:on(["tab",{"tab-active":a.active_tab==="Dashboard"}])},vy,2),M("div",{onClick:i[1]||(i[1]=d=>a.active_tab="Portfolio"),class:on(["tab",{"tab-active":a.active_tab==="Portfolio"}])},yy,2),M("div",{onClick:i[2]||(i[2]=d=>a.active_tab="Portfolio_old"),class:on(["tab",{"tab-active":a.active_tab==="Portfolio_old"}])},xy,2),M("div",{onClick:i[3]||(i[3]=d=>a.active_tab="Performance"),class:on(["tab",{"tab-active":a.active_tab==="Performance"}])},Ty,2),M("div",{onClick:i[4]||(i[4]=d=>a.active_tab="Wealth"),class:on(["tab",{"tab-active":a.active_tab==="Wealth"}])},Sy,2),M("div",{onClick:i[5]||(i[5]=d=>a.active_tab="Transactions"),class:on(["tab",{"tab-active":a.active_tab==="Transactions"}])},Iy,2)]),Fy,M("div",null,[($e(),Bi(nv,null,[($e(),Bi(tv(a.get_active_tab)))],1024))])]))}});export{Dy as default};
