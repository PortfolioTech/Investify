var Z_=Object.defineProperty;var Q_=(y,s,i)=>s in y?Z_(y,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):y[s]=i;var Jn=(y,s,i)=>(Q_(y,typeof s!="symbol"?s+"":s,i),i);import{p as Wu,o as $e,c as Ve,a as O,t as Kn,n as on,b as J,d as Ot,w as ev,e as Bi,u as Ht,F as Sn,r as ar,f as tv,g as nv,K as rv,m as Dr}from"./index-BpAE4x8l.js";var Qr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function iv(y){return y&&y.__esModule&&Object.prototype.hasOwnProperty.call(y,"default")?y.default:y}var zu={};(function(y){(()=>{var s={541:(l,C,N)=>{var j=N(353),ye=ce(j),le=N(37),Q=ce(le),M=N(630),P=ce(M),E=function(){function q(Y,x){for(var I=0;I<x.length;I++){var W=x[I];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Y,W.key,W)}}return function(Y,x,I){return x&&q(Y.prototype,x),I&&q(Y,I),Y}}(),z=N(457),L=ce(z),ee=N(729),B=ce(ee),c=N(702);N(303);var K=N(248),f=ce(K),ue=N(249),ve=ce(ue);function ce(q){return q&&q.__esModule?q:{default:q}}function ze(q,Y){if(!(q instanceof Y))throw new TypeError("Cannot call a class as a function")}function Le(q,Y){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y&&(typeof Y=="object"||typeof Y=="function")?Y:q}function ot(q,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);q.prototype=Object.create(Y&&Y.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(q,Y):q.__proto__=Y)}window.iFrameResizer=ve.default;var be=function(q){ot(Y,q);function Y(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ze(this,Y);var I=Le(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this));return I.options=x,I.api=new f.default(I),I.channel=L.default.build({window:x.window||window.parent,origin:"*",scope:x.id||location.origin,postMessageObserver:function(ae,de){I.emit("postMessage",ae,de)},gotMessageObserver:function(ae,de){I.emit("gotMessage",ae,de)}}),["init","update","reload","_event"].forEach(function(W){I.channel.bind(W,function(ae,de){var ne=W,re=de;return W==="_event"&&(ne=de.eventName,re=de.eventData),I.emit(ne,re),"success"})}),I}return E(Y,[{key:"request",value:function(I){var W=this;return new c.Promise(function(ae,de){if(!(0,P.default)(I))throw new Error("Params must be an object");var ne=I.method,re=I.endpoint,Pe=I.query,De=I.body;if(!ne||!re||!(0,Q.default)(ne)||!(0,Q.default)(re))throw new Error("Invalid method or endpoint");if(!(0,ye.default)(Pe)&&!(0,P.default)(Pe))throw new Error("Query must be an object");if(!(0,ye.default)(De)&&!(0,P.default)(De))throw new Error("Body must be an object");W.effectiveUser&&(I.effectiveUser=W.effectiveUser),W.channel.call({method:"request",params:I,success:function(Me){ae(Me)},error:function(Me){de(Me)}})})}},{key:"setEffectiveUser",value:function(I){this.effectiveUser=I}},{key:"saveData",value:function(I){var W=this;return new c.Promise(function(ae,de){if(!(0,P.default)(I))throw new Error("Data must be an object");W.channel.call({method:"saveData",params:I,success:function(){ae()},error:function(re){de(re)}})})}},{key:"addTransaction",value:function(I){var W=this;return new c.Promise(function(ae,de){if(!(0,ye.default)(I)&&!(0,P.default)(I))throw new Error("Attrs must be an object");W.channel.call({method:"addTransaction",params:I,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"editTransaction",value:function(I){var W=this;return new c.Promise(function(ae,de){if(!I||!(0,Q.default)(I))throw new Error("Invalid id");W.channel.call({method:"editTransaction",params:I,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"addInstitution",value:function(I){var W=this;return new c.Promise(function(ae,de){if(!(0,ye.default)(I)&&!(0,P.default)(I))throw new Error("Attrs must be an object");W.channel.call({method:"addInstitution",params:I,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"addInvestment",value:function(){var I=this;return new c.Promise(function(W,ae){I.channel.call({method:"addInvestment",success:function(ne){W(ne)},error:function(ne){ae(ne)}})})}},{key:"editInstitution",value:function(I){var W=this;return new c.Promise(function(ae,de){if(!I||!(0,Q.default)(I))throw new Error("Invalid id");W.channel.call({method:"editInstitution",params:I,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"editAsset",value:function(I){var W=this;return new c.Promise(function(ae,de){if(!I||!(0,Q.default)(I))throw new Error("Invalid id");W.channel.call({method:"editAsset",params:I,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"editLiability",value:function(I){var W=this;return new c.Promise(function(ae,de){if(!I||!(0,Q.default)(I))throw new Error("Invalid id");W.channel.call({method:"editLiability",params:I,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"deleteInstitution",value:function(I){var W=this;return new c.Promise(function(ae,de){if(!I||!(0,Q.default)(I))throw new Error("Invalid id");W.channel.call({method:"deleteInstitution",params:I,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"deleteAsset",value:function(I){var W=this;return new c.Promise(function(ae,de){if(!I||!(0,Q.default)(I))throw new Error("Invalid id");W.channel.call({method:"deleteAsset",params:I,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"deleteLiability",value:function(I){var W=this;return new c.Promise(function(ae,de){if(!I||!(0,Q.default)(I))throw new Error("Invalid id");W.channel.call({method:"deleteLiability",params:I,success:function(re){ae(re)},error:function(re){de(re)}})})}},{key:"downloadDocument",value:function(I){var W=this;return new c.Promise(function(ae,de){if(!I||!(0,Q.default)(I))throw new Error("Invalid id");W.channel.call({method:"downloadDocument",params:I,success:function(){ae()},error:function(re){de(re)}})})}},{key:"upgradePremium",value:function(){var I=this;return new c.Promise(function(W,ae){I.channel.call({method:"upgradePremium",success:function(){W()},error:function(ne){ae(ne)}})})}},{key:"getSharings",value:function(){var I=this;return new c.Promise(function(W,ae){I.channel.call({method:"getSharings",success:function(ne){W(ne)},error:function(ne){ae(ne)}})})}},{key:"switchUser",value:function(I){var W=this;return new c.Promise(function(ae,de){if(!I||!(0,Q.default)(I))throw new Error("Invalid id");W.channel.call({method:"switchUser",params:I,success:function(){ae()},error:function(re){de(re)}})})}},{key:"destroy",value:function(){this.channel.destroy()}}]),Y}(B.default);l.exports=be},248:l=>{var C=function(){function ye(le,Q){for(var M=0;M<Q.length;M++){var P=Q[M];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(le,P.key,P)}}return function(le,Q,M){return Q&&ye(le.prototype,Q),M&&ye(le,M),le}}();function N(ye,le){if(!(ye instanceof le))throw new TypeError("Cannot call a class as a function")}var j=function(){function ye(le){N(this,ye),this.addon=le}return C(ye,[{key:"getAssets",value:function(Q){return this.addon.request({method:"GET",endpoint:"assets",query:Q})}},{key:"getCurrencies",value:function(Q){return this.addon.request({method:"GET",endpoint:"currencies",query:Q})}},{key:"getInstitutions",value:function(Q){return this.addon.request({method:"GET",endpoint:"institutions",query:Q})}},{key:"getInstitution",value:function(Q){return this.addon.request({method:"GET",endpoint:"institutions/"+Q})}},{key:"pollInstitution",value:function(Q,M){return this.addon.request({method:"GET",endpoint:"institutions/"+Q+"/poll?v="+M})}},{key:"syncInstitution",value:function(Q){return this.addon.request({method:"POST",endpoint:"institutions/"+Q+"/sync"})}},{key:"addInstitution",value:function(Q){return console.warn("DEPRECATED: `addon.api.addInstitution`. Use `addon.addInstitution instead.`"),this.addon.request({method:"POST",endpoint:"institutions",body:Q})}},{key:"getLiabilities",value:function(Q){return this.addon.request({method:"GET",endpoint:"liabilities",query:Q})}},{key:"getPositions",value:function(Q){return this.addon.request({method:"GET",endpoint:"positions",query:Q})}},{key:"getTransactions",value:function(Q){return this.addon.request({method:"GET",endpoint:"transactions",query:Q})}},{key:"updateTransaction",value:function(Q){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.addon.request({method:"PUT",endpoint:"transactions/"+Q,body:M})}},{key:"getUser",value:function(){return this.addon.request({method:"GET",endpoint:"users/me"})}}]),ye}();l.exports=j},249:(l,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.default={heightCalculationMethod:function(){var j=document,ye=j.body,le=j.documentElement;return Math.max.apply(null,[ye.scrollHeight,ye.offsetHeight,le.offsetHeight])}}},702:function(l,C,N){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(j,ye){l.exports=ye()})(this,function(){function j(_){var F=typeof _;return _!==null&&(F==="object"||F==="function")}function ye(_){return typeof _=="function"}var le=void 0;Array.isArray?le=Array.isArray:le=function(_){return Object.prototype.toString.call(_)==="[object Array]"};var Q=le,M=0,P=void 0,E=void 0,z=function(F,w){be[M]=F,be[M+1]=w,M+=2,M===2&&(E?E(q):x())};function L(_){E=_}function ee(_){z=_}var B=typeof window<"u"?window:void 0,c=B||{},K=c.MutationObserver||c.WebKitMutationObserver,f=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",ue=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function ve(){return function(){return process.nextTick(q)}}function ce(){return typeof P<"u"?function(){P(q)}:ot()}function ze(){var _=0,F=new K(q),w=document.createTextNode("");return F.observe(w,{characterData:!0}),function(){w.data=_=++_%2}}function Le(){var _=new MessageChannel;return _.port1.onmessage=q,function(){return _.port2.postMessage(0)}}function ot(){var _=setTimeout;return function(){return _(q,1)}}var be=new Array(1e3);function q(){for(var _=0;_<M;_+=2){var F=be[_],w=be[_+1];F(w),be[_]=void 0,be[_+1]=void 0}M=0}function Y(){try{var _=Function("return this")().require("vertx");return P=_.runOnLoop||_.runOnContext,ce()}catch{return ot()}}var x=void 0;f?x=ve():K?x=ze():ue?x=Le():B===void 0?x=Y():x=ot();function I(_,F){var w=this,D=new this.constructor(de);D[ae]===void 0&&H(D);var $=w._state;if($){var X=arguments[$-1];z(function(){return Wt($,D,X,w._result)})}else Ut(w,D,_,F);return D}function W(_){var F=this;if(_&&typeof _=="object"&&_.constructor===F)return _;var w=new F(de);return ft(w,_),w}var ae=Math.random().toString(36).substring(2);function de(){}var ne=void 0,re=1,Pe=2;function De(){return new TypeError("You cannot resolve a promise with itself")}function yt(){return new TypeError("A promises callback cannot return that same promise.")}function Me(_,F,w,D){try{_.call(F,w,D)}catch($){return $}}function Ge(_,F,w){z(function(D){var $=!1,X=Me(w,F,function(Je){$||($=!0,F!==Je?ft(D,Je):wt(D,Je))},function(Je){$||($=!0,at(D,Je))},"Settle: "+(D._label||" unknown promise"));!$&&X&&($=!0,at(D,X))},_)}function Ye(_,F){F._state===re?wt(_,F._result):F._state===Pe?at(_,F._result):Ut(F,void 0,function(w){return ft(_,w)},function(w){return at(_,w)})}function He(_,F,w){F.constructor===_.constructor&&w===I&&F.constructor.resolve===W?Ye(_,F):w===void 0?wt(_,F):ye(w)?Ge(_,F,w):wt(_,F)}function ft(_,F){if(_===F)at(_,De());else if(j(F)){var w=void 0;try{w=F.then}catch(D){at(_,D);return}He(_,F,w)}else wt(_,F)}function lt(_){_._onerror&&_._onerror(_._result),bt(_)}function wt(_,F){_._state===ne&&(_._result=F,_._state=re,_._subscribers.length!==0&&z(bt,_))}function at(_,F){_._state===ne&&(_._state=Pe,_._result=F,z(lt,_))}function Ut(_,F,w,D){var $=_._subscribers,X=$.length;_._onerror=null,$[X]=F,$[X+re]=w,$[X+Pe]=D,X===0&&_._state&&z(bt,_)}function bt(_){var F=_._subscribers,w=_._state;if(F.length!==0){for(var D=void 0,$=void 0,X=_._result,Je=0;Je<F.length;Je+=3)D=F[Je],$=F[Je+w],D?Wt(w,D,$,X):$(X);_._subscribers.length=0}}function Wt(_,F,w,D){var $=ye(w),X=void 0,Je=void 0,ct=!0;if($){try{X=w(D)}catch(zt){ct=!1,Je=zt}if(F===X){at(F,yt());return}}else X=D;F._state!==ne||($&&ct?ft(F,X):ct===!1?at(F,Je):_===re?wt(F,X):_===Pe&&at(F,X))}function A(_,F){try{F(function(D){ft(_,D)},function(D){at(_,D)})}catch(w){at(_,w)}}var he=0;function m(){return he++}function H(_){_[ae]=he++,_._state=void 0,_._result=void 0,_._subscribers=[]}function ge(){return new Error("Array Methods must be provided an Array")}var fe=function(){function _(F,w){this._instanceConstructor=F,this.promise=new F(de),this.promise[ae]||H(this.promise),Q(w)?(this.length=w.length,this._remaining=w.length,this._result=new Array(this.length),this.length===0?wt(this.promise,this._result):(this.length=this.length||0,this._enumerate(w),this._remaining===0&&wt(this.promise,this._result))):at(this.promise,ge())}return _.prototype._enumerate=function(w){for(var D=0;this._state===ne&&D<w.length;D++)this._eachEntry(w[D],D)},_.prototype._eachEntry=function(w,D){var $=this._instanceConstructor,X=$.resolve;if(X===W){var Je=void 0,ct=void 0,zt=!1;try{Je=w.then}catch(Ft){zt=!0,ct=Ft}if(Je===I&&w._state!==ne)this._settledAt(w._state,D,w._result);else if(typeof Je!="function")this._remaining--,this._result[D]=w;else if($===T){var fn=new $(de);zt?at(fn,ct):He(fn,w,Je),this._willSettleAt(fn,D)}else this._willSettleAt(new $(function(Ft){return Ft(w)}),D)}else this._willSettleAt(X(w),D)},_.prototype._settledAt=function(w,D,$){var X=this.promise;X._state===ne&&(this._remaining--,w===Pe?at(X,$):this._result[D]=$),this._remaining===0&&wt(X,this._result)},_.prototype._willSettleAt=function(w,D){var $=this;Ut(w,void 0,function(X){return $._settledAt(re,D,X)},function(X){return $._settledAt(Pe,D,X)})},_}();function Ee(_){return new fe(this,_).promise}function Ne(_){var F=this;return Q(_)?new F(function(w,D){for(var $=_.length,X=0;X<$;X++)F.resolve(_[X]).then(w,D)}):new F(function(w,D){return D(new TypeError("You must pass an array to race."))})}function _t(_){var F=this,w=new F(de);return at(w,_),w}function Se(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function kt(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var T=function(){function _(F){this[ae]=m(),this._result=this._state=void 0,this._subscribers=[],de!==F&&(typeof F!="function"&&Se(),this instanceof _?A(this,F):kt())}return _.prototype.catch=function(w){return this.then(null,w)},_.prototype.finally=function(w){var D=this,$=D.constructor;return ye(w)?D.then(function(X){return $.resolve(w()).then(function(){return X})},function(X){return $.resolve(w()).then(function(){throw X})}):D.then(w,w)},_}();T.prototype.then=I,T.all=Ee,T.race=Ne,T.resolve=W,T.reject=_t,T._setScheduler=L,T._setAsap=ee,T._asap=z;function ie(){var _=void 0;if(typeof N.g<"u")_=N.g;else if(typeof self<"u")_=self;else try{_=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var F=_.Promise;if(F){var w=null;try{w=Object.prototype.toString.call(F.resolve())}catch{}if(w==="[object Promise]"&&!F.cast)return}_.Promise=T}return T.polyfill=ie,T.Promise=T,T})},729:l=>{var C=Object.prototype.hasOwnProperty,N="~";function j(){}Object.create&&(j.prototype=Object.create(null),new j().__proto__||(N=!1));function ye(P,E,z){this.fn=P,this.context=E,this.once=z||!1}function le(P,E,z,L,ee){if(typeof z!="function")throw new TypeError("The listener must be a function");var B=new ye(z,L||P,ee),c=N?N+E:E;return P._events[c]?P._events[c].fn?P._events[c]=[P._events[c],B]:P._events[c].push(B):(P._events[c]=B,P._eventsCount++),P}function Q(P,E){--P._eventsCount===0?P._events=new j:delete P._events[E]}function M(){this._events=new j,this._eventsCount=0}M.prototype.eventNames=function(){var E=[],z,L;if(this._eventsCount===0)return E;for(L in z=this._events)C.call(z,L)&&E.push(N?L.slice(1):L);return Object.getOwnPropertySymbols?E.concat(Object.getOwnPropertySymbols(z)):E},M.prototype.listeners=function(E){var z=N?N+E:E,L=this._events[z];if(!L)return[];if(L.fn)return[L.fn];for(var ee=0,B=L.length,c=new Array(B);ee<B;ee++)c[ee]=L[ee].fn;return c},M.prototype.listenerCount=function(E){var z=N?N+E:E,L=this._events[z];return L?L.fn?1:L.length:0},M.prototype.emit=function(E,z,L,ee,B,c){var K=N?N+E:E;if(!this._events[K])return!1;var f=this._events[K],ue=arguments.length,ve,ce;if(f.fn){switch(f.once&&this.removeListener(E,f.fn,void 0,!0),ue){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,z),!0;case 3:return f.fn.call(f.context,z,L),!0;case 4:return f.fn.call(f.context,z,L,ee),!0;case 5:return f.fn.call(f.context,z,L,ee,B),!0;case 6:return f.fn.call(f.context,z,L,ee,B,c),!0}for(ce=1,ve=new Array(ue-1);ce<ue;ce++)ve[ce-1]=arguments[ce];f.fn.apply(f.context,ve)}else{var ze=f.length,Le;for(ce=0;ce<ze;ce++)switch(f[ce].once&&this.removeListener(E,f[ce].fn,void 0,!0),ue){case 1:f[ce].fn.call(f[ce].context);break;case 2:f[ce].fn.call(f[ce].context,z);break;case 3:f[ce].fn.call(f[ce].context,z,L);break;case 4:f[ce].fn.call(f[ce].context,z,L,ee);break;default:if(!ve)for(Le=1,ve=new Array(ue-1);Le<ue;Le++)ve[Le-1]=arguments[Le];f[ce].fn.apply(f[ce].context,ve)}}return!0},M.prototype.on=function(E,z,L){return le(this,E,z,L,!1)},M.prototype.once=function(E,z,L){return le(this,E,z,L,!0)},M.prototype.removeListener=function(E,z,L,ee){var B=N?N+E:E;if(!this._events[B])return this;if(!z)return Q(this,B),this;var c=this._events[B];if(c.fn)c.fn===z&&(!ee||c.once)&&(!L||c.context===L)&&Q(this,B);else{for(var K=0,f=[],ue=c.length;K<ue;K++)(c[K].fn!==z||ee&&!c[K].once||L&&c[K].context!==L)&&f.push(c[K]);f.length?this._events[B]=f.length===1?f[0]:f:Q(this,B)}return this},M.prototype.removeAllListeners=function(E){var z;return E?(z=N?N+E:E,this._events[z]&&Q(this,z)):(this._events=new j,this._eventsCount=0),this},M.prototype.off=M.prototype.removeListener,M.prototype.addListener=M.prototype.on,M.prefixed=N,M.EventEmitter=M,l.exports=M},303:(l,C,N)=>{l.exports=N(683)},402:l=>{(function(C){if(typeof window>"u")return;var N=!0,j=10,ye="",le=0,Q="",M=null,P="",E=!1,z={resize:1,click:1},L=128,ee=!0,B=1,c="bodyOffset",K=c,f=!0,ue="",ve={},ce=32,ze=null,Le=!1,ot="[iFrameSizer]",be=ot.length,q="",Y={max:1,min:1,bodyScroll:1,documentElementScroll:1},x="child",I=!0,W=window.parent,ae="*",de=0,ne=!1,re=null,Pe=16,De=1,yt="scroll",Me=yt,Ge=window,Ye=function(){H("MessageCallback function not defined")},He=function(){},ft=function(){},lt={height:function(){return H("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return H("Custom width calculation function not defined"),document.body.scrollWidth}},wt={};function at(g,S,oe){"addEventListener"in window?g.addEventListener(S,oe,!1):"attachEvent"in window&&g.attachEvent("on"+S,oe)}function Ut(g,S,oe){"removeEventListener"in window?g.removeEventListener(S,oe,!1):"detachEvent"in window&&g.detachEvent("on"+S,oe)}function bt(g){return g.charAt(0).toUpperCase()+g.slice(1)}function Wt(g){var S,oe,xe,Ie=null,je=0,Qe=function(){je=A(),Ie=null,xe=g.apply(S,oe),Ie||(S=oe=null)};return function(){var et=A();je||(je=et);var Re=Pe-(et-je);return S=this,oe=arguments,Re<=0||Re>Pe?(Ie&&(clearTimeout(Ie),Ie=null),je=et,xe=g.apply(S,oe),Ie||(S=oe=null)):Ie||(Ie=setTimeout(Qe,Re)),xe}}var A=Date.now||function(){return new Date().getTime()};function he(g){return ot+"["+q+"] "+g}function m(g){Le&&typeof window.console=="object"&&console.log(he(g))}function H(g){typeof window.console=="object"&&console.warn(he(g))}function ge(){fe(),m("Initialising iFrame ("+location.href+")"),Ee(),Se(),_t("background",ye),_t("padding",P),fn(),F(),w(),kt(),xt(),D(),ve=Ft(),mn("init","Init message from host page"),He()}function fe(){function g(oe){return oe==="true"}var S=ue.substr(be).split(":");q=S[0],le=C!==S[1]?Number(S[1]):le,E=C!==S[2]?g(S[2]):E,Le=C!==S[3]?g(S[3]):Le,ce=C!==S[4]?Number(S[4]):ce,N=C!==S[6]?g(S[6]):N,Q=S[7],K=C!==S[8]?S[8]:K,ye=S[9],P=S[10],de=C!==S[11]?Number(S[11]):de,ve.enable=C!==S[12]?g(S[12]):!1,x=C!==S[13]?S[13]:x,Me=C!==S[14]?S[14]:Me}function Ee(){function g(){var oe=window.iFrameResizer;m("Reading data from page: "+JSON.stringify(oe)),Ye="messageCallback"in oe?oe.messageCallback:Ye,He="readyCallback"in oe?oe.readyCallback:He,ae="targetOrigin"in oe?oe.targetOrigin:ae,K="heightCalculationMethod"in oe?oe.heightCalculationMethod:K,Me="widthCalculationMethod"in oe?oe.widthCalculationMethod:Me}function S(oe,xe){return typeof oe=="function"&&(m("Setup custom "+xe+"CalcMethod"),lt[xe]=oe,oe="custom"),oe}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(g(),K=S(K,"height"),Me=S(Me,"width")),m("TargetOrigin for parent set to: "+ae)}function Ne(g,S){return S.indexOf("-")!==-1&&(H("Negative CSS value ignored for "+g),S=""),S}function _t(g,S){C!==S&&S!==""&&S!=="null"&&(document.body.style[g]=S,m("Body "+g+' set to "'+S+'"'))}function Se(){C===Q&&(Q=le+"px"),_t("margin",Ne("margin",Q))}function kt(){document.documentElement.style.height="",document.body.style.height="",m('HTML & body height set to "auto"')}function T(g){var S={add:function(oe){function xe(){mn(g.eventName,g.eventType)}wt[oe]=xe,at(window,oe,xe)},remove:function(oe){var xe=wt[oe];delete wt[oe],Ut(window,oe,xe)}};g.eventNames&&Array.prototype.map?(g.eventName=g.eventNames[0],g.eventNames.map(S[g.method])):S[g.method](g.eventName),m(bt(g.method)+" event listener: "+g.eventType)}function ie(g){T({method:g,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),T({method:g,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),T({method:g,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),T({method:g,eventType:"Input",eventName:"input"}),T({method:g,eventType:"Mouse Up",eventName:"mouseup"}),T({method:g,eventType:"Mouse Down",eventName:"mousedown"}),T({method:g,eventType:"Orientation Change",eventName:"orientationchange"}),T({method:g,eventType:"Print",eventName:["afterprint","beforeprint"]}),T({method:g,eventType:"Ready State Change",eventName:"readystatechange"}),T({method:g,eventType:"Touch Start",eventName:"touchstart"}),T({method:g,eventType:"Touch End",eventName:"touchend"}),T({method:g,eventType:"Touch Cancel",eventName:"touchcancel"}),T({method:g,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),T({method:g,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),T({method:g,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),x==="child"&&T({method:g,eventType:"IFrame Resized",eventName:"resize"})}function _(g,S,oe,xe){return S!==g&&(g in oe||(H(g+" is not a valid option for "+xe+"CalculationMethod."),g=S),m(xe+' calculation method set to "'+g+'"')),g}function F(){K=_(K,c,Pt,"height")}function w(){Me=_(Me,yt,Vt,"width")}function D(){N===!0?(ie("add"),_e()):m("Auto Resize disabled")}function $(){m("Disable outgoing messages"),I=!1}function X(){m("Remove event listener: Message"),Ut(window,"message",R)}function Je(){M!==null&&M.disconnect()}function ct(){ie("remove"),Je(),clearInterval(ze)}function zt(){$(),X(),N===!0&&ct()}function fn(){var g=document.createElement("div");g.style.clear="both",g.style.display="block",document.body.appendChild(g)}function Ft(){function g(){return{x:window.pageXOffset!==C?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==C?window.pageYOffset:document.documentElement.scrollTop}}function S(Re){var Fe=Re.getBoundingClientRect(),Xe=g();return{x:parseInt(Fe.left,10)+parseInt(Xe.x,10),y:parseInt(Fe.top,10)+parseInt(Xe.y,10)}}function oe(Re){function Fe(Qt){var Dn=S(Qt);m("Moving to in page link (#"+Xe+") at x: "+Dn.x+" y: "+Dn.y),an(Dn.y,Dn.x,"scrollToOffset")}var Xe=Re.split("#")[1]||Re,Ke=decodeURIComponent(Xe),Lt=document.getElementById(Ke)||document.getElementsByName(Ke)[0];C!==Lt?Fe(Lt):(m("In page link (#"+Xe+") not found in iFrame, so sending to parent"),an(0,0,"inPageLink","#"+Xe))}function xe(){location.hash!==""&&location.hash!=="#"&&oe(location.href)}function Ie(){function Re(Fe){function Xe(Ke){Ke.preventDefault(),oe(this.getAttribute("href"))}Fe.getAttribute("href")!=="#"&&at(Fe,"click",Xe)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),Re)}function je(){at(window,"hashchange",xe)}function Qe(){setTimeout(xe,L)}function et(){Array.prototype.forEach&&document.querySelectorAll?(m("Setting up location.hash handlers"),Ie(),je(),Qe()):H("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return ve.enable?et():m("In page linking not enabled"),{findTarget:oe}}function xt(){m("Enable public methods"),Ge.parentIFrame={autoResize:function(S){return S===!0&&N===!1?(N=!0,D()):S===!1&&N===!0&&(N=!1,ct()),N},close:function(){an(0,0,"close"),zt()},getId:function(){return q},getPageInfo:function(S){typeof S=="function"?(ft=S,an(0,0,"pageInfo")):(ft=function(){},an(0,0,"pageInfoStop"))},moveToAnchor:function(S){ve.findTarget(S)},reset:function(){lr("parentIFrame.reset")},scrollTo:function(S,oe){an(oe,S,"scrollTo")},scrollToOffset:function(S,oe){an(oe,S,"scrollToOffset")},sendMessage:function(S,oe){an(0,0,"message",JSON.stringify(S),oe)},setHeightCalculationMethod:function(S){K=S,F()},setWidthCalculationMethod:function(S){Me=S,w()},setTargetOrigin:function(S){m("Set targetOrigin: "+S),ae=S},size:function(S,oe){var xe=""+(S||"")+(oe?","+oe:"");mn("size","parentIFrame.size("+xe+")",S,oe)}}}function ke(){ce!==0&&(m("setInterval: "+ce+"ms"),ze=setInterval(function(){mn("interval","setInterval: "+ce)},Math.abs(ce)))}function pe(){function g(Ke){function Lt(Qt){Qt.complete===!1&&(m("Attach listeners to "+Qt.src),Qt.addEventListener("load",Ie,!1),Qt.addEventListener("error",je,!1),Re.push(Qt))}Ke.type==="attributes"&&Ke.attributeName==="src"?Lt(Ke.target):Ke.type==="childList"&&Array.prototype.forEach.call(Ke.target.querySelectorAll("img"),Lt)}function S(Ke){Re.splice(Re.indexOf(Ke),1)}function oe(Ke){m("Remove listeners from "+Ke.src),Ke.removeEventListener("load",Ie,!1),Ke.removeEventListener("error",je,!1),S(Ke)}function xe(Ke,Lt,Qt){oe(Ke.target),mn(Lt,Qt+": "+Ke.target.src,C,C)}function Ie(Ke){xe(Ke,"imageLoad","Image loaded")}function je(Ke){xe(Ke,"imageLoadFailed","Image load failed")}function Qe(Ke){mn("mutationObserver","mutationObserver: "+Ke[0].target+" "+Ke[0].type),Ke.forEach(g)}function et(){var Ke=document.querySelector("body"),Lt={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return Xe=new Fe(Qe),m("Create body MutationObserver"),Xe.observe(Ke,Lt),Xe}var Re=[],Fe=window.MutationObserver||window.WebKitMutationObserver,Xe=et();return{disconnect:function(){"disconnect"in Xe&&(m("Disconnect body MutationObserver"),Xe.disconnect(),Re.forEach(oe))}}}function _e(){var g=0>ce;window.MutationObserver||window.WebKitMutationObserver?g?ke():M=pe():(m("MutationObserver not supported in this browser!"),ke())}function me(g,S){function oe(Ie){var je=/^\d+(px)?$/i;if(je.test(Ie))return parseInt(Ie,j);var Qe=S.style.left,et=S.runtimeStyle.left;return S.runtimeStyle.left=S.currentStyle.left,S.style.left=Ie||0,Ie=S.style.pixelLeft,S.style.left=Qe,S.runtimeStyle.left=et,Ie}var xe=0;return S=S||document.body,"defaultView"in document&&"getComputedStyle"in document.defaultView?(xe=document.defaultView.getComputedStyle(S,null),xe=xe!==null?xe[g]:0):xe=oe(S.currentStyle[g]),parseInt(xe,j)}function Ce(g){g>Pe/2&&(Pe=2*g,m("Event throttle increased to "+Pe+"ms"))}function Ze(g,S){for(var oe=S.length,xe=0,Ie=0,je=bt(g),Qe=A(),et=0;et<oe;et++)xe=S[et].getBoundingClientRect()[g]+me("margin"+je,S[et]),xe>Ie&&(Ie=xe);return Qe=A()-Qe,m("Parsed "+oe+" HTML elements"),m("Element position calculated in "+Qe+"ms"),Ce(Qe),Ie}function qe(g){return[g.bodyOffset(),g.bodyScroll(),g.documentElementOffset(),g.documentElementScroll()]}function rt(g,S){function oe(){return H("No tagged elements ("+S+") found on page"),document.querySelectorAll("body *")}var xe=document.querySelectorAll("["+S+"]");return xe.length===0&&oe(),Ze(g,xe)}function pt(){return document.querySelectorAll("body *")}var Pt={bodyOffset:function(){return document.body.offsetHeight+me("marginTop")+me("marginBottom")},offset:function(){return Pt.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return lt.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,qe(Pt))},min:function(){return Math.min.apply(null,qe(Pt))},grow:function(){return Pt.max()},lowestElement:function(){return Math.max(Pt.bodyOffset(),Ze("bottom",pt()))},taggedElement:function(){return rt("bottom","data-iframe-height")}},Vt={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return lt.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(Vt.bodyScroll(),Vt.documentElementScroll())},max:function(){return Math.max.apply(null,qe(Vt))},min:function(){return Math.min.apply(null,qe(Vt))},rightMostElement:function(){return Ze("right",pt())},taggedElement:function(){return rt("right","data-iframe-width")}};function Cn(g,S,oe,xe){function Ie(){B=Xe,De=Ke,an(B,De,g)}function je(){function Lt(Qt,Dn){var ei=Math.abs(Qt-Dn)<=de;return!ei}return Xe=C!==oe?oe:Pt[K](),Ke=C!==xe?xe:Vt[Me](),Lt(B,Xe)||E&&Lt(De,Ke)}function Qe(){return!(g in{init:1,interval:1,size:1})}function et(){return K in Y||E&&Me in Y}function Re(){m("No change in size detected")}function Fe(){Qe()&&et()?lr(S):g in{interval:1}||Re()}var Xe,Ke;je()||g==="init"?(ur(),Ie()):Fe()}var Vn=Wt(Cn);function mn(g,S,oe,xe){function Ie(){g in{reset:1,resetPage:1,init:1}||m("Trigger event: "+S)}function je(){return ne&&g in z}je()?m("Trigger event cancelled: "+g):(Ie(),Vn(g,S,oe,xe))}function ur(){ne||(ne=!0,m("Trigger event lock on")),clearTimeout(re),re=setTimeout(function(){ne=!1,m("Trigger event lock off"),m("--")},L)}function Zt(g){B=Pt[K](),De=Vt[Me](),an(B,De,g)}function lr(g){var S=K;K=c,m("Reset trigger event: "+g),ur(),Zt("reset"),K=S}function an(g,S,oe,xe,Ie){function je(){C===Ie?Ie=ae:m("Message targetOrigin: "+Ie)}function Qe(){var et=g+":"+S,Re=q+":"+et+":"+oe+(C!==xe?":"+xe:"");m("Sending message to host page ("+Re+")"),W.postMessage(ot+Re,Ie)}I===!0&&(je(),Qe())}function R(g){var S={init:function(){function Xe(){ue=g.data,W=g.source,ge(),ee=!1,setTimeout(function(){f=!1},L)}document.readyState==="interactive"||document.readyState==="complete"?Xe():(m("Waiting for page ready"),at(window,"readystatechange",S.initFromParent))},reset:function(){f?m("Page reset ignored by init"):(m("Page size reset by host page"),Zt("resetPage"))},resize:function(){mn("resizeParent","Parent window requested size check")},moveToAnchor:function(){ve.findTarget(Ie())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var Xe=Ie();m("PageInfoFromParent called from parent: "+Xe),ft(JSON.parse(Xe)),m(" --")},message:function(){var Xe=Ie();m("MessageCallback called from parent: "+Xe),Ye(JSON.parse(Xe)),m(" --")}};function oe(){return ot===(""+g.data).substr(0,be)}function xe(){return g.data.split("]")[1].split(":")[0]}function Ie(){return g.data.substr(g.data.indexOf(":")+1)}function je(){return!l.exports&&"iFrameResize"in window}function Qe(){return g.data.split(":")[2]in{true:1,false:1}}function et(){var Fe=xe();Fe in S?S[Fe]():!je()&&!Qe()&&H("Unexpected message ("+g.data+")")}function Re(){ee===!1?et():Qe()?S.init():m('Ignored message of type "'+xe()+'". Received before initialization.')}oe()&&Re()}function V(){document.readyState!=="loading"&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}at(window,"message",R),V()})()},28:(l,C)=>{var N,j,ye;(function(le){if(typeof window>"u")return;var Q=0,M=!1,P=!1,E="message",z=E.length,L="[iFrameSizer]",ee=L.length,B=null,c=window.requestAnimationFrame,K={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},f={},ue=null,ve={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){I("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};function ce(m,H,ge){"addEventListener"in window?m.addEventListener(H,ge,!1):"attachEvent"in window&&m.attachEvent("on"+H,ge)}function ze(m,H,ge){"removeEventListener"in window?m.removeEventListener(H,ge,!1):"detachEvent"in window&&m.detachEvent("on"+H,ge)}function Le(){var m=["moz","webkit","o","ms"],H;for(H=0;H<m.length&&!c;H+=1)c=window[m[H]+"RequestAnimationFrame"];c||Y("setup","RequestAnimationFrame not supported")}function ot(m){var H="Host page: "+m;return window.top!==window.self&&(window.parentIFrame&&window.parentIFrame.getId?H=window.parentIFrame.getId()+": "+m:H="Nested host page: "+m),H}function be(m){return L+"["+ot(m)+"]"}function q(m){return f[m]?f[m].log:M}function Y(m,H){W("log",m,H,q(m))}function x(m,H){W("info",m,H,q(m))}function I(m,H){W("warn",m,H,!0)}function W(m,H,ge,fe){fe===!0&&typeof window.console=="object"&&console[m](be(H),ge)}function ae(m){function H(){function me(){Me(pe),Pe(_e),ct("resizedCallback",pe)}fe("Height"),fe("Width"),Ge(me,pe,"init")}function ge(){var me=ke.substr(ee).split(":");return{iframe:f[me[0]]&&f[me[0]].iframe,id:me[0],height:me[1],width:me[2],type:me[3]}}function fe(me){var Ce=Number(f[_e]["max"+me]),Ze=Number(f[_e]["min"+me]),qe=me.toLowerCase(),rt=Number(pe[qe]);Y(_e,"Checking "+qe+" is in range "+Ze+"-"+Ce),rt<Ze&&(rt=Ze,Y(_e,"Set "+qe+" to min value")),rt>Ce&&(rt=Ce,Y(_e,"Set "+qe+" to max value")),pe[qe]=""+rt}function Ee(){function me(){function qe(){var pt=0,Pt=!1;for(Y(_e,"Checking connection is from allowed list of origins: "+Ze);pt<Ze.length;pt++)if(Ze[pt]===Ce){Pt=!0;break}return Pt}function rt(){var pt=f[_e]&&f[_e].remoteHost;return Y(_e,"Checking connection is from: "+pt),Ce===pt}return Ze.constructor===Array?qe():rt()}var Ce=m.origin,Ze=f[_e]&&f[_e].checkOrigin;if(Ze&&""+Ce!="null"&&!me())throw new Error("Unexpected message received from: "+Ce+" for "+pe.iframe.id+". Message was: "+m.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function Ne(){return L===(""+ke).substr(0,ee)&&ke.substr(ee).split(":")[0]in f}function _t(){var me=pe.type in{true:1,false:1,undefined:1};return me&&Y(_e,"Ignoring init message from meta parent page"),me}function Se(me){return ke.substr(ke.indexOf(":")+z+me)}function kt(me){Y(_e,"MessageCallback passed: {iframe: "+pe.iframe.id+", message: "+me+"}"),ct("messageCallback",{iframe:pe.iframe,message:JSON.parse(me)}),Y(_e,"--")}function T(){var me=document.body.getBoundingClientRect(),Ce=pe.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:Ce.height,iframeWidth:Ce.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(Ce.top-me.top,10),offsetLeft:parseInt(Ce.left-me.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})}function ie(me,Ce){function Ze(){Ye("Send Page Info","pageInfo:"+T(),me,Ce)}lt(Ze,32)}function _(){function me(rt,pt){function Pt(){f[qe]?ie(f[qe].iframe,qe):Ce()}["scroll","resize"].forEach(function(Vt){Y(qe,rt+Vt+" listener for sendPageInfo"),pt(window,Vt,Pt)})}function Ce(){me("Remove ",ze)}function Ze(){me("Add ",ce)}var qe=_e;Ze(),f[qe]&&(f[qe].stopPageInfo=Ce)}function F(){f[_e]&&f[_e].stopPageInfo&&(f[_e].stopPageInfo(),delete f[_e].stopPageInfo)}function w(){var me=!0;return pe.iframe===null&&(I(_e,"IFrame ("+pe.id+") not found"),me=!1),me}function D(me){var Ce=me.getBoundingClientRect();return re(_e),{x:Math.floor(Number(Ce.left)+Number(B.x)),y:Math.floor(Number(Ce.top)+Number(B.y))}}function $(me){function Ce(){B=pt,X(),Y(_e,"--")}function Ze(){return{x:Number(pe.width)+rt.x,y:Number(pe.height)+rt.y}}function qe(){window.parentIFrame?window.parentIFrame["scrollTo"+(me?"Offset":"")](pt.x,pt.y):I(_e,"Unable to scroll to requested position, window.parentIFrame not found")}var rt=me?D(pe.iframe):{x:0,y:0},pt=Ze();Y(_e,"Reposition requested from iFrame (offset x:"+rt.x+" y:"+rt.y+")"),window.top!==window.self?qe():Ce()}function X(){ct("scrollCallback",B)!==!1?Pe(_e):De()}function Je(me){function Ce(){var Pt=D(pt);Y(_e,"Moving to in page link (#"+qe+") at x: "+Pt.x+" y: "+Pt.y),B={x:Pt.x,y:Pt.y},X(),Y(_e,"--")}function Ze(){window.parentIFrame?window.parentIFrame.moveToAnchor(qe):Y(_e,"In page link #"+qe+" not found and window.parentIFrame not found")}var qe=me.split("#")[1]||"",rt=decodeURIComponent(qe),pt=document.getElementById(rt)||document.getElementsByName(rt)[0];pt?Ce():window.top!==window.self?Ze():Y(_e,"In page link #"+qe+" not found")}function ct(me,Ce){return de(_e,me,Ce)}function zt(){switch(f[_e]&&f[_e].firstRun&&xt(),pe.type){case"close":f[_e].closeRequestCallback?de(_e,"closeRequestCallback",f[_e].iframe):ne(pe.iframe);break;case"message":kt(Se(6));break;case"scrollTo":$(!1);break;case"scrollToOffset":$(!0);break;case"pageInfo":ie(f[_e]&&f[_e].iframe,_e),_();break;case"pageInfoStop":F();break;case"inPageLink":Je(Se(9));break;case"reset":yt(pe);break;case"init":H(),ct("initCallback",pe.iframe);break;default:H()}}function fn(me){var Ce=!0;return f[me]||(Ce=!1,I(pe.type+" No settings for "+me+". Message was: "+ke)),Ce}function Ft(){for(var me in f)Ye("iFrame requested init",He(me),document.getElementById(me),me)}function xt(){f[_e]&&(f[_e].firstRun=!1)}var ke=m.data,pe={},_e=null;ke==="[iFrameResizerChild]Ready"?Ft():Ne()?(pe=ge(),_e=pe.id,f[_e]&&(f[_e].loaded=!0),!_t()&&fn(_e)&&(Y(_e,"Received: "+ke),w()&&Ee()&&zt())):x(_e,"Ignored: "+ke)}function de(m,H,ge){var fe=null,Ee=null;if(f[m])if(fe=f[m][H],typeof fe=="function")Ee=fe(ge);else throw new TypeError(H+" on iFrame["+m+"] is not a function");return Ee}function ne(m){var H=m.id;Y(H,"Removing iFrame: "+H),m.parentNode&&m.parentNode.removeChild(m),de(H,"closedCallback",H),Y(H,"--"),delete f[H]}function re(m){B===null&&(B={x:window.pageXOffset!==le?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==le?window.pageYOffset:document.documentElement.scrollTop},Y(m,"Get page position: "+B.x+","+B.y))}function Pe(m){B!==null&&(window.scrollTo(B.x,B.y),Y(m,"Set page position: "+B.x+","+B.y),De())}function De(){B=null}function yt(m){function H(){Me(m),Ye("reset","reset",m.iframe,m.id)}Y(m.id,"Size reset requested by "+(m.type==="init"?"host page":"iFrame")),re(m.id),Ge(H,m,"reset")}function Me(m){function H(Ne){m.iframe.style[Ne]=m[Ne]+"px",Y(m.id,"IFrame ("+Ee+") "+Ne+" set to "+m[Ne]+"px")}function ge(Ne){!P&&m[Ne]==="0"&&(P=!0,Y(Ee,"Hidden iFrame detected, creating visibility listener"),wt())}function fe(Ne){H(Ne),ge(Ne)}var Ee=m.iframe.id;f[Ee]&&(f[Ee].sizeHeight&&fe("height"),f[Ee].sizeWidth&&fe("width"))}function Ge(m,H,ge){ge!==H.type&&c?(Y(H.id,"Requesting animation frame"),c(m)):m()}function Ye(m,H,ge,fe,Ee){function Ne(){var ie=f[fe]&&f[fe].targetOrigin;Y(fe,"["+m+"] Sending msg to iframe["+fe+"] ("+H+") targetOrigin: "+ie),ge.contentWindow.postMessage(L+H,ie)}function _t(){I(fe,"["+m+"] IFrame("+fe+") not found")}function Se(){ge&&"contentWindow"in ge&&ge.contentWindow!==null?Ne():_t()}function kt(){function ie(){f[fe]&&!f[fe].loaded&&!T&&(T=!0,I(fe,"IFrame has not responded within "+f[fe].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ingored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}Ee&&f[fe]&&f[fe].warningTimeout&&(f[fe].msgTimeout=setTimeout(ie,f[fe].warningTimeout))}var T=!1;fe=fe||ge.id,f[fe]&&(Se(),kt())}function He(m){return m+":"+f[m].bodyMarginV1+":"+f[m].sizeWidth+":"+f[m].log+":"+f[m].interval+":"+f[m].enablePublicMethods+":"+f[m].autoResize+":"+f[m].bodyMargin+":"+f[m].heightCalculationMethod+":"+f[m].bodyBackground+":"+f[m].bodyPadding+":"+f[m].tolerance+":"+f[m].inPageLinks+":"+f[m].resizeFrom+":"+f[m].widthCalculationMethod}function ft(m,H){function ge(){function X(ct){f[$][ct]!==1/0&&f[$][ct]!==0&&(m.style[ct]=f[$][ct]+"px",Y($,"Set "+ct+" = "+f[$][ct]+"px"))}function Je(ct){if(f[$]["min"+ct]>f[$]["max"+ct])throw new Error("Value for min"+ct+" can not be greater than max"+ct)}Je("Height"),Je("Width"),X("maxHeight"),X("minHeight"),X("maxWidth"),X("minWidth")}function fe(){var X=H&&H.id||ve.id+Q++;return document.getElementById(X)!==null&&(X=X+Q++),X}function Ee(X){return X===""&&(m.id=X=fe(),M=(H||{}).log,Y(X,"Added missing iframe ID: "+X+" ("+m.src+")")),X}function Ne(){switch(Y($,"IFrame scrolling "+(f[$]&&f[$].scrolling?"enabled":"disabled")+" for "+$),m.style.overflow=(f[$]&&f[$].scrolling)===!1?"hidden":"auto",f[$]&&f[$].scrolling){case!0:m.scrolling="yes";break;case!1:m.scrolling="no";break;default:m.scrolling=f[$]?f[$].scrolling:"no"}}function _t(){(typeof(f[$]&&f[$].bodyMargin)=="number"||(f[$]&&f[$].bodyMargin)==="0")&&(f[$].bodyMarginV1=f[$].bodyMargin,f[$].bodyMargin=""+f[$].bodyMargin+"px")}function Se(){var X=f[$]&&f[$].firstRun,Je=f[$]&&f[$].heightCalculationMethod in K;!X&&Je&&yt({iframe:m,height:0,width:0,type:"init"})}function kt(){Function.prototype.bind&&f[$]&&(f[$].iframe.iFrameResizer={close:ne.bind(null,f[$].iframe),resize:Ye.bind(null,"Window resize","resize",f[$].iframe),moveToAnchor:function(X){Ye("Move to anchor","moveToAnchor:"+X,f[$].iframe,$)},sendMessage:function(X){X=JSON.stringify(X),Ye("Send Message","message:"+X,f[$].iframe,$)}})}function T(X){function Je(){Ye("iFrame.onload",X,m,le,!0),Se()}ce(m,"load",Je),Ye("init",X,m,le,!0)}function ie(X){if(typeof X!="object")throw new TypeError("Options is not an object")}function _(X){for(var Je in ve)ve.hasOwnProperty(Je)&&(f[$][Je]=X.hasOwnProperty(Je)?X[Je]:ve[Je])}function F(X){return X===""||X==="file://"?"*":X}function w(X){X=X||{},f[$]={firstRun:!0,iframe:m,remoteHost:m.src.split("/").slice(0,3).join("/")},ie(X),_(X),f[$]&&(f[$].targetOrigin=f[$].checkOrigin===!0?F(f[$].remoteHost):"*")}function D(){return $ in f&&"iFrameResizer"in m}var $=Ee(m.id);D()?I($,"Ignored iFrame, already setup."):(w(H),Ne(),ge(),_t(),T(He($)),kt())}function lt(m,H){ue===null&&(ue=setTimeout(function(){ue=null,m()},H))}function wt(){function m(){function Ee(_t){function Se(T){return(f[_t]&&f[_t].iframe.style[T])==="0px"}function kt(T){return T.offsetParent!==null}f[_t]&&kt(f[_t].iframe)&&(Se("height")||Se("width"))&&Ye("Visibility change","resize",f[_t].iframe,_t)}for(var Ne in f)Ee(Ne)}function H(Ee){Y("window","Mutation observed: "+Ee[0].target+" "+Ee[0].type),lt(m,16)}function ge(){var Ee=document.querySelector("body"),Ne={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},_t=new fe(H);_t.observe(Ee,Ne)}var fe=window.MutationObserver||window.WebKitMutationObserver;fe&&ge()}function at(m){function H(){bt("Window "+m,"resize")}Y("window","Trigger event: "+m),lt(H,16)}function Ut(){function m(){bt("Tab Visable","resize")}document.visibilityState!=="hidden"&&(Y("document","Trigger event: Visiblity change"),lt(m,16))}function bt(m,H){function ge(Ee){return f[Ee]&&f[Ee].resizeFrom==="parent"&&f[Ee].autoResize&&!f[Ee].firstRun}for(var fe in f)ge(fe)&&Ye(m,H,document.getElementById(fe),fe)}function Wt(){ce(window,"message",ae),ce(window,"resize",function(){at("resize")}),ce(document,"visibilitychange",Ut),ce(document,"-webkit-visibilitychange",Ut),ce(window,"focusin",function(){at("focus")}),ce(window,"focus",function(){at("focus")})}function A(){function m(fe,Ee){function Ne(){if(Ee.tagName){if(Ee.tagName.toUpperCase()!=="IFRAME")throw new TypeError("Expected <IFRAME> tag, found <"+Ee.tagName+">")}else throw new TypeError("Object is not a valid DOM element")}Ee&&(Ne(),ft(Ee,fe),ge.push(Ee))}function H(fe){fe&&fe.enablePublicMethods&&I("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var ge;return Le(),Wt(),function(Ee,Ne){switch(ge=[],H(Ee),typeof Ne){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(Ne||"iframe"),m.bind(le,Ee));break;case"object":m(Ee,Ne);break;default:throw new TypeError("Unexpected data type ("+typeof Ne+")")}return ge}}function he(m){m.fn?m.fn.iFrameResize||(m.fn.iFrameResize=function(ge){function fe(Ee,Ne){ft(Ne,ge)}return this.filter("iframe").each(fe).end()}):x("","Unable to bind to jQuery, it is not fully loaded.")}window.jQuery&&he(window.jQuery),j=[],N=A,ye=typeof N=="function"?N.apply(C,j):N,ye!==le&&(l.exports=ye)})()},683:(l,C,N)=>{C.iframeResizer=N(28),C.iframeResizerContentWindow=N(402)},457:l=>{var C=function(){var N=Math.floor(Math.random()*1000001),j={};function ye(E,z,L,ee){function B(f){for(var ue=0;ue<f.length;ue++)if(f[ue].win===E)return!0;return!1}var c=!1;if(z==="*"){for(var K in j)if(j.hasOwnProperty(K)&&K!=="*"&&typeof j[K][L]=="object"&&(c=B(j[K][L]),c))break}else j["*"]&&j["*"][L]&&(c=B(j["*"][L])),!c&&j[z]&&j[z][L]&&(c=B(j[z][L]));if(c)throw"A channel is already bound to the same window which overlaps with origin '"+z+"' and has scope '"+L+"'";typeof j[z]!="object"&&(j[z]={}),typeof j[z][L]!="object"&&(j[z][L]=[]),j[z][L].push({win:E,handler:ee})}function le(E,z,L){for(var ee=j[z][L],B=0;B<ee.length;B++)ee[B].win===E&&ee.splice(B,1);j[z][L].length===0&&delete j[z][L]}function Q(E){return Array.isArray?Array.isArray(E):E.constructor.toString().indexOf("Array")!=-1}var M={},P=function(E){try{var z=JSON.parse(E.data);if(typeof z!="object"||z===null)throw"malformed"}catch{return}var L=E.source,ee=E.origin,B,c,K;if(typeof z.method=="string"){var f=z.method.split("::");f.length==2?(B=f[0],K=f[1]):K=z.method}if(typeof z.id<"u"&&(c=z.id),typeof K=="string"){var ue=!1;if(j[ee]&&j[ee][B]){for(var ve=0;ve<j[ee][B].length;ve++)if(j[ee][B][ve].win===L){j[ee][B][ve].handler(ee,K,z),ue=!0;break}}if(!ue&&j["*"]&&j["*"][B]){for(var ve=0;ve<j["*"][B].length;ve++)if(j["*"][B][ve].win===L){j["*"][B][ve].handler(ee,K,z);break}}}else typeof c<"u"&&M[c]&&M[c](ee,K,z)};return window.addEventListener?window.addEventListener("message",P,!1):window.attachEvent&&window.attachEvent("onmessage",P),{build:function(E){var z=function(x){if(E.debugOutput&&window.console&&window.console.log){try{typeof x!="string"&&(x=JSON.stringify(x))}catch{}console.log("["+B+"] "+x)}};if(!window.postMessage)throw"jschannel cannot run this browser, no postMessage";if(!window.JSON||!window.JSON.stringify||!window.JSON.parse)throw"jschannel cannot run this browser, no JSON parsing/serialization";if(typeof E!="object")throw"Channel build invoked without a proper object argument";if(!E.window||!E.window.postMessage)throw"Channel.build() called without a valid window argument";if(window===E.window)throw"target window is same as present window -- not allowed";var L=!1;if(typeof E.origin=="string"){var ee;E.origin==="*"?L=!0:(ee=E.origin.match(/^https?:\/\/(?:[-a-zA-Z0-9_\.])+(?::\d+)?/))!==null&&(E.origin=ee[0].toLowerCase(),L=!0)}if(!L)throw"Channel.build() called with an invalid origin";if(typeof E.scope<"u"){if(typeof E.scope!="string")throw"scope, when specified, must be a string";if(E.scope.split("::").length>1)throw"scope may not contain double colons: '::'"}var B=function(){for(var x="",I="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",W=0;W<5;W++)x+=I.charAt(Math.floor(Math.random()*I.length));return x}(),c={},K={},f={},ue=!1,ve=[],ce=function(x,I,W){var ae=!1,de=!1;return{origin:I,invoke:function(ne,re){if(!f[x])throw"attempting to invoke a callback of a nonexistent transaction: "+x;for(var Pe=!1,De=0;De<W.length;De++)if(ne===W[De]){Pe=!0;break}if(!Pe)throw"request supports no such callback '"+ne+"'";be({id:x,callback:ne,params:re})},error:function(ne,re){if(de=!0,!f[x])throw"error called for nonexistent message: "+x;delete f[x],be({id:x,error:ne,message:re})},complete:function(ne){if(de=!0,!f[x])throw"complete called for nonexistent message: "+x;delete f[x],be({id:x,result:ne})},delayReturn:function(ne){return typeof ne=="boolean"&&(ae=ne===!0),ae},completed:function(){return de}}},ze=function(x,I,W){return window.setTimeout(function(){if(K[x]){var ae="timeout ("+I+"ms) exceeded on method '"+W+"'";(0,K[x].error)("timeout_error",ae),delete K[x],delete M[x]}},I)},Le=function(x,I,W){if(typeof E.gotMessageObserver=="function")try{E.gotMessageObserver(x,W)}catch(He){z("gotMessageObserver() raised an exception: "+He.toString())}if(W.id&&I){if(c[I]){var ae=ce(W.id,x,W.callbacks?W.callbacks:[]);f[W.id]={};try{if(W.callbacks&&Q(W.callbacks)&&W.callbacks.length>0)for(var de=0;de<W.callbacks.length;de++){for(var ne=W.callbacks[de],re=W.params,Pe=ne.split("/"),De=0;De<Pe.length-1;De++){var yt=Pe[De];typeof re[yt]!="object"&&(re[yt]={}),re=re[yt]}re[Pe[Pe.length-1]]=function(){var He=ne;return function(ft){return ae.invoke(He,ft)}}()}var Me=c[I](ae,W.params);!ae.delayReturn()&&!ae.completed()&&ae.complete(Me)}catch(He){var Ge="runtime_error",Ye=null;if(typeof He=="string"?Ye=He:typeof He=="object"&&(He&&Q(He)&&He.length==2?(Ge=He[0],Ye=He[1]):typeof He.error=="string"&&(Ge=He.error,He.message?typeof He.message=="string"?Ye=He.message:He=He.message:Ye="")),Ye===null)try{Ye=JSON.stringify(He),typeof Ye>"u"&&(Ye=He.toString())}catch{Ye=He.toString()}ae.error(Ge,Ye)}}}else W.id&&W.callback?!K[W.id]||!K[W.id].callbacks||!K[W.id].callbacks[W.callback]?z("ignoring invalid callback, id:"+W.id+" ("+W.callback+")"):K[W.id].callbacks[W.callback](W.params):W.id?K[W.id]?(W.error?(0,K[W.id].error)(W.error,W.message):W.result!==void 0?(0,K[W.id].success)(W.result):(0,K[W.id].success)(),delete K[W.id],delete M[W.id]):z("ignoring invalid response: "+W.id):I&&c[I]&&c[I]({origin:x},W.params)};ye(E.window,E.origin,typeof E.scope=="string"?E.scope:"",Le);var ot=function(x){return typeof E.scope=="string"&&E.scope.length&&(x=[E.scope,x].join("::")),x},be=function(x,I){if(!x)throw"postMessage called with null message";var W=ue?"post  ":"queue ";if(z(W+" message: "+JSON.stringify(x)),!I&&!ue)ve.push(x);else{if(typeof E.postMessageObserver=="function")try{E.postMessageObserver(E.origin,x)}catch(ae){z("postMessageObserver() raised an exception: "+ae.toString())}E.window.postMessage(JSON.stringify(x),E.origin)}},q=function(x,I){if(z("ready msg received"),ue)throw"received ready message while in ready state.  help!";for(I==="ping"?B+="-R":B+="-L",Y.unbind("__ready"),ue=!0,z("ready msg accepted."),I==="ping"&&Y.notify({method:"__ready",params:"pong"});ve.length;)be(ve.pop());typeof E.onReady=="function"&&E.onReady(Y)},Y={unbind:function(x){if(c[x]){if(!delete c[x])throw"can't delete method: "+x;return!0}return!1},bind:function(x,I){if(!x||typeof x!="string")throw"'method' argument to bind must be string";if(!I||typeof I!="function")throw"callback missing from bind params";if(c[x])throw"method '"+x+"' is already bound!";return c[x]=I,this},call:function(x){if(!x)throw"missing arguments to call function";if(!x.method||typeof x.method!="string")throw"'method' argument to call must be string";if(!x.success||typeof x.success!="function")throw"'success' callback missing from call";var I={},W=[],ae=[],de=function(re,Pe){if(ae.indexOf(Pe)>=0)throw"params cannot be a recursive data structure";if(ae.push(Pe),typeof Pe=="object"){for(var De in Pe)if(Pe.hasOwnProperty(De)){var yt=re+(re.length?"/":"")+De;typeof Pe[De]=="function"?(I[yt]=Pe[De],W.push(yt),delete Pe[De]):typeof Pe[De]=="object"&&Pe[De]!==null&&de(yt,Pe[De])}}};de("",x.params);var ne={id:N,method:ot(x.method),params:x.params};W.length&&(ne.callbacks=W),x.timeout&&ze(N,x.timeout,ot(x.method)),K[N]={callbacks:I,error:x.error,success:x.success},M[N]=Le,N++,be(ne)},notify:function(x){if(!x)throw"missing arguments to notify function";if(!x.method||typeof x.method!="string")throw"'method' argument to notify must be string";be({method:ot(x.method),params:x.params})},destroy:function(){le(E.window,E.origin,typeof E.scope=="string"?E.scope:""),window.removeEventListener?window.removeEventListener("message",Le,!1):window.detachEvent&&window.detachEvent("onmessage",Le),ue=!1,c={},f={},K={},E.origin=null,ve=[],z("channel destroyed"),B=""}};return Y.bind("__ready",q),setTimeout(function(){be({method:ot("__ready"),params:"ping"},!0)},0),Y}}}();l.exports=C},705:(l,C,N)=>{var j=N(639),ye=j.Symbol;l.exports=ye},239:(l,C,N)=>{var j=N(705),ye=N(607),le=N(333),Q="[object Null]",M="[object Undefined]",P=j?j.toStringTag:void 0;function E(z){return z==null?z===void 0?M:Q:P&&P in Object(z)?ye(z):le(z)}l.exports=E},957:(l,C,N)=>{var j=typeof N.g=="object"&&N.g&&N.g.Object===Object&&N.g;l.exports=j},924:(l,C,N)=>{var j=N(569),ye=j(Object.getPrototypeOf,Object);l.exports=ye},607:(l,C,N)=>{var j=N(705),ye=Object.prototype,le=ye.hasOwnProperty,Q=ye.toString,M=j?j.toStringTag:void 0;function P(E){var z=le.call(E,M),L=E[M];try{E[M]=void 0;var ee=!0}catch{}var B=Q.call(E);return ee&&(z?E[M]=L:delete E[M]),B}l.exports=P},333:l=>{var C=Object.prototype,N=C.toString;function j(ye){return N.call(ye)}l.exports=j},569:l=>{function C(N,j){return function(ye){return N(j(ye))}}l.exports=C},639:(l,C,N)=>{var j=N(957),ye=typeof self=="object"&&self&&self.Object===Object&&self,le=j||ye||Function("return this")();l.exports=le},469:l=>{var C=Array.isArray;l.exports=C},5:l=>{function C(N){return N!=null&&typeof N=="object"}l.exports=C},630:(l,C,N)=>{var j=N(239),ye=N(924),le=N(5),Q="[object Object]",M=Function.prototype,P=Object.prototype,E=M.toString,z=P.hasOwnProperty,L=E.call(Object);function ee(B){if(!le(B)||j(B)!=Q)return!1;var c=ye(B);if(c===null)return!0;var K=z.call(c,"constructor")&&c.constructor;return typeof K=="function"&&K instanceof K&&E.call(K)==L}l.exports=ee},37:(l,C,N)=>{var j=N(239),ye=N(469),le=N(5),Q="[object String]";function M(P){return typeof P=="string"||!ye(P)&&le(P)&&j(P)==Q}l.exports=M},353:l=>{function C(N){return N===void 0}l.exports=C}},i={};function v(l){var C=i[l];if(C!==void 0)return C.exports;var N=i[l]={exports:{}};return s[l].call(N.exports,N,N.exports,v),N.exports}v.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var h=v(541);y.Addon=h})()})(zu);(()=>{var y={669:(v,h,l)=>{var C=l(218),N=z(C),j=function(){function K(f,ue){for(var ve=0;ve<ue.length;ve++){var ce=ue[ve];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(f,ce.key,ce)}}return function(f,ue,ve){return ue&&K(f.prototype,ue),ve&&K(f,ve),f}}(),ye=l(457),le=z(ye),Q=l(729),M=z(Q),P=l(702),E=l(303);function z(K){return K&&K.__esModule?K:{default:K}}function L(K,f){if(!(K instanceof f))throw new TypeError("Cannot call a class as a function")}function ee(K,f){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:K}function B(K,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);K.prototype=Object.create(f&&f.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(K,f):K.__proto__=f)}var c=function(K){B(f,K);function f(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};L(this,f);var ve=ee(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));if(ve.options=ue,!ue.iframe)throw new Error("Iframe not defined");return(0,E.iframeResizer)({checkOrigin:!0,heightCalculationMethod:window.ieVersion<=10?"max":"lowestElement",resizeFrom:"child",resizedCallback:function(ze){ve.emit("iframeResized",ze)}},ue.iframe),ve.channel=le.default.build({window:ue.iframe.contentWindow,origin:ue.origin||"*",scope:ue.id||ue.iframe.contentWindow.location.origin,postMessageObserver:function(ze,Le){ve.emit("postMessage",ze,Le)},gotMessageObserver:function(ze,Le){ve.emit("gotMessage",ze,Le)}}),["saveData","request","addTransaction","editTransaction","addInstitution","addInvestment","editInstitution","editAsset","editLiability","deleteInstitution","deleteAsset","deleteLiability","downloadDocument","upgradePremium","getSharings","switchUser"].forEach(function(ce){ve.channel.bind(ce,function(ze,Le){var ot=ce,be=Le;ze.delayReturn(!0);var q=function(x,I){return x?ze.error(x):ze.complete(I)};ve.emit(ot,be||q,be?q:void 0)})}),ve.channel.call({method:"init",params:ue.options,success:function(ze){ve.emit("init",ze)}}),ve}return j(f,[{key:"trigger",value:function(ve,ce){var ze=this,Le={eventName:ve};return ce&&(Le.eventData=ce),new P.Promise(function(ot,be){ze.channel.call({method:"_event",params:Le,success:ot,error:be})})}},{key:"update",value:function(ve){var ce=this;return new P.Promise(function(ze,Le){if(!(0,N.default)(ve))throw new Error("Data must be an object");ce.channel.call({method:"update",params:ve,success:ze,error:Le})})}},{key:"reload",value:function(){var ve=this;return new P.Promise(function(ce,ze){ve.channel.call({method:"reload",success:ce,error:ze})})}},{key:"destroy",value:function(){this.channel.destroy()}}]),f}(M.default);v.exports=c},702:function(v,h,l){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(C,N){v.exports=N()})(this,function(){function C(T){var ie=typeof T;return T!==null&&(ie==="object"||ie==="function")}function N(T){return typeof T=="function"}var j=void 0;Array.isArray?j=Array.isArray:j=function(T){return Object.prototype.toString.call(T)==="[object Array]"};var ye=j,le=0,Q=void 0,M=void 0,P=function(ie,_){Le[le]=ie,Le[le+1]=_,le+=2,le===2&&(M?M(ot):q())};function E(T){M=T}function z(T){P=T}var L=typeof window<"u"?window:void 0,ee=L||{},B=ee.MutationObserver||ee.WebKitMutationObserver,c=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",K=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function f(){return function(){return process.nextTick(ot)}}function ue(){return typeof Q<"u"?function(){Q(ot)}:ze()}function ve(){var T=0,ie=new B(ot),_=document.createTextNode("");return ie.observe(_,{characterData:!0}),function(){_.data=T=++T%2}}function ce(){var T=new MessageChannel;return T.port1.onmessage=ot,function(){return T.port2.postMessage(0)}}function ze(){var T=setTimeout;return function(){return T(ot,1)}}var Le=new Array(1e3);function ot(){for(var T=0;T<le;T+=2){var ie=Le[T],_=Le[T+1];ie(_),Le[T]=void 0,Le[T+1]=void 0}le=0}function be(){try{var T=Function("return this")().require("vertx");return Q=T.runOnLoop||T.runOnContext,ue()}catch{return ze()}}var q=void 0;c?q=f():B?q=ve():K?q=ce():L===void 0?q=be():q=ze();function Y(T,ie){var _=this,F=new this.constructor(W);F[I]===void 0&&he(F);var w=_._state;if(w){var D=arguments[w-1];P(function(){return Ut(w,F,D,_._result)})}else wt(_,F,T,ie);return F}function x(T){var ie=this;if(T&&typeof T=="object"&&T.constructor===ie)return T;var _=new ie(W);return Ye(_,T),_}var I=Math.random().toString(36).substring(2);function W(){}var ae=void 0,de=1,ne=2;function re(){return new TypeError("You cannot resolve a promise with itself")}function Pe(){return new TypeError("A promises callback cannot return that same promise.")}function De(T,ie,_,F){try{T.call(ie,_,F)}catch(w){return w}}function yt(T,ie,_){P(function(F){var w=!1,D=De(_,ie,function($){w||(w=!0,ie!==$?Ye(F,$):ft(F,$))},function($){w||(w=!0,lt(F,$))},"Settle: "+(F._label||" unknown promise"));!w&&D&&(w=!0,lt(F,D))},T)}function Me(T,ie){ie._state===de?ft(T,ie._result):ie._state===ne?lt(T,ie._result):wt(ie,void 0,function(_){return Ye(T,_)},function(_){return lt(T,_)})}function Ge(T,ie,_){ie.constructor===T.constructor&&_===Y&&ie.constructor.resolve===x?Me(T,ie):_===void 0?ft(T,ie):N(_)?yt(T,ie,_):ft(T,ie)}function Ye(T,ie){if(T===ie)lt(T,re());else if(C(ie)){var _=void 0;try{_=ie.then}catch(F){lt(T,F);return}Ge(T,ie,_)}else ft(T,ie)}function He(T){T._onerror&&T._onerror(T._result),at(T)}function ft(T,ie){T._state===ae&&(T._result=ie,T._state=de,T._subscribers.length!==0&&P(at,T))}function lt(T,ie){T._state===ae&&(T._state=ne,T._result=ie,P(He,T))}function wt(T,ie,_,F){var w=T._subscribers,D=w.length;T._onerror=null,w[D]=ie,w[D+de]=_,w[D+ne]=F,D===0&&T._state&&P(at,T)}function at(T){var ie=T._subscribers,_=T._state;if(ie.length!==0){for(var F=void 0,w=void 0,D=T._result,$=0;$<ie.length;$+=3)F=ie[$],w=ie[$+_],F?Ut(_,F,w,D):w(D);T._subscribers.length=0}}function Ut(T,ie,_,F){var w=N(_),D=void 0,$=void 0,X=!0;if(w){try{D=_(F)}catch(Je){X=!1,$=Je}if(ie===D){lt(ie,Pe());return}}else D=F;ie._state!==ae||(w&&X?Ye(ie,D):X===!1?lt(ie,$):T===de?ft(ie,D):T===ne&&lt(ie,D))}function bt(T,ie){try{ie(function(F){Ye(T,F)},function(F){lt(T,F)})}catch(_){lt(T,_)}}var Wt=0;function A(){return Wt++}function he(T){T[I]=Wt++,T._state=void 0,T._result=void 0,T._subscribers=[]}function m(){return new Error("Array Methods must be provided an Array")}var H=function(){function T(ie,_){this._instanceConstructor=ie,this.promise=new ie(W),this.promise[I]||he(this.promise),ye(_)?(this.length=_.length,this._remaining=_.length,this._result=new Array(this.length),this.length===0?ft(this.promise,this._result):(this.length=this.length||0,this._enumerate(_),this._remaining===0&&ft(this.promise,this._result))):lt(this.promise,m())}return T.prototype._enumerate=function(_){for(var F=0;this._state===ae&&F<_.length;F++)this._eachEntry(_[F],F)},T.prototype._eachEntry=function(_,F){var w=this._instanceConstructor,D=w.resolve;if(D===x){var $=void 0,X=void 0,Je=!1;try{$=_.then}catch(zt){Je=!0,X=zt}if($===Y&&_._state!==ae)this._settledAt(_._state,F,_._result);else if(typeof $!="function")this._remaining--,this._result[F]=_;else if(w===Se){var ct=new w(W);Je?lt(ct,X):Ge(ct,_,$),this._willSettleAt(ct,F)}else this._willSettleAt(new w(function(zt){return zt(_)}),F)}else this._willSettleAt(D(_),F)},T.prototype._settledAt=function(_,F,w){var D=this.promise;D._state===ae&&(this._remaining--,_===ne?lt(D,w):this._result[F]=w),this._remaining===0&&ft(D,this._result)},T.prototype._willSettleAt=function(_,F){var w=this;wt(_,void 0,function(D){return w._settledAt(de,F,D)},function(D){return w._settledAt(ne,F,D)})},T}();function ge(T){return new H(this,T).promise}function fe(T){var ie=this;return ye(T)?new ie(function(_,F){for(var w=T.length,D=0;D<w;D++)ie.resolve(T[D]).then(_,F)}):new ie(function(_,F){return F(new TypeError("You must pass an array to race."))})}function Ee(T){var ie=this,_=new ie(W);return lt(_,T),_}function Ne(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function _t(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Se=function(){function T(ie){this[I]=A(),this._result=this._state=void 0,this._subscribers=[],W!==ie&&(typeof ie!="function"&&Ne(),this instanceof T?bt(this,ie):_t())}return T.prototype.catch=function(_){return this.then(null,_)},T.prototype.finally=function(_){var F=this,w=F.constructor;return N(_)?F.then(function(D){return w.resolve(_()).then(function(){return D})},function(D){return w.resolve(_()).then(function(){throw D})}):F.then(_,_)},T}();Se.prototype.then=Y,Se.all=ge,Se.race=fe,Se.resolve=x,Se.reject=Ee,Se._setScheduler=E,Se._setAsap=z,Se._asap=P;function kt(){var T=void 0;if(typeof l.g<"u")T=l.g;else if(typeof self<"u")T=self;else try{T=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var ie=T.Promise;if(ie){var _=null;try{_=Object.prototype.toString.call(ie.resolve())}catch{}if(_==="[object Promise]"&&!ie.cast)return}T.Promise=Se}return Se.polyfill=kt,Se.Promise=Se,Se})},729:v=>{var h=Object.prototype.hasOwnProperty,l="~";function C(){}Object.create&&(C.prototype=Object.create(null),new C().__proto__||(l=!1));function N(Q,M,P){this.fn=Q,this.context=M,this.once=P||!1}function j(Q,M,P,E,z){if(typeof P!="function")throw new TypeError("The listener must be a function");var L=new N(P,E||Q,z),ee=l?l+M:M;return Q._events[ee]?Q._events[ee].fn?Q._events[ee]=[Q._events[ee],L]:Q._events[ee].push(L):(Q._events[ee]=L,Q._eventsCount++),Q}function ye(Q,M){--Q._eventsCount===0?Q._events=new C:delete Q._events[M]}function le(){this._events=new C,this._eventsCount=0}le.prototype.eventNames=function(){var M=[],P,E;if(this._eventsCount===0)return M;for(E in P=this._events)h.call(P,E)&&M.push(l?E.slice(1):E);return Object.getOwnPropertySymbols?M.concat(Object.getOwnPropertySymbols(P)):M},le.prototype.listeners=function(M){var P=l?l+M:M,E=this._events[P];if(!E)return[];if(E.fn)return[E.fn];for(var z=0,L=E.length,ee=new Array(L);z<L;z++)ee[z]=E[z].fn;return ee},le.prototype.listenerCount=function(M){var P=l?l+M:M,E=this._events[P];return E?E.fn?1:E.length:0},le.prototype.emit=function(M,P,E,z,L,ee){var B=l?l+M:M;if(!this._events[B])return!1;var c=this._events[B],K=arguments.length,f,ue;if(c.fn){switch(c.once&&this.removeListener(M,c.fn,void 0,!0),K){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,P),!0;case 3:return c.fn.call(c.context,P,E),!0;case 4:return c.fn.call(c.context,P,E,z),!0;case 5:return c.fn.call(c.context,P,E,z,L),!0;case 6:return c.fn.call(c.context,P,E,z,L,ee),!0}for(ue=1,f=new Array(K-1);ue<K;ue++)f[ue-1]=arguments[ue];c.fn.apply(c.context,f)}else{var ve=c.length,ce;for(ue=0;ue<ve;ue++)switch(c[ue].once&&this.removeListener(M,c[ue].fn,void 0,!0),K){case 1:c[ue].fn.call(c[ue].context);break;case 2:c[ue].fn.call(c[ue].context,P);break;case 3:c[ue].fn.call(c[ue].context,P,E);break;case 4:c[ue].fn.call(c[ue].context,P,E,z);break;default:if(!f)for(ce=1,f=new Array(K-1);ce<K;ce++)f[ce-1]=arguments[ce];c[ue].fn.apply(c[ue].context,f)}}return!0},le.prototype.on=function(M,P,E){return j(this,M,P,E,!1)},le.prototype.once=function(M,P,E){return j(this,M,P,E,!0)},le.prototype.removeListener=function(M,P,E,z){var L=l?l+M:M;if(!this._events[L])return this;if(!P)return ye(this,L),this;var ee=this._events[L];if(ee.fn)ee.fn===P&&(!z||ee.once)&&(!E||ee.context===E)&&ye(this,L);else{for(var B=0,c=[],K=ee.length;B<K;B++)(ee[B].fn!==P||z&&!ee[B].once||E&&ee[B].context!==E)&&c.push(ee[B]);c.length?this._events[L]=c.length===1?c[0]:c:ye(this,L)}return this},le.prototype.removeAllListeners=function(M){var P;return M?(P=l?l+M:M,this._events[P]&&ye(this,P)):(this._events=new C,this._eventsCount=0),this},le.prototype.off=le.prototype.removeListener,le.prototype.addListener=le.prototype.on,le.prefixed=l,le.EventEmitter=le,v.exports=le},303:(v,h,l)=>{v.exports=l(683)},402:v=>{(function(h){if(typeof window>"u")return;var l=!0,C=10,N="",j=0,ye="",le=null,Q="",M=!1,P={resize:1,click:1},E=128,z=!0,L=1,ee="bodyOffset",B=ee,c=!0,K="",f={},ue=32,ve=null,ce=!1,ze="[iFrameSizer]",Le=ze.length,ot="",be={max:1,min:1,bodyScroll:1,documentElementScroll:1},q="child",Y=!0,x=window.parent,I="*",W=0,ae=!1,de=null,ne=16,re=1,Pe="scroll",De=Pe,yt=window,Me=function(){he("MessageCallback function not defined")},Ge=function(){},Ye=function(){},He={height:function(){return he("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return he("Custom width calculation function not defined"),document.body.scrollWidth}},ft={};function lt(R,V,g){"addEventListener"in window?R.addEventListener(V,g,!1):"attachEvent"in window&&R.attachEvent("on"+V,g)}function wt(R,V,g){"removeEventListener"in window?R.removeEventListener(V,g,!1):"detachEvent"in window&&R.detachEvent("on"+V,g)}function at(R){return R.charAt(0).toUpperCase()+R.slice(1)}function Ut(R){var V,g,S,oe=null,xe=0,Ie=function(){xe=bt(),oe=null,S=R.apply(V,g),oe||(V=g=null)};return function(){var je=bt();xe||(xe=je);var Qe=ne-(je-xe);return V=this,g=arguments,Qe<=0||Qe>ne?(oe&&(clearTimeout(oe),oe=null),xe=je,S=R.apply(V,g),oe||(V=g=null)):oe||(oe=setTimeout(Ie,Qe)),S}}var bt=Date.now||function(){return new Date().getTime()};function Wt(R){return ze+"["+ot+"] "+R}function A(R){ce&&typeof window.console=="object"&&console.log(Wt(R))}function he(R){typeof window.console=="object"&&console.warn(Wt(R))}function m(){H(),A("Initialising iFrame ("+location.href+")"),ge(),Ne(),Ee("background",N),Ee("padding",Q),ct(),ie(),_(),_t(),fn(),F(),f=zt(),Cn("init","Init message from host page"),Ge()}function H(){function R(g){return g==="true"}var V=K.substr(Le).split(":");ot=V[0],j=h!==V[1]?Number(V[1]):j,M=h!==V[2]?R(V[2]):M,ce=h!==V[3]?R(V[3]):ce,ue=h!==V[4]?Number(V[4]):ue,l=h!==V[6]?R(V[6]):l,ye=V[7],B=h!==V[8]?V[8]:B,N=V[9],Q=V[10],W=h!==V[11]?Number(V[11]):W,f.enable=h!==V[12]?R(V[12]):!1,q=h!==V[13]?V[13]:q,De=h!==V[14]?V[14]:De}function ge(){function R(){var g=window.iFrameResizer;A("Reading data from page: "+JSON.stringify(g)),Me="messageCallback"in g?g.messageCallback:Me,Ge="readyCallback"in g?g.readyCallback:Ge,I="targetOrigin"in g?g.targetOrigin:I,B="heightCalculationMethod"in g?g.heightCalculationMethod:B,De="widthCalculationMethod"in g?g.widthCalculationMethod:De}function V(g,S){return typeof g=="function"&&(A("Setup custom "+S+"CalcMethod"),He[S]=g,g="custom"),g}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(R(),B=V(B,"height"),De=V(De,"width")),A("TargetOrigin for parent set to: "+I)}function fe(R,V){return V.indexOf("-")!==-1&&(he("Negative CSS value ignored for "+R),V=""),V}function Ee(R,V){h!==V&&V!==""&&V!=="null"&&(document.body.style[R]=V,A("Body "+R+' set to "'+V+'"'))}function Ne(){h===ye&&(ye=j+"px"),Ee("margin",fe("margin",ye))}function _t(){document.documentElement.style.height="",document.body.style.height="",A('HTML & body height set to "auto"')}function Se(R){var V={add:function(g){function S(){Cn(R.eventName,R.eventType)}ft[g]=S,lt(window,g,S)},remove:function(g){var S=ft[g];delete ft[g],wt(window,g,S)}};R.eventNames&&Array.prototype.map?(R.eventName=R.eventNames[0],R.eventNames.map(V[R.method])):V[R.method](R.eventName),A(at(R.method)+" event listener: "+R.eventType)}function kt(R){Se({method:R,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),Se({method:R,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),Se({method:R,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),Se({method:R,eventType:"Input",eventName:"input"}),Se({method:R,eventType:"Mouse Up",eventName:"mouseup"}),Se({method:R,eventType:"Mouse Down",eventName:"mousedown"}),Se({method:R,eventType:"Orientation Change",eventName:"orientationchange"}),Se({method:R,eventType:"Print",eventName:["afterprint","beforeprint"]}),Se({method:R,eventType:"Ready State Change",eventName:"readystatechange"}),Se({method:R,eventType:"Touch Start",eventName:"touchstart"}),Se({method:R,eventType:"Touch End",eventName:"touchend"}),Se({method:R,eventType:"Touch Cancel",eventName:"touchcancel"}),Se({method:R,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),Se({method:R,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),Se({method:R,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),q==="child"&&Se({method:R,eventType:"IFrame Resized",eventName:"resize"})}function T(R,V,g,S){return V!==R&&(R in g||(he(R+" is not a valid option for "+S+"CalculationMethod."),R=V),A(S+' calculation method set to "'+R+'"')),R}function ie(){B=T(B,ee,rt,"height")}function _(){De=T(De,Pe,pt,"width")}function F(){l===!0?(kt("add"),ke()):A("Auto Resize disabled")}function w(){A("Disable outgoing messages"),Y=!1}function D(){A("Remove event listener: Message"),wt(window,"message",lr)}function $(){le!==null&&le.disconnect()}function X(){kt("remove"),$(),clearInterval(ve)}function Je(){w(),D(),l===!0&&X()}function ct(){var R=document.createElement("div");R.style.clear="both",R.style.display="block",document.body.appendChild(R)}function zt(){function R(){return{x:window.pageXOffset!==h?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==h?window.pageYOffset:document.documentElement.scrollTop}}function V(Qe){var et=Qe.getBoundingClientRect(),Re=R();return{x:parseInt(et.left,10)+parseInt(Re.x,10),y:parseInt(et.top,10)+parseInt(Re.y,10)}}function g(Qe){function et(Ke){var Lt=V(Ke);A("Moving to in page link (#"+Re+") at x: "+Lt.x+" y: "+Lt.y),Zt(Lt.y,Lt.x,"scrollToOffset")}var Re=Qe.split("#")[1]||Qe,Fe=decodeURIComponent(Re),Xe=document.getElementById(Fe)||document.getElementsByName(Fe)[0];h!==Xe?et(Xe):(A("In page link (#"+Re+") not found in iFrame, so sending to parent"),Zt(0,0,"inPageLink","#"+Re))}function S(){location.hash!==""&&location.hash!=="#"&&g(location.href)}function oe(){function Qe(et){function Re(Fe){Fe.preventDefault(),g(this.getAttribute("href"))}et.getAttribute("href")!=="#"&&lt(et,"click",Re)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),Qe)}function xe(){lt(window,"hashchange",S)}function Ie(){setTimeout(S,E)}function je(){Array.prototype.forEach&&document.querySelectorAll?(A("Setting up location.hash handlers"),oe(),xe(),Ie()):he("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return f.enable?je():A("In page linking not enabled"),{findTarget:g}}function fn(){A("Enable public methods"),yt.parentIFrame={autoResize:function(V){return V===!0&&l===!1?(l=!0,F()):V===!1&&l===!0&&(l=!1,X()),l},close:function(){Zt(0,0,"close"),Je()},getId:function(){return ot},getPageInfo:function(V){typeof V=="function"?(Ye=V,Zt(0,0,"pageInfo")):(Ye=function(){},Zt(0,0,"pageInfoStop"))},moveToAnchor:function(V){f.findTarget(V)},reset:function(){ur("parentIFrame.reset")},scrollTo:function(V,g){Zt(g,V,"scrollTo")},scrollToOffset:function(V,g){Zt(g,V,"scrollToOffset")},sendMessage:function(V,g){Zt(0,0,"message",JSON.stringify(V),g)},setHeightCalculationMethod:function(V){B=V,ie()},setWidthCalculationMethod:function(V){De=V,_()},setTargetOrigin:function(V){A("Set targetOrigin: "+V),I=V},size:function(V,g){var S=""+(V||"")+(g?","+g:"");Cn("size","parentIFrame.size("+S+")",V,g)}}}function Ft(){ue!==0&&(A("setInterval: "+ue+"ms"),ve=setInterval(function(){Cn("interval","setInterval: "+ue)},Math.abs(ue)))}function xt(){function R(Fe){function Xe(Ke){Ke.complete===!1&&(A("Attach listeners to "+Ke.src),Ke.addEventListener("load",oe,!1),Ke.addEventListener("error",xe,!1),Qe.push(Ke))}Fe.type==="attributes"&&Fe.attributeName==="src"?Xe(Fe.target):Fe.type==="childList"&&Array.prototype.forEach.call(Fe.target.querySelectorAll("img"),Xe)}function V(Fe){Qe.splice(Qe.indexOf(Fe),1)}function g(Fe){A("Remove listeners from "+Fe.src),Fe.removeEventListener("load",oe,!1),Fe.removeEventListener("error",xe,!1),V(Fe)}function S(Fe,Xe,Ke){g(Fe.target),Cn(Xe,Ke+": "+Fe.target.src,h,h)}function oe(Fe){S(Fe,"imageLoad","Image loaded")}function xe(Fe){S(Fe,"imageLoadFailed","Image load failed")}function Ie(Fe){Cn("mutationObserver","mutationObserver: "+Fe[0].target+" "+Fe[0].type),Fe.forEach(R)}function je(){var Fe=document.querySelector("body"),Xe={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return Re=new et(Ie),A("Create body MutationObserver"),Re.observe(Fe,Xe),Re}var Qe=[],et=window.MutationObserver||window.WebKitMutationObserver,Re=je();return{disconnect:function(){"disconnect"in Re&&(A("Disconnect body MutationObserver"),Re.disconnect(),Qe.forEach(g))}}}function ke(){var R=0>ue;window.MutationObserver||window.WebKitMutationObserver?R?Ft():le=xt():(A("MutationObserver not supported in this browser!"),Ft())}function pe(R,V){function g(oe){var xe=/^\d+(px)?$/i;if(xe.test(oe))return parseInt(oe,C);var Ie=V.style.left,je=V.runtimeStyle.left;return V.runtimeStyle.left=V.currentStyle.left,V.style.left=oe||0,oe=V.style.pixelLeft,V.style.left=Ie,V.runtimeStyle.left=je,oe}var S=0;return V=V||document.body,"defaultView"in document&&"getComputedStyle"in document.defaultView?(S=document.defaultView.getComputedStyle(V,null),S=S!==null?S[R]:0):S=g(V.currentStyle[R]),parseInt(S,C)}function _e(R){R>ne/2&&(ne=2*R,A("Event throttle increased to "+ne+"ms"))}function me(R,V){for(var g=V.length,S=0,oe=0,xe=at(R),Ie=bt(),je=0;je<g;je++)S=V[je].getBoundingClientRect()[R]+pe("margin"+xe,V[je]),S>oe&&(oe=S);return Ie=bt()-Ie,A("Parsed "+g+" HTML elements"),A("Element position calculated in "+Ie+"ms"),_e(Ie),oe}function Ce(R){return[R.bodyOffset(),R.bodyScroll(),R.documentElementOffset(),R.documentElementScroll()]}function Ze(R,V){function g(){return he("No tagged elements ("+V+") found on page"),document.querySelectorAll("body *")}var S=document.querySelectorAll("["+V+"]");return S.length===0&&g(),me(R,S)}function qe(){return document.querySelectorAll("body *")}var rt={bodyOffset:function(){return document.body.offsetHeight+pe("marginTop")+pe("marginBottom")},offset:function(){return rt.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return He.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,Ce(rt))},min:function(){return Math.min.apply(null,Ce(rt))},grow:function(){return rt.max()},lowestElement:function(){return Math.max(rt.bodyOffset(),me("bottom",qe()))},taggedElement:function(){return Ze("bottom","data-iframe-height")}},pt={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return He.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(pt.bodyScroll(),pt.documentElementScroll())},max:function(){return Math.max.apply(null,Ce(pt))},min:function(){return Math.min.apply(null,Ce(pt))},rightMostElement:function(){return me("right",qe())},taggedElement:function(){return Ze("right","data-iframe-width")}};function Pt(R,V,g,S){function oe(){L=Re,re=Fe,Zt(L,re,R)}function xe(){function Xe(Ke,Lt){var Qt=Math.abs(Ke-Lt)<=W;return!Qt}return Re=h!==g?g:rt[B](),Fe=h!==S?S:pt[De](),Xe(L,Re)||M&&Xe(re,Fe)}function Ie(){return!(R in{init:1,interval:1,size:1})}function je(){return B in be||M&&De in be}function Qe(){A("No change in size detected")}function et(){Ie()&&je()?ur(V):R in{interval:1}||Qe()}var Re,Fe;xe()||R==="init"?(Vn(),oe()):et()}var Vt=Ut(Pt);function Cn(R,V,g,S){function oe(){R in{reset:1,resetPage:1,init:1}||A("Trigger event: "+V)}function xe(){return ae&&R in P}xe()?A("Trigger event cancelled: "+R):(oe(),Vt(R,V,g,S))}function Vn(){ae||(ae=!0,A("Trigger event lock on")),clearTimeout(de),de=setTimeout(function(){ae=!1,A("Trigger event lock off"),A("--")},E)}function mn(R){L=rt[B](),re=pt[De](),Zt(L,re,R)}function ur(R){var V=B;B=ee,A("Reset trigger event: "+R),Vn(),mn("reset"),B=V}function Zt(R,V,g,S,oe){function xe(){h===oe?oe=I:A("Message targetOrigin: "+oe)}function Ie(){var je=R+":"+V,Qe=ot+":"+je+":"+g+(h!==S?":"+S:"");A("Sending message to host page ("+Qe+")"),x.postMessage(ze+Qe,oe)}Y===!0&&(xe(),Ie())}function lr(R){var V={init:function(){function Re(){K=R.data,x=R.source,m(),z=!1,setTimeout(function(){c=!1},E)}document.readyState==="interactive"||document.readyState==="complete"?Re():(A("Waiting for page ready"),lt(window,"readystatechange",V.initFromParent))},reset:function(){c?A("Page reset ignored by init"):(A("Page size reset by host page"),mn("resetPage"))},resize:function(){Cn("resizeParent","Parent window requested size check")},moveToAnchor:function(){f.findTarget(oe())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var Re=oe();A("PageInfoFromParent called from parent: "+Re),Ye(JSON.parse(Re)),A(" --")},message:function(){var Re=oe();A("MessageCallback called from parent: "+Re),Me(JSON.parse(Re)),A(" --")}};function g(){return ze===(""+R.data).substr(0,Le)}function S(){return R.data.split("]")[1].split(":")[0]}function oe(){return R.data.substr(R.data.indexOf(":")+1)}function xe(){return!v.exports&&"iFrameResize"in window}function Ie(){return R.data.split(":")[2]in{true:1,false:1}}function je(){var et=S();et in V?V[et]():!xe()&&!Ie()&&he("Unexpected message ("+R.data+")")}function Qe(){z===!1?je():Ie()?V.init():A('Ignored message of type "'+S()+'". Received before initialization.')}g()&&Qe()}function an(){document.readyState!=="loading"&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}lt(window,"message",lr),an()})()},28:(v,h)=>{var l,C,N;(function(j){if(typeof window>"u")return;var ye=0,le=!1,Q=!1,M="message",P=M.length,E="[iFrameSizer]",z=E.length,L=null,ee=window.requestAnimationFrame,B={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},c={},K=null,f={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){Y("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};function ue(A,he,m){"addEventListener"in window?A.addEventListener(he,m,!1):"attachEvent"in window&&A.attachEvent("on"+he,m)}function ve(A,he,m){"removeEventListener"in window?A.removeEventListener(he,m,!1):"detachEvent"in window&&A.detachEvent("on"+he,m)}function ce(){var A=["moz","webkit","o","ms"],he;for(he=0;he<A.length&&!ee;he+=1)ee=window[A[he]+"RequestAnimationFrame"];ee||be("setup","RequestAnimationFrame not supported")}function ze(A){var he="Host page: "+A;return window.top!==window.self&&(window.parentIFrame&&window.parentIFrame.getId?he=window.parentIFrame.getId()+": "+A:he="Nested host page: "+A),he}function Le(A){return E+"["+ze(A)+"]"}function ot(A){return c[A]?c[A].log:le}function be(A,he){x("log",A,he,ot(A))}function q(A,he){x("info",A,he,ot(A))}function Y(A,he){x("warn",A,he,!0)}function x(A,he,m,H){H===!0&&typeof window.console=="object"&&console[A](Le(he),m)}function I(A){function he(){function pe(){De(xt),ne(ke),X("resizedCallback",xt)}H("Height"),H("Width"),yt(pe,xt,"init")}function m(){var pe=Ft.substr(z).split(":");return{iframe:c[pe[0]]&&c[pe[0]].iframe,id:pe[0],height:pe[1],width:pe[2],type:pe[3]}}function H(pe){var _e=Number(c[ke]["max"+pe]),me=Number(c[ke]["min"+pe]),Ce=pe.toLowerCase(),Ze=Number(xt[Ce]);be(ke,"Checking "+Ce+" is in range "+me+"-"+_e),Ze<me&&(Ze=me,be(ke,"Set "+Ce+" to min value")),Ze>_e&&(Ze=_e,be(ke,"Set "+Ce+" to max value")),xt[Ce]=""+Ze}function ge(){function pe(){function Ce(){var qe=0,rt=!1;for(be(ke,"Checking connection is from allowed list of origins: "+me);qe<me.length;qe++)if(me[qe]===_e){rt=!0;break}return rt}function Ze(){var qe=c[ke]&&c[ke].remoteHost;return be(ke,"Checking connection is from: "+qe),_e===qe}return me.constructor===Array?Ce():Ze()}var _e=A.origin,me=c[ke]&&c[ke].checkOrigin;if(me&&""+_e!="null"&&!pe())throw new Error("Unexpected message received from: "+_e+" for "+xt.iframe.id+". Message was: "+A.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function fe(){return E===(""+Ft).substr(0,z)&&Ft.substr(z).split(":")[0]in c}function Ee(){var pe=xt.type in{true:1,false:1,undefined:1};return pe&&be(ke,"Ignoring init message from meta parent page"),pe}function Ne(pe){return Ft.substr(Ft.indexOf(":")+P+pe)}function _t(pe){be(ke,"MessageCallback passed: {iframe: "+xt.iframe.id+", message: "+pe+"}"),X("messageCallback",{iframe:xt.iframe,message:JSON.parse(pe)}),be(ke,"--")}function Se(){var pe=document.body.getBoundingClientRect(),_e=xt.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:_e.height,iframeWidth:_e.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(_e.top-pe.top,10),offsetLeft:parseInt(_e.left-pe.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})}function kt(pe,_e){function me(){Me("Send Page Info","pageInfo:"+Se(),pe,_e)}He(me,32)}function T(){function pe(Ze,qe){function rt(){c[Ce]?kt(c[Ce].iframe,Ce):_e()}["scroll","resize"].forEach(function(pt){be(Ce,Ze+pt+" listener for sendPageInfo"),qe(window,pt,rt)})}function _e(){pe("Remove ",ve)}function me(){pe("Add ",ue)}var Ce=ke;me(),c[Ce]&&(c[Ce].stopPageInfo=_e)}function ie(){c[ke]&&c[ke].stopPageInfo&&(c[ke].stopPageInfo(),delete c[ke].stopPageInfo)}function _(){var pe=!0;return xt.iframe===null&&(Y(ke,"IFrame ("+xt.id+") not found"),pe=!1),pe}function F(pe){var _e=pe.getBoundingClientRect();return de(ke),{x:Math.floor(Number(_e.left)+Number(L.x)),y:Math.floor(Number(_e.top)+Number(L.y))}}function w(pe){function _e(){L=qe,D(),be(ke,"--")}function me(){return{x:Number(xt.width)+Ze.x,y:Number(xt.height)+Ze.y}}function Ce(){window.parentIFrame?window.parentIFrame["scrollTo"+(pe?"Offset":"")](qe.x,qe.y):Y(ke,"Unable to scroll to requested position, window.parentIFrame not found")}var Ze=pe?F(xt.iframe):{x:0,y:0},qe=me();be(ke,"Reposition requested from iFrame (offset x:"+Ze.x+" y:"+Ze.y+")"),window.top!==window.self?Ce():_e()}function D(){X("scrollCallback",L)!==!1?ne(ke):re()}function $(pe){function _e(){var rt=F(qe);be(ke,"Moving to in page link (#"+Ce+") at x: "+rt.x+" y: "+rt.y),L={x:rt.x,y:rt.y},D(),be(ke,"--")}function me(){window.parentIFrame?window.parentIFrame.moveToAnchor(Ce):be(ke,"In page link #"+Ce+" not found and window.parentIFrame not found")}var Ce=pe.split("#")[1]||"",Ze=decodeURIComponent(Ce),qe=document.getElementById(Ze)||document.getElementsByName(Ze)[0];qe?_e():window.top!==window.self?me():be(ke,"In page link #"+Ce+" not found")}function X(pe,_e){return W(ke,pe,_e)}function Je(){switch(c[ke]&&c[ke].firstRun&&fn(),xt.type){case"close":c[ke].closeRequestCallback?W(ke,"closeRequestCallback",c[ke].iframe):ae(xt.iframe);break;case"message":_t(Ne(6));break;case"scrollTo":w(!1);break;case"scrollToOffset":w(!0);break;case"pageInfo":kt(c[ke]&&c[ke].iframe,ke),T();break;case"pageInfoStop":ie();break;case"inPageLink":$(Ne(9));break;case"reset":Pe(xt);break;case"init":he(),X("initCallback",xt.iframe);break;default:he()}}function ct(pe){var _e=!0;return c[pe]||(_e=!1,Y(xt.type+" No settings for "+pe+". Message was: "+Ft)),_e}function zt(){for(var pe in c)Me("iFrame requested init",Ge(pe),document.getElementById(pe),pe)}function fn(){c[ke]&&(c[ke].firstRun=!1)}var Ft=A.data,xt={},ke=null;Ft==="[iFrameResizerChild]Ready"?zt():fe()?(xt=m(),ke=xt.id,c[ke]&&(c[ke].loaded=!0),!Ee()&&ct(ke)&&(be(ke,"Received: "+Ft),_()&&ge()&&Je())):q(ke,"Ignored: "+Ft)}function W(A,he,m){var H=null,ge=null;if(c[A])if(H=c[A][he],typeof H=="function")ge=H(m);else throw new TypeError(he+" on iFrame["+A+"] is not a function");return ge}function ae(A){var he=A.id;be(he,"Removing iFrame: "+he),A.parentNode&&A.parentNode.removeChild(A),W(he,"closedCallback",he),be(he,"--"),delete c[he]}function de(A){L===null&&(L={x:window.pageXOffset!==j?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==j?window.pageYOffset:document.documentElement.scrollTop},be(A,"Get page position: "+L.x+","+L.y))}function ne(A){L!==null&&(window.scrollTo(L.x,L.y),be(A,"Set page position: "+L.x+","+L.y),re())}function re(){L=null}function Pe(A){function he(){De(A),Me("reset","reset",A.iframe,A.id)}be(A.id,"Size reset requested by "+(A.type==="init"?"host page":"iFrame")),de(A.id),yt(he,A,"reset")}function De(A){function he(fe){A.iframe.style[fe]=A[fe]+"px",be(A.id,"IFrame ("+ge+") "+fe+" set to "+A[fe]+"px")}function m(fe){!Q&&A[fe]==="0"&&(Q=!0,be(ge,"Hidden iFrame detected, creating visibility listener"),ft())}function H(fe){he(fe),m(fe)}var ge=A.iframe.id;c[ge]&&(c[ge].sizeHeight&&H("height"),c[ge].sizeWidth&&H("width"))}function yt(A,he,m){m!==he.type&&ee?(be(he.id,"Requesting animation frame"),ee(A)):A()}function Me(A,he,m,H,ge){function fe(){var kt=c[H]&&c[H].targetOrigin;be(H,"["+A+"] Sending msg to iframe["+H+"] ("+he+") targetOrigin: "+kt),m.contentWindow.postMessage(E+he,kt)}function Ee(){Y(H,"["+A+"] IFrame("+H+") not found")}function Ne(){m&&"contentWindow"in m&&m.contentWindow!==null?fe():Ee()}function _t(){function kt(){c[H]&&!c[H].loaded&&!Se&&(Se=!0,Y(H,"IFrame has not responded within "+c[H].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ingored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}ge&&c[H]&&c[H].warningTimeout&&(c[H].msgTimeout=setTimeout(kt,c[H].warningTimeout))}var Se=!1;H=H||m.id,c[H]&&(Ne(),_t())}function Ge(A){return A+":"+c[A].bodyMarginV1+":"+c[A].sizeWidth+":"+c[A].log+":"+c[A].interval+":"+c[A].enablePublicMethods+":"+c[A].autoResize+":"+c[A].bodyMargin+":"+c[A].heightCalculationMethod+":"+c[A].bodyBackground+":"+c[A].bodyPadding+":"+c[A].tolerance+":"+c[A].inPageLinks+":"+c[A].resizeFrom+":"+c[A].widthCalculationMethod}function Ye(A,he){function m(){function D(X){c[w][X]!==1/0&&c[w][X]!==0&&(A.style[X]=c[w][X]+"px",be(w,"Set "+X+" = "+c[w][X]+"px"))}function $(X){if(c[w]["min"+X]>c[w]["max"+X])throw new Error("Value for min"+X+" can not be greater than max"+X)}$("Height"),$("Width"),D("maxHeight"),D("minHeight"),D("maxWidth"),D("minWidth")}function H(){var D=he&&he.id||f.id+ye++;return document.getElementById(D)!==null&&(D=D+ye++),D}function ge(D){return D===""&&(A.id=D=H(),le=(he||{}).log,be(D,"Added missing iframe ID: "+D+" ("+A.src+")")),D}function fe(){switch(be(w,"IFrame scrolling "+(c[w]&&c[w].scrolling?"enabled":"disabled")+" for "+w),A.style.overflow=(c[w]&&c[w].scrolling)===!1?"hidden":"auto",c[w]&&c[w].scrolling){case!0:A.scrolling="yes";break;case!1:A.scrolling="no";break;default:A.scrolling=c[w]?c[w].scrolling:"no"}}function Ee(){(typeof(c[w]&&c[w].bodyMargin)=="number"||(c[w]&&c[w].bodyMargin)==="0")&&(c[w].bodyMarginV1=c[w].bodyMargin,c[w].bodyMargin=""+c[w].bodyMargin+"px")}function Ne(){var D=c[w]&&c[w].firstRun,$=c[w]&&c[w].heightCalculationMethod in B;!D&&$&&Pe({iframe:A,height:0,width:0,type:"init"})}function _t(){Function.prototype.bind&&c[w]&&(c[w].iframe.iFrameResizer={close:ae.bind(null,c[w].iframe),resize:Me.bind(null,"Window resize","resize",c[w].iframe),moveToAnchor:function(D){Me("Move to anchor","moveToAnchor:"+D,c[w].iframe,w)},sendMessage:function(D){D=JSON.stringify(D),Me("Send Message","message:"+D,c[w].iframe,w)}})}function Se(D){function $(){Me("iFrame.onload",D,A,j,!0),Ne()}ue(A,"load",$),Me("init",D,A,j,!0)}function kt(D){if(typeof D!="object")throw new TypeError("Options is not an object")}function T(D){for(var $ in f)f.hasOwnProperty($)&&(c[w][$]=D.hasOwnProperty($)?D[$]:f[$])}function ie(D){return D===""||D==="file://"?"*":D}function _(D){D=D||{},c[w]={firstRun:!0,iframe:A,remoteHost:A.src.split("/").slice(0,3).join("/")},kt(D),T(D),c[w]&&(c[w].targetOrigin=c[w].checkOrigin===!0?ie(c[w].remoteHost):"*")}function F(){return w in c&&"iFrameResizer"in A}var w=ge(A.id);F()?Y(w,"Ignored iFrame, already setup."):(_(he),fe(),m(),Ee(),Se(Ge(w)),_t())}function He(A,he){K===null&&(K=setTimeout(function(){K=null,A()},he))}function ft(){function A(){function ge(Ee){function Ne(Se){return(c[Ee]&&c[Ee].iframe.style[Se])==="0px"}function _t(Se){return Se.offsetParent!==null}c[Ee]&&_t(c[Ee].iframe)&&(Ne("height")||Ne("width"))&&Me("Visibility change","resize",c[Ee].iframe,Ee)}for(var fe in c)ge(fe)}function he(ge){be("window","Mutation observed: "+ge[0].target+" "+ge[0].type),He(A,16)}function m(){var ge=document.querySelector("body"),fe={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},Ee=new H(he);Ee.observe(ge,fe)}var H=window.MutationObserver||window.WebKitMutationObserver;H&&m()}function lt(A){function he(){at("Window "+A,"resize")}be("window","Trigger event: "+A),He(he,16)}function wt(){function A(){at("Tab Visable","resize")}document.visibilityState!=="hidden"&&(be("document","Trigger event: Visiblity change"),He(A,16))}function at(A,he){function m(ge){return c[ge]&&c[ge].resizeFrom==="parent"&&c[ge].autoResize&&!c[ge].firstRun}for(var H in c)m(H)&&Me(A,he,document.getElementById(H),H)}function Ut(){ue(window,"message",I),ue(window,"resize",function(){lt("resize")}),ue(document,"visibilitychange",wt),ue(document,"-webkit-visibilitychange",wt),ue(window,"focusin",function(){lt("focus")}),ue(window,"focus",function(){lt("focus")})}function bt(){function A(H,ge){function fe(){if(ge.tagName){if(ge.tagName.toUpperCase()!=="IFRAME")throw new TypeError("Expected <IFRAME> tag, found <"+ge.tagName+">")}else throw new TypeError("Object is not a valid DOM element")}ge&&(fe(),Ye(ge,H),m.push(ge))}function he(H){H&&H.enablePublicMethods&&Y("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var m;return ce(),Ut(),function(ge,fe){switch(m=[],he(ge),typeof fe){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(fe||"iframe"),A.bind(j,ge));break;case"object":A(ge,fe);break;default:throw new TypeError("Unexpected data type ("+typeof fe+")")}return m}}function Wt(A){A.fn?A.fn.iFrameResize||(A.fn.iFrameResize=function(m){function H(ge,fe){Ye(fe,m)}return this.filter("iframe").each(H).end()}):q("","Unable to bind to jQuery, it is not fully loaded.")}window.jQuery&&Wt(window.jQuery),C=[],l=bt,N=typeof l=="function"?l.apply(h,C):l,N!==j&&(v.exports=N)})()},683:(v,h,l)=>{h.iframeResizer=l(28),h.iframeResizerContentWindow=l(402)},457:v=>{var h=function(){var l=Math.floor(Math.random()*1000001),C={};function N(M,P,E,z){function L(c){for(var K=0;K<c.length;K++)if(c[K].win===M)return!0;return!1}var ee=!1;if(P==="*"){for(var B in C)if(C.hasOwnProperty(B)&&B!=="*"&&typeof C[B][E]=="object"&&(ee=L(C[B][E]),ee))break}else C["*"]&&C["*"][E]&&(ee=L(C["*"][E])),!ee&&C[P]&&C[P][E]&&(ee=L(C[P][E]));if(ee)throw"A channel is already bound to the same window which overlaps with origin '"+P+"' and has scope '"+E+"'";typeof C[P]!="object"&&(C[P]={}),typeof C[P][E]!="object"&&(C[P][E]=[]),C[P][E].push({win:M,handler:z})}function j(M,P,E){for(var z=C[P][E],L=0;L<z.length;L++)z[L].win===M&&z.splice(L,1);C[P][E].length===0&&delete C[P][E]}function ye(M){return Array.isArray?Array.isArray(M):M.constructor.toString().indexOf("Array")!=-1}var le={},Q=function(M){try{var P=JSON.parse(M.data);if(typeof P!="object"||P===null)throw"malformed"}catch{return}var E=M.source,z=M.origin,L,ee,B;if(typeof P.method=="string"){var c=P.method.split("::");c.length==2?(L=c[0],B=c[1]):B=P.method}if(typeof P.id<"u"&&(ee=P.id),typeof B=="string"){var K=!1;if(C[z]&&C[z][L]){for(var f=0;f<C[z][L].length;f++)if(C[z][L][f].win===E){C[z][L][f].handler(z,B,P),K=!0;break}}if(!K&&C["*"]&&C["*"][L]){for(var f=0;f<C["*"][L].length;f++)if(C["*"][L][f].win===E){C["*"][L][f].handler(z,B,P);break}}}else typeof ee<"u"&&le[ee]&&le[ee](z,B,P)};return window.addEventListener?window.addEventListener("message",Q,!1):window.attachEvent&&window.attachEvent("onmessage",Q),{build:function(M){var P=function(q){if(M.debugOutput&&window.console&&window.console.log){try{typeof q!="string"&&(q=JSON.stringify(q))}catch{}console.log("["+L+"] "+q)}};if(!window.postMessage)throw"jschannel cannot run this browser, no postMessage";if(!window.JSON||!window.JSON.stringify||!window.JSON.parse)throw"jschannel cannot run this browser, no JSON parsing/serialization";if(typeof M!="object")throw"Channel build invoked without a proper object argument";if(!M.window||!M.window.postMessage)throw"Channel.build() called without a valid window argument";if(window===M.window)throw"target window is same as present window -- not allowed";var E=!1;if(typeof M.origin=="string"){var z;M.origin==="*"?E=!0:(z=M.origin.match(/^https?:\/\/(?:[-a-zA-Z0-9_\.])+(?::\d+)?/))!==null&&(M.origin=z[0].toLowerCase(),E=!0)}if(!E)throw"Channel.build() called with an invalid origin";if(typeof M.scope<"u"){if(typeof M.scope!="string")throw"scope, when specified, must be a string";if(M.scope.split("::").length>1)throw"scope may not contain double colons: '::'"}var L=function(){for(var q="",Y="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",x=0;x<5;x++)q+=Y.charAt(Math.floor(Math.random()*Y.length));return q}(),ee={},B={},c={},K=!1,f=[],ue=function(q,Y,x){var I=!1,W=!1;return{origin:Y,invoke:function(ae,de){if(!c[q])throw"attempting to invoke a callback of a nonexistent transaction: "+q;for(var ne=!1,re=0;re<x.length;re++)if(ae===x[re]){ne=!0;break}if(!ne)throw"request supports no such callback '"+ae+"'";Le({id:q,callback:ae,params:de})},error:function(ae,de){if(W=!0,!c[q])throw"error called for nonexistent message: "+q;delete c[q],Le({id:q,error:ae,message:de})},complete:function(ae){if(W=!0,!c[q])throw"complete called for nonexistent message: "+q;delete c[q],Le({id:q,result:ae})},delayReturn:function(ae){return typeof ae=="boolean"&&(I=ae===!0),I},completed:function(){return W}}},ve=function(q,Y,x){return window.setTimeout(function(){if(B[q]){var I="timeout ("+Y+"ms) exceeded on method '"+x+"'";(0,B[q].error)("timeout_error",I),delete B[q],delete le[q]}},Y)},ce=function(q,Y,x){if(typeof M.gotMessageObserver=="function")try{M.gotMessageObserver(q,x)}catch(Ge){P("gotMessageObserver() raised an exception: "+Ge.toString())}if(x.id&&Y){if(ee[Y]){var I=ue(x.id,q,x.callbacks?x.callbacks:[]);c[x.id]={};try{if(x.callbacks&&ye(x.callbacks)&&x.callbacks.length>0)for(var W=0;W<x.callbacks.length;W++){for(var ae=x.callbacks[W],de=x.params,ne=ae.split("/"),re=0;re<ne.length-1;re++){var Pe=ne[re];typeof de[Pe]!="object"&&(de[Pe]={}),de=de[Pe]}de[ne[ne.length-1]]=function(){var Ge=ae;return function(Ye){return I.invoke(Ge,Ye)}}()}var De=ee[Y](I,x.params);!I.delayReturn()&&!I.completed()&&I.complete(De)}catch(Ge){var yt="runtime_error",Me=null;if(typeof Ge=="string"?Me=Ge:typeof Ge=="object"&&(Ge&&ye(Ge)&&Ge.length==2?(yt=Ge[0],Me=Ge[1]):typeof Ge.error=="string"&&(yt=Ge.error,Ge.message?typeof Ge.message=="string"?Me=Ge.message:Ge=Ge.message:Me="")),Me===null)try{Me=JSON.stringify(Ge),typeof Me>"u"&&(Me=Ge.toString())}catch{Me=Ge.toString()}I.error(yt,Me)}}}else x.id&&x.callback?!B[x.id]||!B[x.id].callbacks||!B[x.id].callbacks[x.callback]?P("ignoring invalid callback, id:"+x.id+" ("+x.callback+")"):B[x.id].callbacks[x.callback](x.params):x.id?B[x.id]?(x.error?(0,B[x.id].error)(x.error,x.message):x.result!==void 0?(0,B[x.id].success)(x.result):(0,B[x.id].success)(),delete B[x.id],delete le[x.id]):P("ignoring invalid response: "+x.id):Y&&ee[Y]&&ee[Y]({origin:q},x.params)};N(M.window,M.origin,typeof M.scope=="string"?M.scope:"",ce);var ze=function(q){return typeof M.scope=="string"&&M.scope.length&&(q=[M.scope,q].join("::")),q},Le=function(q,Y){if(!q)throw"postMessage called with null message";var x=K?"post  ":"queue ";if(P(x+" message: "+JSON.stringify(q)),!Y&&!K)f.push(q);else{if(typeof M.postMessageObserver=="function")try{M.postMessageObserver(M.origin,q)}catch(I){P("postMessageObserver() raised an exception: "+I.toString())}M.window.postMessage(JSON.stringify(q),M.origin)}},ot=function(q,Y){if(P("ready msg received"),K)throw"received ready message while in ready state.  help!";for(Y==="ping"?L+="-R":L+="-L",be.unbind("__ready"),K=!0,P("ready msg accepted."),Y==="ping"&&be.notify({method:"__ready",params:"pong"});f.length;)Le(f.pop());typeof M.onReady=="function"&&M.onReady(be)},be={unbind:function(q){if(ee[q]){if(!delete ee[q])throw"can't delete method: "+q;return!0}return!1},bind:function(q,Y){if(!q||typeof q!="string")throw"'method' argument to bind must be string";if(!Y||typeof Y!="function")throw"callback missing from bind params";if(ee[q])throw"method '"+q+"' is already bound!";return ee[q]=Y,this},call:function(q){if(!q)throw"missing arguments to call function";if(!q.method||typeof q.method!="string")throw"'method' argument to call must be string";if(!q.success||typeof q.success!="function")throw"'success' callback missing from call";var Y={},x=[],I=[],W=function(de,ne){if(I.indexOf(ne)>=0)throw"params cannot be a recursive data structure";if(I.push(ne),typeof ne=="object"){for(var re in ne)if(ne.hasOwnProperty(re)){var Pe=de+(de.length?"/":"")+re;typeof ne[re]=="function"?(Y[Pe]=ne[re],x.push(Pe),delete ne[re]):typeof ne[re]=="object"&&ne[re]!==null&&W(Pe,ne[re])}}};W("",q.params);var ae={id:l,method:ze(q.method),params:q.params};x.length&&(ae.callbacks=x),q.timeout&&ve(l,q.timeout,ze(q.method)),B[l]={callbacks:Y,error:q.error,success:q.success},le[l]=ce,l++,Le(ae)},notify:function(q){if(!q)throw"missing arguments to notify function";if(!q.method||typeof q.method!="string")throw"'method' argument to notify must be string";Le({method:ze(q.method),params:q.params})},destroy:function(){j(M.window,M.origin,typeof M.scope=="string"?M.scope:""),window.removeEventListener?window.removeEventListener("message",ce,!1):window.detachEvent&&window.detachEvent("onmessage",ce),K=!1,ee={},c={},B={},M.origin=null,f=[],P("channel destroyed"),L=""}};return be.bind("__ready",ot),setTimeout(function(){Le({method:ze("__ready"),params:"ping"},!0)},0),be}}}();v.exports=h},218:v=>{function h(l){var C=typeof l;return l!=null&&(C=="object"||C=="function")}v.exports=h}},s={};function i(v){var h=s[v];if(h!==void 0)return h.exports;var l=s[v]={exports:{}};return y[v].call(l.exports,l,l.exports,i),l.exports}i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i(669)})();var ov=zu.Addon;class av{constructor(){this.addon=new ov,this.addon.on("init",s=>{this.addon.options=s})}fetch_user(){try{return this.addon.api.getUser()}catch(s){throw s}}fetch_currencies(){try{return this.addon.request({method:"GET",endpoint:"currencies"})}catch(s){throw s}}fetch_institutions(){try{return this.addon.api.getInstitutions(this.get_options_query(this.addon.options))}catch(s){throw s}}fetch_positions(){try{return this.addon.api.getPositions(this.get_options_query(this.addon.options))}catch(s){throw s}}fetch_historical_data(s){try{return this.addon.request({method:"GET",endpoint:`securities/${s}/history`})}catch(i){throw i}}fetch_stock_prices(s,i){return fetch("https://data.wealthica.com/api/streams",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:s,symbols:i})}).then(l=>l.json()).catch(l=>{throw l})}get_options_query(s){return{from:s.dateRangeFilter&&s.dateRangeFilter[0],to:s.dateRangeFilter&&s.dateRangeFilter[1],groups:s.groupsFilter,institutions:s.institutionsFilter,investments:s.investmentsFilter==="all"?null:s.investmentsFilter}}}function sv(y){{const s=localStorage.getItem(y);return s?JSON.parse(s):null}}function Au(y,s){localStorage.setItem(y,JSON.stringify(s))}function uv(y){y=Array.isArray(y)?y:[y],y.forEach(s=>{localStorage.removeItem(s)})}const ir=!1,Gi=[{name:"INVESTOR - CELI",account_number:"22981483",order:1,type:null,no_holdings:!1,exluded:!1},{name:"INVESTOR - RESP",account_number:"21921430",order:2,type:null,no_holdings:!1,exluded:!1},{name:"NESBITT - NON-ENRG",account_number:"31015145",order:3,type:null,no_holdings:!1,exluded:!0},{name:"NESBITT - BELSKI",account_number:"31107566",order:4,type:null,no_holdings:!1,exluded:ir},{name:"NESBITT - FONDS",account_number:"31107567",order:5,type:null,no_holdings:!1,exluded:ir},{name:"NESBITT - ACTIONS (REER)",account_number:"31107798",order:6,type:null,no_holdings:!1,exluded:ir},{name:"NESBITT - ACTIONS (CELI)",account_number:"78124230",order:7,type:null,no_holdings:!1,exluded:ir},{name:"CGI - ACTIONS (REER)",account_number:"197287703264",order:8,type:null,no_holdings:!0,exluded:ir},{name:"CGI - ACTIONS (NON-ENRG)",account_number:"197287499339",order:8,type:"NRG",no_holdings:!0,exluded:ir},{name:"FTQ - REER",account_number:"107935800-01R",order:9,type:"RRSP",no_holdings:!0,exluded:ir},{name:"BMO - INVEST",account_number:"XXXX6679",order:10,type:"CASH",no_holdings:!0,exluded:ir}];function Uu(y,s){const i=Gi.find(v=>v.account_number===y);return i?i.type||s.toUpperCase():""}function Bu(y){var s=Gi.find(i=>i.account_number===y);return s?s.exluded:!0}function $u(y){var s=Gi.find(i=>i.account_number===y);return s?s.order:999}function Hu(y){var s=Gi.find(i=>i.account_number===y);return s?s.no_holdings:!1}const qu={dev:!0,prod:!1,log_all:!0},lv=[{id:"user",enabled:!1},{id:"currencies",enabled:!1},{id:"institutions",enabled:!1},{id:"positions",enabled:!1},{id:"accounts",enabled:!1},{id:"holdings",enabled:!1},{id:"totals",enabled:!1},{id:"currency",enabled:!1}];function cv(){return Wu()&&qu.prod}function Su(y,s,i){var v;cv()&&((v=lv.find(h=>h.id===y))!=null&&v.enabled||qu.log_all)&&(i?console.log(y,i,s):console.log(y,s))}const Gt={user:"user",currencies:"currencies",institutions:"institutions",positions:"positions",accounts:"accounts",holdings:"holdings",totals:"totals",x_usd:"x_usd"},yr={unknown:"unknown",memory:"memory",store:"store",fetched:"fetched",loading:"loading",refreshed:"refreshed"};class fv{constructor(){Jn(this,"user",null);Jn(this,"currencies",null);Jn(this,"institutions",null);Jn(this,"positions",null);Jn(this,"accounts",null);Jn(this,"holdings",null);Jn(this,"totals",null);Jn(this,"x_usd",null);this.wealthica=new av}async load(s){let i=yr.unknown;this[s]?this[s]instanceof Promise?(i=yr.loading,await this[s]):i=yr.memory:(this[s]=sv(s))?i=yr.store:(i=yr.fetched,this[s]=this.retrieve_data(s),this[s]=await this[s],Au(s,this[s])),i!=yr.loading&&Su(s,this[s],i)}retrieve_data(s){switch(s){case"user":return this.wealthica.fetch_user();case"currencies":return this.wealthica.fetch_currencies();case"institutions":return this.wealthica.fetch_institutions();case"positions":return this.wealthica.fetch_positions();case"accounts":return this.retrieve_accounts_data();case"holdings":return this.retrieve_holdings_data();case"totals":return this.retrieve_accounts_totals();case"x_usd":return this.retrieve_x_usd_data();default:throw`No such data to fetch (${s})`}}clear_data(s){s=Array.isArray(s)?s:[s],s.forEach(i=>{this[i]=null,uv(i)})}async retrieve_accounts_data(){return await this.load(Gt.institutions),this.institutions.flatMap(i=>{const v=new Map;return i.investments.forEach(h=>{let l=this.get_account_number(h);if(!h.ignored&&!Bu(l)){let C=v.get(l)??{institution:{name:i.name,type:i.type},number:l,name:h.name,type:Uu(l,h.type),order:$u(l),no_holdings:Hu(l),expanded:!1,subaccounts:[]};C.subaccounts.push({id:h._id,name:h.name,currency:h.currency,value:h.currency_value,expanded:!0}),v.set(l,C)}}),Array.from(v.values())}).sort((i,v)=>i.order-v.order)}get_account_number(s){return(s.account_number?s.account_number:s.id).toUpperCase()}async retrieve_accounts_totals(){let s={};return await Promise.all([this.load(Gt.accounts),this.load(Gt.holdings)]),this.accounts.forEach(i=>{let v={};i.subaccounts.forEach(h=>{let l=this.calculate_holdings_totals("subaccount_id",h.id);i.no_holdings&&this.calculate_no_holdings_totals(h,l),(s[i.number]=s[i.number]||{})[h.id]=l,v=this.sum_account_totals(v,l)}),s[i.number]={...s[i.number]||{},...v},s.all=this.sum_account_totals(s.all||{},v)}),this.calculate_accounts_weights(s),s}calculate_holdings_totals(s,i){let v=this.holdings.filter(h=>h[s]===i).reduce((h,l)=>(l.symbol!="REALCASH"&&(h.book_value+=l.values.book_value,h.close_amount+=l.values.close_amount,h.gain_daily_amount+=l.values.gain_daily_amount,h.gain_period_amount+=l.values.gain_period_amount,h.gain_overall_amount+=l.values.gain_overall_amount),h.market_value+=l.values.market_value,h.market_value_CAD+=l.currency!="usd"?l.values.market_value:0,h.market_value_USD+=l.currency=="usd"?l.values.market_value:0,h.market_total_CAD+=l.values.market_value_CAD,h.weight+=l.values.weight,h),this.initialized_holdings_totals());return v.gain_daily_percent=v.market_value/(v.market_value-v.gain_daily_amount)-1,v.gain_period_percent=v.market_value/(v.market_value-v.gain_period_amount)-1,v.gain_overall_percent=v.market_value/(v.market_value-v.gain_overall_amount)-1,v}calculate_no_holdings_totals(s,i){const v=s.currency=="usd";i.market_value_CAD=v?0:s.value,i.market_value_USD=v?s.value:0,i.market_total_CAD=s.value*(v?1/this.x_usd.rate:1)}calculate_accounts_weights(s){s.all.weight=this.accounts.reduce((i,v)=>{let h=s[v.number].market_total_CAD/s.all.market_total_CAD;return s[v.number].weight=h,i+h},0)}sum_account_totals(s,i){let v=Object.keys(i).reduce((h,l)=>({...h,[l]:(s[l]||0)+i[l]}),{});return delete v.market_value,v}async retrieve_holdings_data(){await Promise.all([this.load(Gt.positions),this.load(Gt.x_usd)]);let s=[];return this.positions.forEach(i=>{i.investments.forEach(v=>{let h=this.create_holding(i,v);s.push(h)})}),await Promise.all(s.map(async i=>{i.history=await i.history})),await this.update_holdings_stock_prices(s),s}create_holding(s,i){return{account_number:i.investment.split(":")[0],subaccount_id:i.investment,market:i.currency.substring(0,2).toUpperCase(),symbol:s.security.symbol,symbol_mrkt:i.currency.substring(0,2).toUpperCase()+":"+s.security.symbol,name:s.security.name,currency:i.currency,xrate:i.currency==="usd"?1/this.x_usd.rate:1,quantity:i.quantity,cash:s.security.symbol=="REALCASH",history:this.wealthica.fetch_historical_data(s.security._id),values:{book_price:i.book_value/i.quantity,book_value:i.book_value,close_date:null,close_price:0,close_amount:0,daily_change:0,daily_date:null,gain_daily_amount:0,gain_daily_percent:0,gain_period_amount:0,gain_period_percent:0,gain_overall_amount:i.quantity*s.security.last_price-i.book_value,gain_overall_percent:(i.quantity*s.security.last_price-i.book_value)/i.book_value,market_date:s.security.last_date,market_price:s.security.last_price,market_value:i.quantity*s.security.last_price,market_price_CAD:s.security.last_price*(i.currency==="usd"?1/this.x_usd.rate:1),market_value_CAD:i.quantity*s.security.last_price*(i.currency==="usd"?1/this.x_usd.rate:1)}}}initialized_holdings_totals(){return{book_value:0,close_amount:0,gain_daily_amount:0,gain_daily_percent:0,gain_period_percent:0,gain_period_amount:0,gain_overall_amount:0,gain_overall_percent:0,market_value:0,market_value_CAD:0,market_value_USD:0,market_total_CAD:0,weight_childs:0,weight:0}}async update_holdings_stock_prices(s){await this.load(Gt.user);let i=s.map(h=>h.symbol_mrkt);(await this.wealthica.fetch_stock_prices(this.user.email,i)).securities.forEach(h=>{let l=`${h.market}:${h.symbol.split(":")[1]}`;s.filter(C=>C.symbol_mrkt===l).forEach(C=>{C.values.close_price=h.price-h.change,C.values.close_amount=C.quantity*(h.price-h.change),C.values.daily_change=h.change,C.values.daily_date=h.update_date,C.values.gain_daily_amount=C.quantity*h.change,C.values.gain_daily_percent=(h.price-h.change)/(h.price-h.change-h.change)-1,C.values.gain_period_amount=0,C.values.gain_period_percent=0,C.values.gain_overall_amount=C.quantity*h.price-C.values.book_value,C.values.gain_overall_percent=(C.quantity*h.price-C.values.book_value)/C.values.book_value,C.values.market_price=h.price,C.values.market_value=C.quantity*h.price,C.values.market_date=h.quote_date,C.values.market_price_CAD=h.price*(C.currency==="usd"?1/this.x_usd.rate:1),C.values.market_value_CAD=C.quantity*h.price*(C.currency==="usd"?1/this.x_usd.rate:1)})}),this.calc_holdings_weigth(s)}calc_holdings_weigth(s){[...new Set(s.map(v=>v.account_number))].forEach(v=>{let h=s.filter(C=>C.account_number===v),l=h.reduce((C,N)=>C+N.values.market_value_CAD,0);h.forEach(C=>{C.values.weight_account=C.values.market_value_CAD/l})})}async refresh_holdings_stock_prices(){await this.update_holdings_stock_prices(this.holdings),Au(Gt.holdings,this.holdings),Su(Gt.holdings,this.holdings,yr.refreshed)}async retrieve_x_usd_data(){await this.load(Gt.currencies);let s=this.currencies.find(i=>i._id==="usd");return s?{id:s._id,rate:s.exchange_rate,date:s.update_date}:null}}const sr=(y,s)=>{const i=y.__vccOpts||y;for(const[v,h]of s)i[v]=h;return i},dv={name:"tab_dashboard"},hv={class:"tab-container"},gv=O("div",{class:"tab-logo-container"},[O("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-dashboard-icon.png",alt:"Under Construction",class:"tab-logo-centered"})],-1),_v=[gv];function vv(y,s,i,v,h,l){return $e(),Ve("div",hv,_v)}const Cu=sr(dv,[["render",vv]]),pv={props:{group_name:{type:String,default:""}}},mv={colspan:"2"},yv={class:"centered"},wv={class:"group-name"};function bv(y,s,i,v,h,l){return $e(),Ve("th",mv,[O("div",yv,[O("div",wv,Kn(i.group_name),1)])])}const Xt=sr(pv,[["render",bv]]);var $i={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */$i.exports;(function(y,s){(function(){var i,v="4.17.21",h=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",C="Expected a function",N="Invalid `variable` option passed into `_.template`",j="__lodash_hash_undefined__",ye=500,le="__lodash_placeholder__",Q=1,M=2,P=4,E=1,z=2,L=1,ee=2,B=4,c=8,K=16,f=32,ue=64,ve=128,ce=256,ze=512,Le=30,ot="...",be=800,q=16,Y=1,x=2,I=3,W=1/0,ae=9007199254740991,de=17976931348623157e292,ne=NaN,re=4294967295,Pe=re-1,De=re>>>1,yt=[["ary",ve],["bind",L],["bindKey",ee],["curry",c],["curryRight",K],["flip",ze],["partial",f],["partialRight",ue],["rearg",ce]],Me="[object Arguments]",Ge="[object Array]",Ye="[object AsyncFunction]",He="[object Boolean]",ft="[object Date]",lt="[object DOMException]",wt="[object Error]",at="[object Function]",Ut="[object GeneratorFunction]",bt="[object Map]",Wt="[object Number]",A="[object Null]",he="[object Object]",m="[object Promise]",H="[object Proxy]",ge="[object RegExp]",fe="[object Set]",Ee="[object String]",Ne="[object Symbol]",_t="[object Undefined]",Se="[object WeakMap]",kt="[object WeakSet]",T="[object ArrayBuffer]",ie="[object DataView]",_="[object Float32Array]",F="[object Float64Array]",w="[object Int8Array]",D="[object Int16Array]",$="[object Int32Array]",X="[object Uint8Array]",Je="[object Uint8ClampedArray]",ct="[object Uint16Array]",zt="[object Uint32Array]",fn=/\b__p \+= '';/g,Ft=/\b(__p \+=) '' \+/g,xt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ke=/&(?:amp|lt|gt|quot|#39);/g,pe=/[&<>"']/g,_e=RegExp(ke.source),me=RegExp(pe.source),Ce=/<%-([\s\S]+?)%>/g,Ze=/<%([\s\S]+?)%>/g,qe=/<%=([\s\S]+?)%>/g,rt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pt=/^\w*$/,Pt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vt=/[\\^$.*+?()[\]{}|]/g,Cn=RegExp(Vt.source),Vn=/^\s+/,mn=/\s/,ur=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Zt=/\{\n\/\* \[wrapped with (.+)\] \*/,lr=/,? & /,an=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,R=/[()=,{}\[\]\/\s]/,V=/\\(\\)?/g,g=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,S=/\w*$/,oe=/^[-+]0x[0-9a-f]+$/i,xe=/^0b[01]+$/i,Ie=/^\[object .+?Constructor\]$/,je=/^0o[0-7]+$/i,Qe=/^(?:0|[1-9]\d*)$/,et=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Re=/($^)/,Fe=/['\n\r\u2028\u2029\\]/g,Xe="\\ud800-\\udfff",Ke="\\u0300-\\u036f",Lt="\\ufe20-\\ufe2f",Qt="\\u20d0-\\u20ff",Dn=Ke+Lt+Qt,ei="\\u2700-\\u27bf",ra="a-z\\xdf-\\xf6\\xf8-\\xff",Ku="\\xac\\xb1\\xd7\\xf7",Vu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Yu="\\u2000-\\u206f",ju=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ia="A-Z\\xc0-\\xd6\\xd8-\\xde",oa="\\ufe0e\\ufe0f",aa=Ku+Vu+Yu+ju,Ji="['’]",Xu="["+Xe+"]",sa="["+aa+"]",ti="["+Dn+"]",ua="\\d+",Zu="["+ei+"]",la="["+ra+"]",ca="[^"+Xe+aa+ua+ei+ra+ia+"]",Ki="\\ud83c[\\udffb-\\udfff]",Qu="(?:"+ti+"|"+Ki+")",fa="[^"+Xe+"]",Vi="(?:\\ud83c[\\udde6-\\uddff]){2}",Yi="[\\ud800-\\udbff][\\udc00-\\udfff]",xr="["+ia+"]",da="\\u200d",ha="(?:"+la+"|"+ca+")",el="(?:"+xr+"|"+ca+")",ga="(?:"+Ji+"(?:d|ll|m|re|s|t|ve))?",_a="(?:"+Ji+"(?:D|LL|M|RE|S|T|VE))?",va=Qu+"?",pa="["+oa+"]?",tl="(?:"+da+"(?:"+[fa,Vi,Yi].join("|")+")"+pa+va+")*",nl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ma=pa+va+tl,il="(?:"+[Zu,Vi,Yi].join("|")+")"+ma,ol="(?:"+[fa+ti+"?",ti,Vi,Yi,Xu].join("|")+")",al=RegExp(Ji,"g"),sl=RegExp(ti,"g"),ji=RegExp(Ki+"(?="+Ki+")|"+ol+ma,"g"),ul=RegExp([xr+"?"+la+"+"+ga+"(?="+[sa,xr,"$"].join("|")+")",el+"+"+_a+"(?="+[sa,xr+ha,"$"].join("|")+")",xr+"?"+ha+"+"+ga,xr+"+"+_a,rl,nl,ua,il].join("|"),"g"),ll=RegExp("["+da+Xe+Dn+oa+"]"),cl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,fl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],dl=-1,Ct={};Ct[_]=Ct[F]=Ct[w]=Ct[D]=Ct[$]=Ct[X]=Ct[Je]=Ct[ct]=Ct[zt]=!0,Ct[Me]=Ct[Ge]=Ct[T]=Ct[He]=Ct[ie]=Ct[ft]=Ct[wt]=Ct[at]=Ct[bt]=Ct[Wt]=Ct[he]=Ct[ge]=Ct[fe]=Ct[Ee]=Ct[Se]=!1;var St={};St[Me]=St[Ge]=St[T]=St[ie]=St[He]=St[ft]=St[_]=St[F]=St[w]=St[D]=St[$]=St[bt]=St[Wt]=St[he]=St[ge]=St[fe]=St[Ee]=St[Ne]=St[X]=St[Je]=St[ct]=St[zt]=!0,St[wt]=St[at]=St[Se]=!1;var hl={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},gl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_l={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},vl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},pl=parseFloat,ml=parseInt,ya=typeof Qr=="object"&&Qr&&Qr.Object===Object&&Qr,yl=typeof self=="object"&&self&&self.Object===Object&&self,Jt=ya||yl||Function("return this")(),Xi=s&&!s.nodeType&&s,cr=Xi&&!0&&y&&!y.nodeType&&y,wa=cr&&cr.exports===Xi,Zi=wa&&ya.process,yn=function(){try{var b=cr&&cr.require&&cr.require("util").types;return b||Zi&&Zi.binding&&Zi.binding("util")}catch{}}(),ba=yn&&yn.isArrayBuffer,xa=yn&&yn.isDate,Ea=yn&&yn.isMap,Ta=yn&&yn.isRegExp,ka=yn&&yn.isSet,Aa=yn&&yn.isTypedArray;function dn(b,G,U){switch(U.length){case 0:return b.call(G);case 1:return b.call(G,U[0]);case 2:return b.call(G,U[0],U[1]);case 3:return b.call(G,U[0],U[1],U[2])}return b.apply(G,U)}function wl(b,G,U,Te){for(var tt=-1,mt=b==null?0:b.length;++tt<mt;){var Bt=b[tt];G(Te,Bt,U(Bt),b)}return Te}function wn(b,G){for(var U=-1,Te=b==null?0:b.length;++U<Te&&G(b[U],U,b)!==!1;);return b}function bl(b,G){for(var U=b==null?0:b.length;U--&&G(b[U],U,b)!==!1;);return b}function Sa(b,G){for(var U=-1,Te=b==null?0:b.length;++U<Te;)if(!G(b[U],U,b))return!1;return!0}function Yn(b,G){for(var U=-1,Te=b==null?0:b.length,tt=0,mt=[];++U<Te;){var Bt=b[U];G(Bt,U,b)&&(mt[tt++]=Bt)}return mt}function ni(b,G){var U=b==null?0:b.length;return!!U&&Er(b,G,0)>-1}function Qi(b,G,U){for(var Te=-1,tt=b==null?0:b.length;++Te<tt;)if(U(G,b[Te]))return!0;return!1}function Mt(b,G){for(var U=-1,Te=b==null?0:b.length,tt=Array(Te);++U<Te;)tt[U]=G(b[U],U,b);return tt}function jn(b,G){for(var U=-1,Te=G.length,tt=b.length;++U<Te;)b[tt+U]=G[U];return b}function eo(b,G,U,Te){var tt=-1,mt=b==null?0:b.length;for(Te&&mt&&(U=b[++tt]);++tt<mt;)U=G(U,b[tt],tt,b);return U}function xl(b,G,U,Te){var tt=b==null?0:b.length;for(Te&&tt&&(U=b[--tt]);tt--;)U=G(U,b[tt],tt,b);return U}function to(b,G){for(var U=-1,Te=b==null?0:b.length;++U<Te;)if(G(b[U],U,b))return!0;return!1}var El=no("length");function Tl(b){return b.split("")}function kl(b){return b.match(an)||[]}function Ca(b,G,U){var Te;return U(b,function(tt,mt,Bt){if(G(tt,mt,Bt))return Te=mt,!1}),Te}function ri(b,G,U,Te){for(var tt=b.length,mt=U+(Te?1:-1);Te?mt--:++mt<tt;)if(G(b[mt],mt,b))return mt;return-1}function Er(b,G,U){return G===G?Nl(b,G,U):ri(b,Oa,U)}function Al(b,G,U,Te){for(var tt=U-1,mt=b.length;++tt<mt;)if(Te(b[tt],G))return tt;return-1}function Oa(b){return b!==b}function Ma(b,G){var U=b==null?0:b.length;return U?io(b,G)/U:ne}function no(b){return function(G){return G==null?i:G[b]}}function ro(b){return function(G){return b==null?i:b[G]}}function Ia(b,G,U,Te,tt){return tt(b,function(mt,Bt,At){U=Te?(Te=!1,mt):G(U,mt,Bt,At)}),U}function Sl(b,G){var U=b.length;for(b.sort(G);U--;)b[U]=b[U].value;return b}function io(b,G){for(var U,Te=-1,tt=b.length;++Te<tt;){var mt=G(b[Te]);mt!==i&&(U=U===i?mt:U+mt)}return U}function oo(b,G){for(var U=-1,Te=Array(b);++U<b;)Te[U]=G(U);return Te}function Cl(b,G){return Mt(G,function(U){return[U,b[U]]})}function Fa(b){return b&&b.slice(0,Da(b)+1).replace(Vn,"")}function hn(b){return function(G){return b(G)}}function ao(b,G){return Mt(G,function(U){return b[U]})}function Wr(b,G){return b.has(G)}function Pa(b,G){for(var U=-1,Te=b.length;++U<Te&&Er(G,b[U],0)>-1;);return U}function Ra(b,G){for(var U=b.length;U--&&Er(G,b[U],0)>-1;);return U}function Ol(b,G){for(var U=b.length,Te=0;U--;)b[U]===G&&++Te;return Te}var Ml=ro(hl),Il=ro(gl);function Fl(b){return"\\"+vl[b]}function Pl(b,G){return b==null?i:b[G]}function Tr(b){return ll.test(b)}function Rl(b){return cl.test(b)}function Ll(b){for(var G,U=[];!(G=b.next()).done;)U.push(G.value);return U}function so(b){var G=-1,U=Array(b.size);return b.forEach(function(Te,tt){U[++G]=[tt,Te]}),U}function La(b,G){return function(U){return b(G(U))}}function Xn(b,G){for(var U=-1,Te=b.length,tt=0,mt=[];++U<Te;){var Bt=b[U];(Bt===G||Bt===le)&&(b[U]=le,mt[tt++]=U)}return mt}function ii(b){var G=-1,U=Array(b.size);return b.forEach(function(Te){U[++G]=Te}),U}function Dl(b){var G=-1,U=Array(b.size);return b.forEach(function(Te){U[++G]=[Te,Te]}),U}function Nl(b,G,U){for(var Te=U-1,tt=b.length;++Te<tt;)if(b[Te]===G)return Te;return-1}function Wl(b,G,U){for(var Te=U+1;Te--;)if(b[Te]===G)return Te;return Te}function kr(b){return Tr(b)?Ul(b):El(b)}function On(b){return Tr(b)?Bl(b):Tl(b)}function Da(b){for(var G=b.length;G--&&mn.test(b.charAt(G)););return G}var zl=ro(_l);function Ul(b){for(var G=ji.lastIndex=0;ji.test(b);)++G;return G}function Bl(b){return b.match(ji)||[]}function $l(b){return b.match(ul)||[]}var Hl=function b(G){G=G==null?Jt:Ar.defaults(Jt.Object(),G,Ar.pick(Jt,fl));var U=G.Array,Te=G.Date,tt=G.Error,mt=G.Function,Bt=G.Math,At=G.Object,uo=G.RegExp,ql=G.String,bn=G.TypeError,oi=U.prototype,Gl=mt.prototype,Sr=At.prototype,ai=G["__core-js_shared__"],si=Gl.toString,Tt=Sr.hasOwnProperty,Jl=0,Na=function(){var e=/[^.]+$/.exec(ai&&ai.keys&&ai.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ui=Sr.toString,Kl=si.call(At),Vl=Jt._,Yl=uo("^"+si.call(Tt).replace(Vt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),li=wa?G.Buffer:i,Zn=G.Symbol,ci=G.Uint8Array,Wa=li?li.allocUnsafe:i,fi=La(At.getPrototypeOf,At),za=At.create,Ua=Sr.propertyIsEnumerable,di=oi.splice,Ba=Zn?Zn.isConcatSpreadable:i,zr=Zn?Zn.iterator:i,fr=Zn?Zn.toStringTag:i,hi=function(){try{var e=vr(At,"defineProperty");return e({},"",{}),e}catch{}}(),jl=G.clearTimeout!==Jt.clearTimeout&&G.clearTimeout,Xl=Te&&Te.now!==Jt.Date.now&&Te.now,Zl=G.setTimeout!==Jt.setTimeout&&G.setTimeout,gi=Bt.ceil,_i=Bt.floor,lo=At.getOwnPropertySymbols,Ql=li?li.isBuffer:i,$a=G.isFinite,ec=oi.join,tc=La(At.keys,At),$t=Bt.max,Yt=Bt.min,nc=Te.now,rc=G.parseInt,Ha=Bt.random,ic=oi.reverse,co=vr(G,"DataView"),Ur=vr(G,"Map"),fo=vr(G,"Promise"),Cr=vr(G,"Set"),Br=vr(G,"WeakMap"),$r=vr(At,"create"),vi=Br&&new Br,Or={},oc=pr(co),ac=pr(Ur),sc=pr(fo),uc=pr(Cr),lc=pr(Br),pi=Zn?Zn.prototype:i,Hr=pi?pi.valueOf:i,qa=pi?pi.toString:i;function a(e){if(Rt(e)&&!nt(e)&&!(e instanceof ht)){if(e instanceof xn)return e;if(Tt.call(e,"__wrapped__"))return Gs(e)}return new xn(e)}var Mr=function(){function e(){}return function(t){if(!It(t))return{};if(za)return za(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function mi(){}function xn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}a.templateSettings={escape:Ce,evaluate:Ze,interpolate:qe,variable:"",imports:{_:a}},a.prototype=mi.prototype,a.prototype.constructor=a,xn.prototype=Mr(mi.prototype),xn.prototype.constructor=xn;function ht(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=re,this.__views__=[]}function cc(){var e=new ht(this.__wrapped__);return e.__actions__=sn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=sn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=sn(this.__views__),e}function fc(){if(this.__filtered__){var e=new ht(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function dc(){var e=this.__wrapped__.value(),t=this.__dir__,n=nt(e),r=t<0,o=n?e.length:0,u=kf(0,o,this.__views__),d=u.start,p=u.end,k=p-d,Z=r?p:d-1,te=this.__iteratees__,se=te.length,we=0,Oe=Yt(k,this.__takeCount__);if(!n||!r&&o==k&&Oe==k)return gs(e,this.__actions__);var Ue=[];e:for(;k--&&we<Oe;){Z+=t;for(var st=-1,Be=e[Z];++st<se;){var dt=te[st],gt=dt.iteratee,vn=dt.type,nn=gt(Be);if(vn==x)Be=nn;else if(!nn){if(vn==Y)continue e;break e}}Ue[we++]=Be}return Ue}ht.prototype=Mr(mi.prototype),ht.prototype.constructor=ht;function dr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function hc(){this.__data__=$r?$r(null):{},this.size=0}function gc(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function _c(e){var t=this.__data__;if($r){var n=t[e];return n===j?i:n}return Tt.call(t,e)?t[e]:i}function vc(e){var t=this.__data__;return $r?t[e]!==i:Tt.call(t,e)}function pc(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=$r&&t===i?j:t,this}dr.prototype.clear=hc,dr.prototype.delete=gc,dr.prototype.get=_c,dr.prototype.has=vc,dr.prototype.set=pc;function Nn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function mc(){this.__data__=[],this.size=0}function yc(e){var t=this.__data__,n=yi(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():di.call(t,n,1),--this.size,!0}function wc(e){var t=this.__data__,n=yi(t,e);return n<0?i:t[n][1]}function bc(e){return yi(this.__data__,e)>-1}function xc(e,t){var n=this.__data__,r=yi(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}Nn.prototype.clear=mc,Nn.prototype.delete=yc,Nn.prototype.get=wc,Nn.prototype.has=bc,Nn.prototype.set=xc;function Wn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ec(){this.size=0,this.__data__={hash:new dr,map:new(Ur||Nn),string:new dr}}function Tc(e){var t=Ii(this,e).delete(e);return this.size-=t?1:0,t}function kc(e){return Ii(this,e).get(e)}function Ac(e){return Ii(this,e).has(e)}function Sc(e,t){var n=Ii(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}Wn.prototype.clear=Ec,Wn.prototype.delete=Tc,Wn.prototype.get=kc,Wn.prototype.has=Ac,Wn.prototype.set=Sc;function hr(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Wn;++t<n;)this.add(e[t])}function Cc(e){return this.__data__.set(e,j),this}function Oc(e){return this.__data__.has(e)}hr.prototype.add=hr.prototype.push=Cc,hr.prototype.has=Oc;function Mn(e){var t=this.__data__=new Nn(e);this.size=t.size}function Mc(){this.__data__=new Nn,this.size=0}function Ic(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Fc(e){return this.__data__.get(e)}function Pc(e){return this.__data__.has(e)}function Rc(e,t){var n=this.__data__;if(n instanceof Nn){var r=n.__data__;if(!Ur||r.length<h-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Wn(r)}return n.set(e,t),this.size=n.size,this}Mn.prototype.clear=Mc,Mn.prototype.delete=Ic,Mn.prototype.get=Fc,Mn.prototype.has=Pc,Mn.prototype.set=Rc;function Ga(e,t){var n=nt(e),r=!n&&mr(e),o=!n&&!r&&rr(e),u=!n&&!r&&!o&&Rr(e),d=n||r||o||u,p=d?oo(e.length,ql):[],k=p.length;for(var Z in e)(t||Tt.call(e,Z))&&!(d&&(Z=="length"||o&&(Z=="offset"||Z=="parent")||u&&(Z=="buffer"||Z=="byteLength"||Z=="byteOffset")||$n(Z,k)))&&p.push(Z);return p}function Ja(e){var t=e.length;return t?e[Eo(0,t-1)]:i}function Lc(e,t){return Fi(sn(e),gr(t,0,e.length))}function Dc(e){return Fi(sn(e))}function ho(e,t,n){(n!==i&&!In(e[t],n)||n===i&&!(t in e))&&zn(e,t,n)}function qr(e,t,n){var r=e[t];(!(Tt.call(e,t)&&In(r,n))||n===i&&!(t in e))&&zn(e,t,n)}function yi(e,t){for(var n=e.length;n--;)if(In(e[n][0],t))return n;return-1}function Nc(e,t,n,r){return Qn(e,function(o,u,d){t(r,o,n(o),d)}),r}function Ka(e,t){return e&&Rn(t,qt(t),e)}function Wc(e,t){return e&&Rn(t,ln(t),e)}function zn(e,t,n){t=="__proto__"&&hi?hi(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function go(e,t){for(var n=-1,r=t.length,o=U(r),u=e==null;++n<r;)o[n]=u?i:Vo(e,t[n]);return o}function gr(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function En(e,t,n,r,o,u){var d,p=t&Q,k=t&M,Z=t&P;if(n&&(d=o?n(e,r,o,u):n(e)),d!==i)return d;if(!It(e))return e;var te=nt(e);if(te){if(d=Sf(e),!p)return sn(e,d)}else{var se=jt(e),we=se==at||se==Ut;if(rr(e))return ps(e,p);if(se==he||se==Me||we&&!o){if(d=k||we?{}:Ds(e),!p)return k?vf(e,Wc(d,e)):_f(e,Ka(d,e))}else{if(!St[se])return o?e:{};d=Cf(e,se,p)}}u||(u=new Mn);var Oe=u.get(e);if(Oe)return Oe;u.set(e,d),fu(e)?e.forEach(function(Be){d.add(En(Be,t,n,Be,e,u))}):lu(e)&&e.forEach(function(Be,dt){d.set(dt,En(Be,t,n,dt,e,u))});var Ue=Z?k?Ro:Po:k?ln:qt,st=te?i:Ue(e);return wn(st||e,function(Be,dt){st&&(dt=Be,Be=e[dt]),qr(d,dt,En(Be,t,n,dt,e,u))}),d}function zc(e){var t=qt(e);return function(n){return Va(n,e,t)}}function Va(e,t,n){var r=n.length;if(e==null)return!r;for(e=At(e);r--;){var o=n[r],u=t[o],d=e[o];if(d===i&&!(o in e)||!u(d))return!1}return!0}function Ya(e,t,n){if(typeof e!="function")throw new bn(C);return Xr(function(){e.apply(i,n)},t)}function Gr(e,t,n,r){var o=-1,u=ni,d=!0,p=e.length,k=[],Z=t.length;if(!p)return k;n&&(t=Mt(t,hn(n))),r?(u=Qi,d=!1):t.length>=h&&(u=Wr,d=!1,t=new hr(t));e:for(;++o<p;){var te=e[o],se=n==null?te:n(te);if(te=r||te!==0?te:0,d&&se===se){for(var we=Z;we--;)if(t[we]===se)continue e;k.push(te)}else u(t,se,r)||k.push(te)}return k}var Qn=xs(Pn),ja=xs(vo,!0);function Uc(e,t){var n=!0;return Qn(e,function(r,o,u){return n=!!t(r,o,u),n}),n}function wi(e,t,n){for(var r=-1,o=e.length;++r<o;){var u=e[r],d=t(u);if(d!=null&&(p===i?d===d&&!_n(d):n(d,p)))var p=d,k=u}return k}function Bc(e,t,n,r){var o=e.length;for(n=it(n),n<0&&(n=-n>o?0:o+n),r=r===i||r>o?o:it(r),r<0&&(r+=o),r=n>r?0:hu(r);n<r;)e[n++]=t;return e}function Xa(e,t){var n=[];return Qn(e,function(r,o,u){t(r,o,u)&&n.push(r)}),n}function Kt(e,t,n,r,o){var u=-1,d=e.length;for(n||(n=Mf),o||(o=[]);++u<d;){var p=e[u];t>0&&n(p)?t>1?Kt(p,t-1,n,r,o):jn(o,p):r||(o[o.length]=p)}return o}var _o=Es(),Za=Es(!0);function Pn(e,t){return e&&_o(e,t,qt)}function vo(e,t){return e&&Za(e,t,qt)}function bi(e,t){return Yn(t,function(n){return Hn(e[n])})}function _r(e,t){t=tr(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Ln(t[n++])];return n&&n==r?e:i}function Qa(e,t,n){var r=t(e);return nt(e)?r:jn(r,n(e))}function en(e){return e==null?e===i?_t:A:fr&&fr in At(e)?Tf(e):Nf(e)}function po(e,t){return e>t}function $c(e,t){return e!=null&&Tt.call(e,t)}function Hc(e,t){return e!=null&&t in At(e)}function qc(e,t,n){return e>=Yt(t,n)&&e<$t(t,n)}function mo(e,t,n){for(var r=n?Qi:ni,o=e[0].length,u=e.length,d=u,p=U(u),k=1/0,Z=[];d--;){var te=e[d];d&&t&&(te=Mt(te,hn(t))),k=Yt(te.length,k),p[d]=!n&&(t||o>=120&&te.length>=120)?new hr(d&&te):i}te=e[0];var se=-1,we=p[0];e:for(;++se<o&&Z.length<k;){var Oe=te[se],Ue=t?t(Oe):Oe;if(Oe=n||Oe!==0?Oe:0,!(we?Wr(we,Ue):r(Z,Ue,n))){for(d=u;--d;){var st=p[d];if(!(st?Wr(st,Ue):r(e[d],Ue,n)))continue e}we&&we.push(Ue),Z.push(Oe)}}return Z}function Gc(e,t,n,r){return Pn(e,function(o,u,d){t(r,n(o),u,d)}),r}function Jr(e,t,n){t=tr(t,e),e=Us(e,t);var r=e==null?e:e[Ln(kn(t))];return r==null?i:dn(r,e,n)}function es(e){return Rt(e)&&en(e)==Me}function Jc(e){return Rt(e)&&en(e)==T}function Kc(e){return Rt(e)&&en(e)==ft}function Kr(e,t,n,r,o){return e===t?!0:e==null||t==null||!Rt(e)&&!Rt(t)?e!==e&&t!==t:Vc(e,t,n,r,Kr,o)}function Vc(e,t,n,r,o,u){var d=nt(e),p=nt(t),k=d?Ge:jt(e),Z=p?Ge:jt(t);k=k==Me?he:k,Z=Z==Me?he:Z;var te=k==he,se=Z==he,we=k==Z;if(we&&rr(e)){if(!rr(t))return!1;d=!0,te=!1}if(we&&!te)return u||(u=new Mn),d||Rr(e)?Ps(e,t,n,r,o,u):xf(e,t,k,n,r,o,u);if(!(n&E)){var Oe=te&&Tt.call(e,"__wrapped__"),Ue=se&&Tt.call(t,"__wrapped__");if(Oe||Ue){var st=Oe?e.value():e,Be=Ue?t.value():t;return u||(u=new Mn),o(st,Be,n,r,u)}}return we?(u||(u=new Mn),Ef(e,t,n,r,o,u)):!1}function Yc(e){return Rt(e)&&jt(e)==bt}function yo(e,t,n,r){var o=n.length,u=o,d=!r;if(e==null)return!u;for(e=At(e);o--;){var p=n[o];if(d&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++o<u;){p=n[o];var k=p[0],Z=e[k],te=p[1];if(d&&p[2]){if(Z===i&&!(k in e))return!1}else{var se=new Mn;if(r)var we=r(Z,te,k,e,t,se);if(!(we===i?Kr(te,Z,E|z,r,se):we))return!1}}return!0}function ts(e){if(!It(e)||Ff(e))return!1;var t=Hn(e)?Yl:Ie;return t.test(pr(e))}function jc(e){return Rt(e)&&en(e)==ge}function Xc(e){return Rt(e)&&jt(e)==fe}function Zc(e){return Rt(e)&&Wi(e.length)&&!!Ct[en(e)]}function ns(e){return typeof e=="function"?e:e==null?cn:typeof e=="object"?nt(e)?os(e[0],e[1]):is(e):Tu(e)}function wo(e){if(!jr(e))return tc(e);var t=[];for(var n in At(e))Tt.call(e,n)&&n!="constructor"&&t.push(n);return t}function Qc(e){if(!It(e))return Df(e);var t=jr(e),n=[];for(var r in e)r=="constructor"&&(t||!Tt.call(e,r))||n.push(r);return n}function bo(e,t){return e<t}function rs(e,t){var n=-1,r=un(e)?U(e.length):[];return Qn(e,function(o,u,d){r[++n]=t(o,u,d)}),r}function is(e){var t=Do(e);return t.length==1&&t[0][2]?Ws(t[0][0],t[0][1]):function(n){return n===e||yo(n,e,t)}}function os(e,t){return Wo(e)&&Ns(t)?Ws(Ln(e),t):function(n){var r=Vo(n,e);return r===i&&r===t?Yo(n,e):Kr(t,r,E|z)}}function xi(e,t,n,r,o){e!==t&&_o(t,function(u,d){if(o||(o=new Mn),It(u))ef(e,t,d,n,xi,r,o);else{var p=r?r(Uo(e,d),u,d+"",e,t,o):i;p===i&&(p=u),ho(e,d,p)}},ln)}function ef(e,t,n,r,o,u,d){var p=Uo(e,n),k=Uo(t,n),Z=d.get(k);if(Z){ho(e,n,Z);return}var te=u?u(p,k,n+"",e,t,d):i,se=te===i;if(se){var we=nt(k),Oe=!we&&rr(k),Ue=!we&&!Oe&&Rr(k);te=k,we||Oe||Ue?nt(p)?te=p:Dt(p)?te=sn(p):Oe?(se=!1,te=ps(k,!0)):Ue?(se=!1,te=ms(k,!0)):te=[]:Zr(k)||mr(k)?(te=p,mr(p)?te=gu(p):(!It(p)||Hn(p))&&(te=Ds(k))):se=!1}se&&(d.set(k,te),o(te,k,r,u,d),d.delete(k)),ho(e,n,te)}function as(e,t){var n=e.length;if(n)return t+=t<0?n:0,$n(t,n)?e[t]:i}function ss(e,t,n){t.length?t=Mt(t,function(u){return nt(u)?function(d){return _r(d,u.length===1?u[0]:u)}:u}):t=[cn];var r=-1;t=Mt(t,hn(We()));var o=rs(e,function(u,d,p){var k=Mt(t,function(Z){return Z(u)});return{criteria:k,index:++r,value:u}});return Sl(o,function(u,d){return gf(u,d,n)})}function tf(e,t){return us(e,t,function(n,r){return Yo(e,r)})}function us(e,t,n){for(var r=-1,o=t.length,u={};++r<o;){var d=t[r],p=_r(e,d);n(p,d)&&Vr(u,tr(d,e),p)}return u}function nf(e){return function(t){return _r(t,e)}}function xo(e,t,n,r){var o=r?Al:Er,u=-1,d=t.length,p=e;for(e===t&&(t=sn(t)),n&&(p=Mt(e,hn(n)));++u<d;)for(var k=0,Z=t[u],te=n?n(Z):Z;(k=o(p,te,k,r))>-1;)p!==e&&di.call(p,k,1),di.call(e,k,1);return e}function ls(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==u){var u=o;$n(o)?di.call(e,o,1):Ao(e,o)}}return e}function Eo(e,t){return e+_i(Ha()*(t-e+1))}function rf(e,t,n,r){for(var o=-1,u=$t(gi((t-e)/(n||1)),0),d=U(u);u--;)d[r?u:++o]=e,e+=n;return d}function To(e,t){var n="";if(!e||t<1||t>ae)return n;do t%2&&(n+=e),t=_i(t/2),t&&(e+=e);while(t);return n}function ut(e,t){return Bo(zs(e,t,cn),e+"")}function of(e){return Ja(Lr(e))}function af(e,t){var n=Lr(e);return Fi(n,gr(t,0,n.length))}function Vr(e,t,n,r){if(!It(e))return e;t=tr(t,e);for(var o=-1,u=t.length,d=u-1,p=e;p!=null&&++o<u;){var k=Ln(t[o]),Z=n;if(k==="__proto__"||k==="constructor"||k==="prototype")return e;if(o!=d){var te=p[k];Z=r?r(te,k,p):i,Z===i&&(Z=It(te)?te:$n(t[o+1])?[]:{})}qr(p,k,Z),p=p[k]}return e}var cs=vi?function(e,t){return vi.set(e,t),e}:cn,sf=hi?function(e,t){return hi(e,"toString",{configurable:!0,enumerable:!1,value:Xo(t),writable:!0})}:cn;function uf(e){return Fi(Lr(e))}function Tn(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var u=U(o);++r<o;)u[r]=e[r+t];return u}function lf(e,t){var n;return Qn(e,function(r,o,u){return n=t(r,o,u),!n}),!!n}function Ei(e,t,n){var r=0,o=e==null?r:e.length;if(typeof t=="number"&&t===t&&o<=De){for(;r<o;){var u=r+o>>>1,d=e[u];d!==null&&!_n(d)&&(n?d<=t:d<t)?r=u+1:o=u}return o}return ko(e,t,cn,n)}function ko(e,t,n,r){var o=0,u=e==null?0:e.length;if(u===0)return 0;t=n(t);for(var d=t!==t,p=t===null,k=_n(t),Z=t===i;o<u;){var te=_i((o+u)/2),se=n(e[te]),we=se!==i,Oe=se===null,Ue=se===se,st=_n(se);if(d)var Be=r||Ue;else Z?Be=Ue&&(r||we):p?Be=Ue&&we&&(r||!Oe):k?Be=Ue&&we&&!Oe&&(r||!st):Oe||st?Be=!1:Be=r?se<=t:se<t;Be?o=te+1:u=te}return Yt(u,Pe)}function fs(e,t){for(var n=-1,r=e.length,o=0,u=[];++n<r;){var d=e[n],p=t?t(d):d;if(!n||!In(p,k)){var k=p;u[o++]=d===0?0:d}}return u}function ds(e){return typeof e=="number"?e:_n(e)?ne:+e}function gn(e){if(typeof e=="string")return e;if(nt(e))return Mt(e,gn)+"";if(_n(e))return qa?qa.call(e):"";var t=e+"";return t=="0"&&1/e==-W?"-0":t}function er(e,t,n){var r=-1,o=ni,u=e.length,d=!0,p=[],k=p;if(n)d=!1,o=Qi;else if(u>=h){var Z=t?null:wf(e);if(Z)return ii(Z);d=!1,o=Wr,k=new hr}else k=t?[]:p;e:for(;++r<u;){var te=e[r],se=t?t(te):te;if(te=n||te!==0?te:0,d&&se===se){for(var we=k.length;we--;)if(k[we]===se)continue e;t&&k.push(se),p.push(te)}else o(k,se,n)||(k!==p&&k.push(se),p.push(te))}return p}function Ao(e,t){return t=tr(t,e),e=Us(e,t),e==null||delete e[Ln(kn(t))]}function hs(e,t,n,r){return Vr(e,t,n(_r(e,t)),r)}function Ti(e,t,n,r){for(var o=e.length,u=r?o:-1;(r?u--:++u<o)&&t(e[u],u,e););return n?Tn(e,r?0:u,r?u+1:o):Tn(e,r?u+1:0,r?o:u)}function gs(e,t){var n=e;return n instanceof ht&&(n=n.value()),eo(t,function(r,o){return o.func.apply(o.thisArg,jn([r],o.args))},n)}function So(e,t,n){var r=e.length;if(r<2)return r?er(e[0]):[];for(var o=-1,u=U(r);++o<r;)for(var d=e[o],p=-1;++p<r;)p!=o&&(u[o]=Gr(u[o]||d,e[p],t,n));return er(Kt(u,1),t,n)}function _s(e,t,n){for(var r=-1,o=e.length,u=t.length,d={};++r<o;){var p=r<u?t[r]:i;n(d,e[r],p)}return d}function Co(e){return Dt(e)?e:[]}function Oo(e){return typeof e=="function"?e:cn}function tr(e,t){return nt(e)?e:Wo(e,t)?[e]:qs(Et(e))}var cf=ut;function nr(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:Tn(e,t,n)}var vs=jl||function(e){return Jt.clearTimeout(e)};function ps(e,t){if(t)return e.slice();var n=e.length,r=Wa?Wa(n):new e.constructor(n);return e.copy(r),r}function Mo(e){var t=new e.constructor(e.byteLength);return new ci(t).set(new ci(e)),t}function ff(e,t){var n=t?Mo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function df(e){var t=new e.constructor(e.source,S.exec(e));return t.lastIndex=e.lastIndex,t}function hf(e){return Hr?At(Hr.call(e)):{}}function ms(e,t){var n=t?Mo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ys(e,t){if(e!==t){var n=e!==i,r=e===null,o=e===e,u=_n(e),d=t!==i,p=t===null,k=t===t,Z=_n(t);if(!p&&!Z&&!u&&e>t||u&&d&&k&&!p&&!Z||r&&d&&k||!n&&k||!o)return 1;if(!r&&!u&&!Z&&e<t||Z&&n&&o&&!r&&!u||p&&n&&o||!d&&o||!k)return-1}return 0}function gf(e,t,n){for(var r=-1,o=e.criteria,u=t.criteria,d=o.length,p=n.length;++r<d;){var k=ys(o[r],u[r]);if(k){if(r>=p)return k;var Z=n[r];return k*(Z=="desc"?-1:1)}}return e.index-t.index}function ws(e,t,n,r){for(var o=-1,u=e.length,d=n.length,p=-1,k=t.length,Z=$t(u-d,0),te=U(k+Z),se=!r;++p<k;)te[p]=t[p];for(;++o<d;)(se||o<u)&&(te[n[o]]=e[o]);for(;Z--;)te[p++]=e[o++];return te}function bs(e,t,n,r){for(var o=-1,u=e.length,d=-1,p=n.length,k=-1,Z=t.length,te=$t(u-p,0),se=U(te+Z),we=!r;++o<te;)se[o]=e[o];for(var Oe=o;++k<Z;)se[Oe+k]=t[k];for(;++d<p;)(we||o<u)&&(se[Oe+n[d]]=e[o++]);return se}function sn(e,t){var n=-1,r=e.length;for(t||(t=U(r));++n<r;)t[n]=e[n];return t}function Rn(e,t,n,r){var o=!n;n||(n={});for(var u=-1,d=t.length;++u<d;){var p=t[u],k=r?r(n[p],e[p],p,n,e):i;k===i&&(k=e[p]),o?zn(n,p,k):qr(n,p,k)}return n}function _f(e,t){return Rn(e,No(e),t)}function vf(e,t){return Rn(e,Rs(e),t)}function ki(e,t){return function(n,r){var o=nt(n)?wl:Nc,u=t?t():{};return o(n,e,We(r,2),u)}}function Ir(e){return ut(function(t,n){var r=-1,o=n.length,u=o>1?n[o-1]:i,d=o>2?n[2]:i;for(u=e.length>3&&typeof u=="function"?(o--,u):i,d&&tn(n[0],n[1],d)&&(u=o<3?i:u,o=1),t=At(t);++r<o;){var p=n[r];p&&e(t,p,r,u)}return t})}function xs(e,t){return function(n,r){if(n==null)return n;if(!un(n))return e(n,r);for(var o=n.length,u=t?o:-1,d=At(n);(t?u--:++u<o)&&r(d[u],u,d)!==!1;);return n}}function Es(e){return function(t,n,r){for(var o=-1,u=At(t),d=r(t),p=d.length;p--;){var k=d[e?p:++o];if(n(u[k],k,u)===!1)break}return t}}function pf(e,t,n){var r=t&L,o=Yr(e);function u(){var d=this&&this!==Jt&&this instanceof u?o:e;return d.apply(r?n:this,arguments)}return u}function Ts(e){return function(t){t=Et(t);var n=Tr(t)?On(t):i,r=n?n[0]:t.charAt(0),o=n?nr(n,1).join(""):t.slice(1);return r[e]()+o}}function Fr(e){return function(t){return eo(xu(bu(t).replace(al,"")),e,"")}}function Yr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Mr(e.prototype),r=e.apply(n,t);return It(r)?r:n}}function mf(e,t,n){var r=Yr(e);function o(){for(var u=arguments.length,d=U(u),p=u,k=Pr(o);p--;)d[p]=arguments[p];var Z=u<3&&d[0]!==k&&d[u-1]!==k?[]:Xn(d,k);if(u-=Z.length,u<n)return Os(e,t,Ai,o.placeholder,i,d,Z,i,i,n-u);var te=this&&this!==Jt&&this instanceof o?r:e;return dn(te,this,d)}return o}function ks(e){return function(t,n,r){var o=At(t);if(!un(t)){var u=We(n,3);t=qt(t),n=function(p){return u(o[p],p,o)}}var d=e(t,n,r);return d>-1?o[u?t[d]:d]:i}}function As(e){return Bn(function(t){var n=t.length,r=n,o=xn.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if(typeof u!="function")throw new bn(C);if(o&&!d&&Mi(u)=="wrapper")var d=new xn([],!0)}for(r=d?r:n;++r<n;){u=t[r];var p=Mi(u),k=p=="wrapper"?Lo(u):i;k&&zo(k[0])&&k[1]==(ve|c|f|ce)&&!k[4].length&&k[9]==1?d=d[Mi(k[0])].apply(d,k[3]):d=u.length==1&&zo(u)?d[p]():d.thru(u)}return function(){var Z=arguments,te=Z[0];if(d&&Z.length==1&&nt(te))return d.plant(te).value();for(var se=0,we=n?t[se].apply(this,Z):te;++se<n;)we=t[se].call(this,we);return we}})}function Ai(e,t,n,r,o,u,d,p,k,Z){var te=t&ve,se=t&L,we=t&ee,Oe=t&(c|K),Ue=t&ze,st=we?i:Yr(e);function Be(){for(var dt=arguments.length,gt=U(dt),vn=dt;vn--;)gt[vn]=arguments[vn];if(Oe)var nn=Pr(Be),pn=Ol(gt,nn);if(r&&(gt=ws(gt,r,o,Oe)),u&&(gt=bs(gt,u,d,Oe)),dt-=pn,Oe&&dt<Z){var Nt=Xn(gt,nn);return Os(e,t,Ai,Be.placeholder,n,gt,Nt,p,k,Z-dt)}var Fn=se?n:this,Gn=we?Fn[e]:e;return dt=gt.length,p?gt=Wf(gt,p):Ue&&dt>1&&gt.reverse(),te&&k<dt&&(gt.length=k),this&&this!==Jt&&this instanceof Be&&(Gn=st||Yr(Gn)),Gn.apply(Fn,gt)}return Be}function Ss(e,t){return function(n,r){return Gc(n,e,t(r),{})}}function Si(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;typeof n=="string"||typeof r=="string"?(n=gn(n),r=gn(r)):(n=ds(n),r=ds(r)),o=e(n,r)}return o}}function Io(e){return Bn(function(t){return t=Mt(t,hn(We())),ut(function(n){var r=this;return e(t,function(o){return dn(o,r,n)})})})}function Ci(e,t){t=t===i?" ":gn(t);var n=t.length;if(n<2)return n?To(t,e):t;var r=To(t,gi(e/kr(t)));return Tr(t)?nr(On(r),0,e).join(""):r.slice(0,e)}function yf(e,t,n,r){var o=t&L,u=Yr(e);function d(){for(var p=-1,k=arguments.length,Z=-1,te=r.length,se=U(te+k),we=this&&this!==Jt&&this instanceof d?u:e;++Z<te;)se[Z]=r[Z];for(;k--;)se[Z++]=arguments[++p];return dn(we,o?n:this,se)}return d}function Cs(e){return function(t,n,r){return r&&typeof r!="number"&&tn(t,n,r)&&(n=r=i),t=qn(t),n===i?(n=t,t=0):n=qn(n),r=r===i?t<n?1:-1:qn(r),rf(t,n,r,e)}}function Oi(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=An(t),n=An(n)),e(t,n)}}function Os(e,t,n,r,o,u,d,p,k,Z){var te=t&c,se=te?d:i,we=te?i:d,Oe=te?u:i,Ue=te?i:u;t|=te?f:ue,t&=~(te?ue:f),t&B||(t&=~(L|ee));var st=[e,t,o,Oe,se,Ue,we,p,k,Z],Be=n.apply(i,st);return zo(e)&&Bs(Be,st),Be.placeholder=r,$s(Be,e,t)}function Fo(e){var t=Bt[e];return function(n,r){if(n=An(n),r=r==null?0:Yt(it(r),292),r&&$a(n)){var o=(Et(n)+"e").split("e"),u=t(o[0]+"e"+(+o[1]+r));return o=(Et(u)+"e").split("e"),+(o[0]+"e"+(+o[1]-r))}return t(n)}}var wf=Cr&&1/ii(new Cr([,-0]))[1]==W?function(e){return new Cr(e)}:ea;function Ms(e){return function(t){var n=jt(t);return n==bt?so(t):n==fe?Dl(t):Cl(t,e(t))}}function Un(e,t,n,r,o,u,d,p){var k=t&ee;if(!k&&typeof e!="function")throw new bn(C);var Z=r?r.length:0;if(Z||(t&=~(f|ue),r=o=i),d=d===i?d:$t(it(d),0),p=p===i?p:it(p),Z-=o?o.length:0,t&ue){var te=r,se=o;r=o=i}var we=k?i:Lo(e),Oe=[e,t,n,r,o,te,se,u,d,p];if(we&&Lf(Oe,we),e=Oe[0],t=Oe[1],n=Oe[2],r=Oe[3],o=Oe[4],p=Oe[9]=Oe[9]===i?k?0:e.length:$t(Oe[9]-Z,0),!p&&t&(c|K)&&(t&=~(c|K)),!t||t==L)var Ue=pf(e,t,n);else t==c||t==K?Ue=mf(e,t,p):(t==f||t==(L|f))&&!o.length?Ue=yf(e,t,n,r):Ue=Ai.apply(i,Oe);var st=we?cs:Bs;return $s(st(Ue,Oe),e,t)}function Is(e,t,n,r){return e===i||In(e,Sr[n])&&!Tt.call(r,n)?t:e}function Fs(e,t,n,r,o,u){return It(e)&&It(t)&&(u.set(t,e),xi(e,t,i,Fs,u),u.delete(t)),e}function bf(e){return Zr(e)?i:e}function Ps(e,t,n,r,o,u){var d=n&E,p=e.length,k=t.length;if(p!=k&&!(d&&k>p))return!1;var Z=u.get(e),te=u.get(t);if(Z&&te)return Z==t&&te==e;var se=-1,we=!0,Oe=n&z?new hr:i;for(u.set(e,t),u.set(t,e);++se<p;){var Ue=e[se],st=t[se];if(r)var Be=d?r(st,Ue,se,t,e,u):r(Ue,st,se,e,t,u);if(Be!==i){if(Be)continue;we=!1;break}if(Oe){if(!to(t,function(dt,gt){if(!Wr(Oe,gt)&&(Ue===dt||o(Ue,dt,n,r,u)))return Oe.push(gt)})){we=!1;break}}else if(!(Ue===st||o(Ue,st,n,r,u))){we=!1;break}}return u.delete(e),u.delete(t),we}function xf(e,t,n,r,o,u,d){switch(n){case ie:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case T:return!(e.byteLength!=t.byteLength||!u(new ci(e),new ci(t)));case He:case ft:case Wt:return In(+e,+t);case wt:return e.name==t.name&&e.message==t.message;case ge:case Ee:return e==t+"";case bt:var p=so;case fe:var k=r&E;if(p||(p=ii),e.size!=t.size&&!k)return!1;var Z=d.get(e);if(Z)return Z==t;r|=z,d.set(e,t);var te=Ps(p(e),p(t),r,o,u,d);return d.delete(e),te;case Ne:if(Hr)return Hr.call(e)==Hr.call(t)}return!1}function Ef(e,t,n,r,o,u){var d=n&E,p=Po(e),k=p.length,Z=Po(t),te=Z.length;if(k!=te&&!d)return!1;for(var se=k;se--;){var we=p[se];if(!(d?we in t:Tt.call(t,we)))return!1}var Oe=u.get(e),Ue=u.get(t);if(Oe&&Ue)return Oe==t&&Ue==e;var st=!0;u.set(e,t),u.set(t,e);for(var Be=d;++se<k;){we=p[se];var dt=e[we],gt=t[we];if(r)var vn=d?r(gt,dt,we,t,e,u):r(dt,gt,we,e,t,u);if(!(vn===i?dt===gt||o(dt,gt,n,r,u):vn)){st=!1;break}Be||(Be=we=="constructor")}if(st&&!Be){var nn=e.constructor,pn=t.constructor;nn!=pn&&"constructor"in e&&"constructor"in t&&!(typeof nn=="function"&&nn instanceof nn&&typeof pn=="function"&&pn instanceof pn)&&(st=!1)}return u.delete(e),u.delete(t),st}function Bn(e){return Bo(zs(e,i,Vs),e+"")}function Po(e){return Qa(e,qt,No)}function Ro(e){return Qa(e,ln,Rs)}var Lo=vi?function(e){return vi.get(e)}:ea;function Mi(e){for(var t=e.name+"",n=Or[t],r=Tt.call(Or,t)?n.length:0;r--;){var o=n[r],u=o.func;if(u==null||u==e)return o.name}return t}function Pr(e){var t=Tt.call(a,"placeholder")?a:e;return t.placeholder}function We(){var e=a.iteratee||Zo;return e=e===Zo?ns:e,arguments.length?e(arguments[0],arguments[1]):e}function Ii(e,t){var n=e.__data__;return If(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Do(e){for(var t=qt(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Ns(o)]}return t}function vr(e,t){var n=Pl(e,t);return ts(n)?n:i}function Tf(e){var t=Tt.call(e,fr),n=e[fr];try{e[fr]=i;var r=!0}catch{}var o=ui.call(e);return r&&(t?e[fr]=n:delete e[fr]),o}var No=lo?function(e){return e==null?[]:(e=At(e),Yn(lo(e),function(t){return Ua.call(e,t)}))}:ta,Rs=lo?function(e){for(var t=[];e;)jn(t,No(e)),e=fi(e);return t}:ta,jt=en;(co&&jt(new co(new ArrayBuffer(1)))!=ie||Ur&&jt(new Ur)!=bt||fo&&jt(fo.resolve())!=m||Cr&&jt(new Cr)!=fe||Br&&jt(new Br)!=Se)&&(jt=function(e){var t=en(e),n=t==he?e.constructor:i,r=n?pr(n):"";if(r)switch(r){case oc:return ie;case ac:return bt;case sc:return m;case uc:return fe;case lc:return Se}return t});function kf(e,t,n){for(var r=-1,o=n.length;++r<o;){var u=n[r],d=u.size;switch(u.type){case"drop":e+=d;break;case"dropRight":t-=d;break;case"take":t=Yt(t,e+d);break;case"takeRight":e=$t(e,t-d);break}}return{start:e,end:t}}function Af(e){var t=e.match(Zt);return t?t[1].split(lr):[]}function Ls(e,t,n){t=tr(t,e);for(var r=-1,o=t.length,u=!1;++r<o;){var d=Ln(t[r]);if(!(u=e!=null&&n(e,d)))break;e=e[d]}return u||++r!=o?u:(o=e==null?0:e.length,!!o&&Wi(o)&&$n(d,o)&&(nt(e)||mr(e)))}function Sf(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Tt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Ds(e){return typeof e.constructor=="function"&&!jr(e)?Mr(fi(e)):{}}function Cf(e,t,n){var r=e.constructor;switch(t){case T:return Mo(e);case He:case ft:return new r(+e);case ie:return ff(e,n);case _:case F:case w:case D:case $:case X:case Je:case ct:case zt:return ms(e,n);case bt:return new r;case Wt:case Ee:return new r(e);case ge:return df(e);case fe:return new r;case Ne:return hf(e)}}function Of(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ur,`{
/* [wrapped with `+t+`] */
`)}function Mf(e){return nt(e)||mr(e)||!!(Ba&&e&&e[Ba])}function $n(e,t){var n=typeof e;return t=t??ae,!!t&&(n=="number"||n!="symbol"&&Qe.test(e))&&e>-1&&e%1==0&&e<t}function tn(e,t,n){if(!It(n))return!1;var r=typeof t;return(r=="number"?un(n)&&$n(t,n.length):r=="string"&&t in n)?In(n[t],e):!1}function Wo(e,t){if(nt(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||_n(e)?!0:pt.test(e)||!rt.test(e)||t!=null&&e in At(t)}function If(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function zo(e){var t=Mi(e),n=a[t];if(typeof n!="function"||!(t in ht.prototype))return!1;if(e===n)return!0;var r=Lo(n);return!!r&&e===r[0]}function Ff(e){return!!Na&&Na in e}var Pf=ai?Hn:na;function jr(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Sr;return e===n}function Ns(e){return e===e&&!It(e)}function Ws(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==i||e in At(n))}}function Rf(e){var t=Di(e,function(r){return n.size===ye&&n.clear(),r}),n=t.cache;return t}function Lf(e,t){var n=e[1],r=t[1],o=n|r,u=o<(L|ee|ve),d=r==ve&&n==c||r==ve&&n==ce&&e[7].length<=t[8]||r==(ve|ce)&&t[7].length<=t[8]&&n==c;if(!(u||d))return e;r&L&&(e[2]=t[2],o|=n&L?0:B);var p=t[3];if(p){var k=e[3];e[3]=k?ws(k,p,t[4]):p,e[4]=k?Xn(e[3],le):t[4]}return p=t[5],p&&(k=e[5],e[5]=k?bs(k,p,t[6]):p,e[6]=k?Xn(e[5],le):t[6]),p=t[7],p&&(e[7]=p),r&ve&&(e[8]=e[8]==null?t[8]:Yt(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}function Df(e){var t=[];if(e!=null)for(var n in At(e))t.push(n);return t}function Nf(e){return ui.call(e)}function zs(e,t,n){return t=$t(t===i?e.length-1:t,0),function(){for(var r=arguments,o=-1,u=$t(r.length-t,0),d=U(u);++o<u;)d[o]=r[t+o];o=-1;for(var p=U(t+1);++o<t;)p[o]=r[o];return p[t]=n(d),dn(e,this,p)}}function Us(e,t){return t.length<2?e:_r(e,Tn(t,0,-1))}function Wf(e,t){for(var n=e.length,r=Yt(t.length,n),o=sn(e);r--;){var u=t[r];e[r]=$n(u,n)?o[u]:i}return e}function Uo(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Bs=Hs(cs),Xr=Zl||function(e,t){return Jt.setTimeout(e,t)},Bo=Hs(sf);function $s(e,t,n){var r=t+"";return Bo(e,Of(r,zf(Af(r),n)))}function Hs(e){var t=0,n=0;return function(){var r=nc(),o=q-(r-n);if(n=r,o>0){if(++t>=be)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Fi(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var u=Eo(n,o),d=e[u];e[u]=e[n],e[n]=d}return e.length=t,e}var qs=Rf(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Pt,function(n,r,o,u){t.push(o?u.replace(V,"$1"):r||n)}),t});function Ln(e){if(typeof e=="string"||_n(e))return e;var t=e+"";return t=="0"&&1/e==-W?"-0":t}function pr(e){if(e!=null){try{return si.call(e)}catch{}try{return e+""}catch{}}return""}function zf(e,t){return wn(yt,function(n){var r="_."+n[0];t&n[1]&&!ni(e,r)&&e.push(r)}),e.sort()}function Gs(e){if(e instanceof ht)return e.clone();var t=new xn(e.__wrapped__,e.__chain__);return t.__actions__=sn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Uf(e,t,n){(n?tn(e,t,n):t===i)?t=1:t=$t(it(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var o=0,u=0,d=U(gi(r/t));o<r;)d[u++]=Tn(e,o,o+=t);return d}function Bf(e){for(var t=-1,n=e==null?0:e.length,r=0,o=[];++t<n;){var u=e[t];u&&(o[r++]=u)}return o}function $f(){var e=arguments.length;if(!e)return[];for(var t=U(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return jn(nt(n)?sn(n):[n],Kt(t,1))}var Hf=ut(function(e,t){return Dt(e)?Gr(e,Kt(t,1,Dt,!0)):[]}),qf=ut(function(e,t){var n=kn(t);return Dt(n)&&(n=i),Dt(e)?Gr(e,Kt(t,1,Dt,!0),We(n,2)):[]}),Gf=ut(function(e,t){var n=kn(t);return Dt(n)&&(n=i),Dt(e)?Gr(e,Kt(t,1,Dt,!0),i,n):[]});function Jf(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===i?1:it(t),Tn(e,t<0?0:t,r)):[]}function Kf(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===i?1:it(t),t=r-t,Tn(e,0,t<0?0:t)):[]}function Vf(e,t){return e&&e.length?Ti(e,We(t,3),!0,!0):[]}function Yf(e,t){return e&&e.length?Ti(e,We(t,3),!0):[]}function jf(e,t,n,r){var o=e==null?0:e.length;return o?(n&&typeof n!="number"&&tn(e,t,n)&&(n=0,r=o),Bc(e,t,n,r)):[]}function Js(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:it(n);return o<0&&(o=$t(r+o,0)),ri(e,We(t,3),o)}function Ks(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=it(n),o=n<0?$t(r+o,0):Yt(o,r-1)),ri(e,We(t,3),o,!0)}function Vs(e){var t=e==null?0:e.length;return t?Kt(e,1):[]}function Xf(e){var t=e==null?0:e.length;return t?Kt(e,W):[]}function Zf(e,t){var n=e==null?0:e.length;return n?(t=t===i?1:it(t),Kt(e,t)):[]}function Qf(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r}function Ys(e){return e&&e.length?e[0]:i}function ed(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:it(n);return o<0&&(o=$t(r+o,0)),Er(e,t,o)}function td(e){var t=e==null?0:e.length;return t?Tn(e,0,-1):[]}var nd=ut(function(e){var t=Mt(e,Co);return t.length&&t[0]===e[0]?mo(t):[]}),rd=ut(function(e){var t=kn(e),n=Mt(e,Co);return t===kn(n)?t=i:n.pop(),n.length&&n[0]===e[0]?mo(n,We(t,2)):[]}),id=ut(function(e){var t=kn(e),n=Mt(e,Co);return t=typeof t=="function"?t:i,t&&n.pop(),n.length&&n[0]===e[0]?mo(n,i,t):[]});function od(e,t){return e==null?"":ec.call(e,t)}function kn(e){var t=e==null?0:e.length;return t?e[t-1]:i}function ad(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=it(n),o=o<0?$t(r+o,0):Yt(o,r-1)),t===t?Wl(e,t,o):ri(e,Oa,o,!0)}function sd(e,t){return e&&e.length?as(e,it(t)):i}var ud=ut(js);function js(e,t){return e&&e.length&&t&&t.length?xo(e,t):e}function ld(e,t,n){return e&&e.length&&t&&t.length?xo(e,t,We(n,2)):e}function cd(e,t,n){return e&&e.length&&t&&t.length?xo(e,t,i,n):e}var fd=Bn(function(e,t){var n=e==null?0:e.length,r=go(e,t);return ls(e,Mt(t,function(o){return $n(o,n)?+o:o}).sort(ys)),r});function dd(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,o=[],u=e.length;for(t=We(t,3);++r<u;){var d=e[r];t(d,r,e)&&(n.push(d),o.push(r))}return ls(e,o),n}function $o(e){return e==null?e:ic.call(e)}function hd(e,t,n){var r=e==null?0:e.length;return r?(n&&typeof n!="number"&&tn(e,t,n)?(t=0,n=r):(t=t==null?0:it(t),n=n===i?r:it(n)),Tn(e,t,n)):[]}function gd(e,t){return Ei(e,t)}function _d(e,t,n){return ko(e,t,We(n,2))}function vd(e,t){var n=e==null?0:e.length;if(n){var r=Ei(e,t);if(r<n&&In(e[r],t))return r}return-1}function pd(e,t){return Ei(e,t,!0)}function md(e,t,n){return ko(e,t,We(n,2),!0)}function yd(e,t){var n=e==null?0:e.length;if(n){var r=Ei(e,t,!0)-1;if(In(e[r],t))return r}return-1}function wd(e){return e&&e.length?fs(e):[]}function bd(e,t){return e&&e.length?fs(e,We(t,2)):[]}function xd(e){var t=e==null?0:e.length;return t?Tn(e,1,t):[]}function Ed(e,t,n){return e&&e.length?(t=n||t===i?1:it(t),Tn(e,0,t<0?0:t)):[]}function Td(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===i?1:it(t),t=r-t,Tn(e,t<0?0:t,r)):[]}function kd(e,t){return e&&e.length?Ti(e,We(t,3),!1,!0):[]}function Ad(e,t){return e&&e.length?Ti(e,We(t,3)):[]}var Sd=ut(function(e){return er(Kt(e,1,Dt,!0))}),Cd=ut(function(e){var t=kn(e);return Dt(t)&&(t=i),er(Kt(e,1,Dt,!0),We(t,2))}),Od=ut(function(e){var t=kn(e);return t=typeof t=="function"?t:i,er(Kt(e,1,Dt,!0),i,t)});function Md(e){return e&&e.length?er(e):[]}function Id(e,t){return e&&e.length?er(e,We(t,2)):[]}function Fd(e,t){return t=typeof t=="function"?t:i,e&&e.length?er(e,i,t):[]}function Ho(e){if(!(e&&e.length))return[];var t=0;return e=Yn(e,function(n){if(Dt(n))return t=$t(n.length,t),!0}),oo(t,function(n){return Mt(e,no(n))})}function Xs(e,t){if(!(e&&e.length))return[];var n=Ho(e);return t==null?n:Mt(n,function(r){return dn(t,i,r)})}var Pd=ut(function(e,t){return Dt(e)?Gr(e,t):[]}),Rd=ut(function(e){return So(Yn(e,Dt))}),Ld=ut(function(e){var t=kn(e);return Dt(t)&&(t=i),So(Yn(e,Dt),We(t,2))}),Dd=ut(function(e){var t=kn(e);return t=typeof t=="function"?t:i,So(Yn(e,Dt),i,t)}),Nd=ut(Ho);function Wd(e,t){return _s(e||[],t||[],qr)}function zd(e,t){return _s(e||[],t||[],Vr)}var Ud=ut(function(e){var t=e.length,n=t>1?e[t-1]:i;return n=typeof n=="function"?(e.pop(),n):i,Xs(e,n)});function Zs(e){var t=a(e);return t.__chain__=!0,t}function Bd(e,t){return t(e),e}function Pi(e,t){return t(e)}var $d=Bn(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(u){return go(u,e)};return t>1||this.__actions__.length||!(r instanceof ht)||!$n(n)?this.thru(o):(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:Pi,args:[o],thisArg:i}),new xn(r,this.__chain__).thru(function(u){return t&&!u.length&&u.push(i),u}))});function Hd(){return Zs(this)}function qd(){return new xn(this.value(),this.__chain__)}function Gd(){this.__values__===i&&(this.__values__=du(this.value()));var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}}function Jd(){return this}function Kd(e){for(var t,n=this;n instanceof mi;){var r=Gs(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t}function Vd(){var e=this.__wrapped__;if(e instanceof ht){var t=e;return this.__actions__.length&&(t=new ht(this)),t=t.reverse(),t.__actions__.push({func:Pi,args:[$o],thisArg:i}),new xn(t,this.__chain__)}return this.thru($o)}function Yd(){return gs(this.__wrapped__,this.__actions__)}var jd=ki(function(e,t,n){Tt.call(e,n)?++e[n]:zn(e,n,1)});function Xd(e,t,n){var r=nt(e)?Sa:Uc;return n&&tn(e,t,n)&&(t=i),r(e,We(t,3))}function Zd(e,t){var n=nt(e)?Yn:Xa;return n(e,We(t,3))}var Qd=ks(Js),eh=ks(Ks);function th(e,t){return Kt(Ri(e,t),1)}function nh(e,t){return Kt(Ri(e,t),W)}function rh(e,t,n){return n=n===i?1:it(n),Kt(Ri(e,t),n)}function Qs(e,t){var n=nt(e)?wn:Qn;return n(e,We(t,3))}function eu(e,t){var n=nt(e)?bl:ja;return n(e,We(t,3))}var ih=ki(function(e,t,n){Tt.call(e,n)?e[n].push(t):zn(e,n,[t])});function oh(e,t,n,r){e=un(e)?e:Lr(e),n=n&&!r?it(n):0;var o=e.length;return n<0&&(n=$t(o+n,0)),zi(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Er(e,t,n)>-1}var ah=ut(function(e,t,n){var r=-1,o=typeof t=="function",u=un(e)?U(e.length):[];return Qn(e,function(d){u[++r]=o?dn(t,d,n):Jr(d,t,n)}),u}),sh=ki(function(e,t,n){zn(e,n,t)});function Ri(e,t){var n=nt(e)?Mt:rs;return n(e,We(t,3))}function uh(e,t,n,r){return e==null?[]:(nt(t)||(t=t==null?[]:[t]),n=r?i:n,nt(n)||(n=n==null?[]:[n]),ss(e,t,n))}var lh=ki(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function ch(e,t,n){var r=nt(e)?eo:Ia,o=arguments.length<3;return r(e,We(t,4),n,o,Qn)}function fh(e,t,n){var r=nt(e)?xl:Ia,o=arguments.length<3;return r(e,We(t,4),n,o,ja)}function dh(e,t){var n=nt(e)?Yn:Xa;return n(e,Ni(We(t,3)))}function hh(e){var t=nt(e)?Ja:of;return t(e)}function gh(e,t,n){(n?tn(e,t,n):t===i)?t=1:t=it(t);var r=nt(e)?Lc:af;return r(e,t)}function _h(e){var t=nt(e)?Dc:uf;return t(e)}function vh(e){if(e==null)return 0;if(un(e))return zi(e)?kr(e):e.length;var t=jt(e);return t==bt||t==fe?e.size:wo(e).length}function ph(e,t,n){var r=nt(e)?to:lf;return n&&tn(e,t,n)&&(t=i),r(e,We(t,3))}var mh=ut(function(e,t){if(e==null)return[];var n=t.length;return n>1&&tn(e,t[0],t[1])?t=[]:n>2&&tn(t[0],t[1],t[2])&&(t=[t[0]]),ss(e,Kt(t,1),[])}),Li=Xl||function(){return Jt.Date.now()};function yh(e,t){if(typeof t!="function")throw new bn(C);return e=it(e),function(){if(--e<1)return t.apply(this,arguments)}}function tu(e,t,n){return t=n?i:t,t=e&&t==null?e.length:t,Un(e,ve,i,i,i,i,t)}function nu(e,t){var n;if(typeof t!="function")throw new bn(C);return e=it(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var qo=ut(function(e,t,n){var r=L;if(n.length){var o=Xn(n,Pr(qo));r|=f}return Un(e,r,t,n,o)}),ru=ut(function(e,t,n){var r=L|ee;if(n.length){var o=Xn(n,Pr(ru));r|=f}return Un(t,r,e,n,o)});function iu(e,t,n){t=n?i:t;var r=Un(e,c,i,i,i,i,i,t);return r.placeholder=iu.placeholder,r}function ou(e,t,n){t=n?i:t;var r=Un(e,K,i,i,i,i,i,t);return r.placeholder=ou.placeholder,r}function au(e,t,n){var r,o,u,d,p,k,Z=0,te=!1,se=!1,we=!0;if(typeof e!="function")throw new bn(C);t=An(t)||0,It(n)&&(te=!!n.leading,se="maxWait"in n,u=se?$t(An(n.maxWait)||0,t):u,we="trailing"in n?!!n.trailing:we);function Oe(Nt){var Fn=r,Gn=o;return r=o=i,Z=Nt,d=e.apply(Gn,Fn),d}function Ue(Nt){return Z=Nt,p=Xr(dt,t),te?Oe(Nt):d}function st(Nt){var Fn=Nt-k,Gn=Nt-Z,ku=t-Fn;return se?Yt(ku,u-Gn):ku}function Be(Nt){var Fn=Nt-k,Gn=Nt-Z;return k===i||Fn>=t||Fn<0||se&&Gn>=u}function dt(){var Nt=Li();if(Be(Nt))return gt(Nt);p=Xr(dt,st(Nt))}function gt(Nt){return p=i,we&&r?Oe(Nt):(r=o=i,d)}function vn(){p!==i&&vs(p),Z=0,r=k=o=p=i}function nn(){return p===i?d:gt(Li())}function pn(){var Nt=Li(),Fn=Be(Nt);if(r=arguments,o=this,k=Nt,Fn){if(p===i)return Ue(k);if(se)return vs(p),p=Xr(dt,t),Oe(k)}return p===i&&(p=Xr(dt,t)),d}return pn.cancel=vn,pn.flush=nn,pn}var wh=ut(function(e,t){return Ya(e,1,t)}),bh=ut(function(e,t,n){return Ya(e,An(t)||0,n)});function xh(e){return Un(e,ze)}function Di(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new bn(C);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],u=n.cache;if(u.has(o))return u.get(o);var d=e.apply(this,r);return n.cache=u.set(o,d)||u,d};return n.cache=new(Di.Cache||Wn),n}Di.Cache=Wn;function Ni(e){if(typeof e!="function")throw new bn(C);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Eh(e){return nu(2,e)}var Th=cf(function(e,t){t=t.length==1&&nt(t[0])?Mt(t[0],hn(We())):Mt(Kt(t,1),hn(We()));var n=t.length;return ut(function(r){for(var o=-1,u=Yt(r.length,n);++o<u;)r[o]=t[o].call(this,r[o]);return dn(e,this,r)})}),Go=ut(function(e,t){var n=Xn(t,Pr(Go));return Un(e,f,i,t,n)}),su=ut(function(e,t){var n=Xn(t,Pr(su));return Un(e,ue,i,t,n)}),kh=Bn(function(e,t){return Un(e,ce,i,i,i,t)});function Ah(e,t){if(typeof e!="function")throw new bn(C);return t=t===i?t:it(t),ut(e,t)}function Sh(e,t){if(typeof e!="function")throw new bn(C);return t=t==null?0:$t(it(t),0),ut(function(n){var r=n[t],o=nr(n,0,t);return r&&jn(o,r),dn(e,this,o)})}function Ch(e,t,n){var r=!0,o=!0;if(typeof e!="function")throw new bn(C);return It(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),au(e,t,{leading:r,maxWait:t,trailing:o})}function Oh(e){return tu(e,1)}function Mh(e,t){return Go(Oo(t),e)}function Ih(){if(!arguments.length)return[];var e=arguments[0];return nt(e)?e:[e]}function Fh(e){return En(e,P)}function Ph(e,t){return t=typeof t=="function"?t:i,En(e,P,t)}function Rh(e){return En(e,Q|P)}function Lh(e,t){return t=typeof t=="function"?t:i,En(e,Q|P,t)}function Dh(e,t){return t==null||Va(e,t,qt(t))}function In(e,t){return e===t||e!==e&&t!==t}var Nh=Oi(po),Wh=Oi(function(e,t){return e>=t}),mr=es(function(){return arguments}())?es:function(e){return Rt(e)&&Tt.call(e,"callee")&&!Ua.call(e,"callee")},nt=U.isArray,zh=ba?hn(ba):Jc;function un(e){return e!=null&&Wi(e.length)&&!Hn(e)}function Dt(e){return Rt(e)&&un(e)}function Uh(e){return e===!0||e===!1||Rt(e)&&en(e)==He}var rr=Ql||na,Bh=xa?hn(xa):Kc;function $h(e){return Rt(e)&&e.nodeType===1&&!Zr(e)}function Hh(e){if(e==null)return!0;if(un(e)&&(nt(e)||typeof e=="string"||typeof e.splice=="function"||rr(e)||Rr(e)||mr(e)))return!e.length;var t=jt(e);if(t==bt||t==fe)return!e.size;if(jr(e))return!wo(e).length;for(var n in e)if(Tt.call(e,n))return!1;return!0}function qh(e,t){return Kr(e,t)}function Gh(e,t,n){n=typeof n=="function"?n:i;var r=n?n(e,t):i;return r===i?Kr(e,t,i,n):!!r}function Jo(e){if(!Rt(e))return!1;var t=en(e);return t==wt||t==lt||typeof e.message=="string"&&typeof e.name=="string"&&!Zr(e)}function Jh(e){return typeof e=="number"&&$a(e)}function Hn(e){if(!It(e))return!1;var t=en(e);return t==at||t==Ut||t==Ye||t==H}function uu(e){return typeof e=="number"&&e==it(e)}function Wi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ae}function It(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Rt(e){return e!=null&&typeof e=="object"}var lu=Ea?hn(Ea):Yc;function Kh(e,t){return e===t||yo(e,t,Do(t))}function Vh(e,t,n){return n=typeof n=="function"?n:i,yo(e,t,Do(t),n)}function Yh(e){return cu(e)&&e!=+e}function jh(e){if(Pf(e))throw new tt(l);return ts(e)}function Xh(e){return e===null}function Zh(e){return e==null}function cu(e){return typeof e=="number"||Rt(e)&&en(e)==Wt}function Zr(e){if(!Rt(e)||en(e)!=he)return!1;var t=fi(e);if(t===null)return!0;var n=Tt.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&si.call(n)==Kl}var Ko=Ta?hn(Ta):jc;function Qh(e){return uu(e)&&e>=-ae&&e<=ae}var fu=ka?hn(ka):Xc;function zi(e){return typeof e=="string"||!nt(e)&&Rt(e)&&en(e)==Ee}function _n(e){return typeof e=="symbol"||Rt(e)&&en(e)==Ne}var Rr=Aa?hn(Aa):Zc;function eg(e){return e===i}function tg(e){return Rt(e)&&jt(e)==Se}function ng(e){return Rt(e)&&en(e)==kt}var rg=Oi(bo),ig=Oi(function(e,t){return e<=t});function du(e){if(!e)return[];if(un(e))return zi(e)?On(e):sn(e);if(zr&&e[zr])return Ll(e[zr]());var t=jt(e),n=t==bt?so:t==fe?ii:Lr;return n(e)}function qn(e){if(!e)return e===0?e:0;if(e=An(e),e===W||e===-W){var t=e<0?-1:1;return t*de}return e===e?e:0}function it(e){var t=qn(e),n=t%1;return t===t?n?t-n:t:0}function hu(e){return e?gr(it(e),0,re):0}function An(e){if(typeof e=="number")return e;if(_n(e))return ne;if(It(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=It(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Fa(e);var n=xe.test(e);return n||je.test(e)?ml(e.slice(2),n?2:8):oe.test(e)?ne:+e}function gu(e){return Rn(e,ln(e))}function og(e){return e?gr(it(e),-ae,ae):e===0?e:0}function Et(e){return e==null?"":gn(e)}var ag=Ir(function(e,t){if(jr(t)||un(t)){Rn(t,qt(t),e);return}for(var n in t)Tt.call(t,n)&&qr(e,n,t[n])}),_u=Ir(function(e,t){Rn(t,ln(t),e)}),Ui=Ir(function(e,t,n,r){Rn(t,ln(t),e,r)}),sg=Ir(function(e,t,n,r){Rn(t,qt(t),e,r)}),ug=Bn(go);function lg(e,t){var n=Mr(e);return t==null?n:Ka(n,t)}var cg=ut(function(e,t){e=At(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&tn(t[0],t[1],o)&&(r=1);++n<r;)for(var u=t[n],d=ln(u),p=-1,k=d.length;++p<k;){var Z=d[p],te=e[Z];(te===i||In(te,Sr[Z])&&!Tt.call(e,Z))&&(e[Z]=u[Z])}return e}),fg=ut(function(e){return e.push(i,Fs),dn(vu,i,e)});function dg(e,t){return Ca(e,We(t,3),Pn)}function hg(e,t){return Ca(e,We(t,3),vo)}function gg(e,t){return e==null?e:_o(e,We(t,3),ln)}function _g(e,t){return e==null?e:Za(e,We(t,3),ln)}function vg(e,t){return e&&Pn(e,We(t,3))}function pg(e,t){return e&&vo(e,We(t,3))}function mg(e){return e==null?[]:bi(e,qt(e))}function yg(e){return e==null?[]:bi(e,ln(e))}function Vo(e,t,n){var r=e==null?i:_r(e,t);return r===i?n:r}function wg(e,t){return e!=null&&Ls(e,t,$c)}function Yo(e,t){return e!=null&&Ls(e,t,Hc)}var bg=Ss(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=ui.call(t)),e[t]=n},Xo(cn)),xg=Ss(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=ui.call(t)),Tt.call(e,t)?e[t].push(n):e[t]=[n]},We),Eg=ut(Jr);function qt(e){return un(e)?Ga(e):wo(e)}function ln(e){return un(e)?Ga(e,!0):Qc(e)}function Tg(e,t){var n={};return t=We(t,3),Pn(e,function(r,o,u){zn(n,t(r,o,u),r)}),n}function kg(e,t){var n={};return t=We(t,3),Pn(e,function(r,o,u){zn(n,o,t(r,o,u))}),n}var Ag=Ir(function(e,t,n){xi(e,t,n)}),vu=Ir(function(e,t,n,r){xi(e,t,n,r)}),Sg=Bn(function(e,t){var n={};if(e==null)return n;var r=!1;t=Mt(t,function(u){return u=tr(u,e),r||(r=u.length>1),u}),Rn(e,Ro(e),n),r&&(n=En(n,Q|M|P,bf));for(var o=t.length;o--;)Ao(n,t[o]);return n});function Cg(e,t){return pu(e,Ni(We(t)))}var Og=Bn(function(e,t){return e==null?{}:tf(e,t)});function pu(e,t){if(e==null)return{};var n=Mt(Ro(e),function(r){return[r]});return t=We(t),us(e,n,function(r,o){return t(r,o[0])})}function Mg(e,t,n){t=tr(t,e);var r=-1,o=t.length;for(o||(o=1,e=i);++r<o;){var u=e==null?i:e[Ln(t[r])];u===i&&(r=o,u=n),e=Hn(u)?u.call(e):u}return e}function Ig(e,t,n){return e==null?e:Vr(e,t,n)}function Fg(e,t,n,r){return r=typeof r=="function"?r:i,e==null?e:Vr(e,t,n,r)}var mu=Ms(qt),yu=Ms(ln);function Pg(e,t,n){var r=nt(e),o=r||rr(e)||Rr(e);if(t=We(t,4),n==null){var u=e&&e.constructor;o?n=r?new u:[]:It(e)?n=Hn(u)?Mr(fi(e)):{}:n={}}return(o?wn:Pn)(e,function(d,p,k){return t(n,d,p,k)}),n}function Rg(e,t){return e==null?!0:Ao(e,t)}function Lg(e,t,n){return e==null?e:hs(e,t,Oo(n))}function Dg(e,t,n,r){return r=typeof r=="function"?r:i,e==null?e:hs(e,t,Oo(n),r)}function Lr(e){return e==null?[]:ao(e,qt(e))}function Ng(e){return e==null?[]:ao(e,ln(e))}function Wg(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=An(n),n=n===n?n:0),t!==i&&(t=An(t),t=t===t?t:0),gr(An(e),t,n)}function zg(e,t,n){return t=qn(t),n===i?(n=t,t=0):n=qn(n),e=An(e),qc(e,t,n)}function Ug(e,t,n){if(n&&typeof n!="boolean"&&tn(e,t,n)&&(t=n=i),n===i&&(typeof t=="boolean"?(n=t,t=i):typeof e=="boolean"&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=qn(e),t===i?(t=e,e=0):t=qn(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Ha();return Yt(e+o*(t-e+pl("1e-"+((o+"").length-1))),t)}return Eo(e,t)}var Bg=Fr(function(e,t,n){return t=t.toLowerCase(),e+(n?wu(t):t)});function wu(e){return jo(Et(e).toLowerCase())}function bu(e){return e=Et(e),e&&e.replace(et,Ml).replace(sl,"")}function $g(e,t,n){e=Et(e),t=gn(t);var r=e.length;n=n===i?r:gr(it(n),0,r);var o=n;return n-=t.length,n>=0&&e.slice(n,o)==t}function Hg(e){return e=Et(e),e&&me.test(e)?e.replace(pe,Il):e}function qg(e){return e=Et(e),e&&Cn.test(e)?e.replace(Vt,"\\$&"):e}var Gg=Fr(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Jg=Fr(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Kg=Ts("toLowerCase");function Vg(e,t,n){e=Et(e),t=it(t);var r=t?kr(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Ci(_i(o),n)+e+Ci(gi(o),n)}function Yg(e,t,n){e=Et(e),t=it(t);var r=t?kr(e):0;return t&&r<t?e+Ci(t-r,n):e}function jg(e,t,n){e=Et(e),t=it(t);var r=t?kr(e):0;return t&&r<t?Ci(t-r,n)+e:e}function Xg(e,t,n){return n||t==null?t=0:t&&(t=+t),rc(Et(e).replace(Vn,""),t||0)}function Zg(e,t,n){return(n?tn(e,t,n):t===i)?t=1:t=it(t),To(Et(e),t)}function Qg(){var e=arguments,t=Et(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var e_=Fr(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function t_(e,t,n){return n&&typeof n!="number"&&tn(e,t,n)&&(t=n=i),n=n===i?re:n>>>0,n?(e=Et(e),e&&(typeof t=="string"||t!=null&&!Ko(t))&&(t=gn(t),!t&&Tr(e))?nr(On(e),0,n):e.split(t,n)):[]}var n_=Fr(function(e,t,n){return e+(n?" ":"")+jo(t)});function r_(e,t,n){return e=Et(e),n=n==null?0:gr(it(n),0,e.length),t=gn(t),e.slice(n,n+t.length)==t}function i_(e,t,n){var r=a.templateSettings;n&&tn(e,t,n)&&(t=i),e=Et(e),t=Ui({},t,r,Is);var o=Ui({},t.imports,r.imports,Is),u=qt(o),d=ao(o,u),p,k,Z=0,te=t.interpolate||Re,se="__p += '",we=uo((t.escape||Re).source+"|"+te.source+"|"+(te===qe?g:Re).source+"|"+(t.evaluate||Re).source+"|$","g"),Oe="//# sourceURL="+(Tt.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++dl+"]")+`
`;e.replace(we,function(Be,dt,gt,vn,nn,pn){return gt||(gt=vn),se+=e.slice(Z,pn).replace(Fe,Fl),dt&&(p=!0,se+=`' +
__e(`+dt+`) +
'`),nn&&(k=!0,se+=`';
`+nn+`;
__p += '`),gt&&(se+=`' +
((__t = (`+gt+`)) == null ? '' : __t) +
'`),Z=pn+Be.length,Be}),se+=`';
`;var Ue=Tt.call(t,"variable")&&t.variable;if(!Ue)se=`with (obj) {
`+se+`
}
`;else if(R.test(Ue))throw new tt(N);se=(k?se.replace(fn,""):se).replace(Ft,"$1").replace(xt,"$1;"),se="function("+(Ue||"obj")+`) {
`+(Ue?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(p?", __e = _.escape":"")+(k?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+se+`return __p
}`;var st=Eu(function(){return mt(u,Oe+"return "+se).apply(i,d)});if(st.source=se,Jo(st))throw st;return st}function o_(e){return Et(e).toLowerCase()}function a_(e){return Et(e).toUpperCase()}function s_(e,t,n){if(e=Et(e),e&&(n||t===i))return Fa(e);if(!e||!(t=gn(t)))return e;var r=On(e),o=On(t),u=Pa(r,o),d=Ra(r,o)+1;return nr(r,u,d).join("")}function u_(e,t,n){if(e=Et(e),e&&(n||t===i))return e.slice(0,Da(e)+1);if(!e||!(t=gn(t)))return e;var r=On(e),o=Ra(r,On(t))+1;return nr(r,0,o).join("")}function l_(e,t,n){if(e=Et(e),e&&(n||t===i))return e.replace(Vn,"");if(!e||!(t=gn(t)))return e;var r=On(e),o=Pa(r,On(t));return nr(r,o).join("")}function c_(e,t){var n=Le,r=ot;if(It(t)){var o="separator"in t?t.separator:o;n="length"in t?it(t.length):n,r="omission"in t?gn(t.omission):r}e=Et(e);var u=e.length;if(Tr(e)){var d=On(e);u=d.length}if(n>=u)return e;var p=n-kr(r);if(p<1)return r;var k=d?nr(d,0,p).join(""):e.slice(0,p);if(o===i)return k+r;if(d&&(p+=k.length-p),Ko(o)){if(e.slice(p).search(o)){var Z,te=k;for(o.global||(o=uo(o.source,Et(S.exec(o))+"g")),o.lastIndex=0;Z=o.exec(te);)var se=Z.index;k=k.slice(0,se===i?p:se)}}else if(e.indexOf(gn(o),p)!=p){var we=k.lastIndexOf(o);we>-1&&(k=k.slice(0,we))}return k+r}function f_(e){return e=Et(e),e&&_e.test(e)?e.replace(ke,zl):e}var d_=Fr(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),jo=Ts("toUpperCase");function xu(e,t,n){return e=Et(e),t=n?i:t,t===i?Rl(e)?$l(e):kl(e):e.match(t)||[]}var Eu=ut(function(e,t){try{return dn(e,i,t)}catch(n){return Jo(n)?n:new tt(n)}}),h_=Bn(function(e,t){return wn(t,function(n){n=Ln(n),zn(e,n,qo(e[n],e))}),e});function g_(e){var t=e==null?0:e.length,n=We();return e=t?Mt(e,function(r){if(typeof r[1]!="function")throw new bn(C);return[n(r[0]),r[1]]}):[],ut(function(r){for(var o=-1;++o<t;){var u=e[o];if(dn(u[0],this,r))return dn(u[1],this,r)}})}function __(e){return zc(En(e,Q))}function Xo(e){return function(){return e}}function v_(e,t){return e==null||e!==e?t:e}var p_=As(),m_=As(!0);function cn(e){return e}function Zo(e){return ns(typeof e=="function"?e:En(e,Q))}function y_(e){return is(En(e,Q))}function w_(e,t){return os(e,En(t,Q))}var b_=ut(function(e,t){return function(n){return Jr(n,e,t)}}),x_=ut(function(e,t){return function(n){return Jr(e,n,t)}});function Qo(e,t,n){var r=qt(t),o=bi(t,r);n==null&&!(It(t)&&(o.length||!r.length))&&(n=t,t=e,e=this,o=bi(t,qt(t)));var u=!(It(n)&&"chain"in n)||!!n.chain,d=Hn(e);return wn(o,function(p){var k=t[p];e[p]=k,d&&(e.prototype[p]=function(){var Z=this.__chain__;if(u||Z){var te=e(this.__wrapped__),se=te.__actions__=sn(this.__actions__);return se.push({func:k,args:arguments,thisArg:e}),te.__chain__=Z,te}return k.apply(e,jn([this.value()],arguments))})}),e}function E_(){return Jt._===this&&(Jt._=Vl),this}function ea(){}function T_(e){return e=it(e),ut(function(t){return as(t,e)})}var k_=Io(Mt),A_=Io(Sa),S_=Io(to);function Tu(e){return Wo(e)?no(Ln(e)):nf(e)}function C_(e){return function(t){return e==null?i:_r(e,t)}}var O_=Cs(),M_=Cs(!0);function ta(){return[]}function na(){return!1}function I_(){return{}}function F_(){return""}function P_(){return!0}function R_(e,t){if(e=it(e),e<1||e>ae)return[];var n=re,r=Yt(e,re);t=We(t),e-=re;for(var o=oo(r,t);++n<e;)t(n);return o}function L_(e){return nt(e)?Mt(e,Ln):_n(e)?[e]:sn(qs(Et(e)))}function D_(e){var t=++Jl;return Et(e)+t}var N_=Si(function(e,t){return e+t},0),W_=Fo("ceil"),z_=Si(function(e,t){return e/t},1),U_=Fo("floor");function B_(e){return e&&e.length?wi(e,cn,po):i}function $_(e,t){return e&&e.length?wi(e,We(t,2),po):i}function H_(e){return Ma(e,cn)}function q_(e,t){return Ma(e,We(t,2))}function G_(e){return e&&e.length?wi(e,cn,bo):i}function J_(e,t){return e&&e.length?wi(e,We(t,2),bo):i}var K_=Si(function(e,t){return e*t},1),V_=Fo("round"),Y_=Si(function(e,t){return e-t},0);function j_(e){return e&&e.length?io(e,cn):0}function X_(e,t){return e&&e.length?io(e,We(t,2)):0}return a.after=yh,a.ary=tu,a.assign=ag,a.assignIn=_u,a.assignInWith=Ui,a.assignWith=sg,a.at=ug,a.before=nu,a.bind=qo,a.bindAll=h_,a.bindKey=ru,a.castArray=Ih,a.chain=Zs,a.chunk=Uf,a.compact=Bf,a.concat=$f,a.cond=g_,a.conforms=__,a.constant=Xo,a.countBy=jd,a.create=lg,a.curry=iu,a.curryRight=ou,a.debounce=au,a.defaults=cg,a.defaultsDeep=fg,a.defer=wh,a.delay=bh,a.difference=Hf,a.differenceBy=qf,a.differenceWith=Gf,a.drop=Jf,a.dropRight=Kf,a.dropRightWhile=Vf,a.dropWhile=Yf,a.fill=jf,a.filter=Zd,a.flatMap=th,a.flatMapDeep=nh,a.flatMapDepth=rh,a.flatten=Vs,a.flattenDeep=Xf,a.flattenDepth=Zf,a.flip=xh,a.flow=p_,a.flowRight=m_,a.fromPairs=Qf,a.functions=mg,a.functionsIn=yg,a.groupBy=ih,a.initial=td,a.intersection=nd,a.intersectionBy=rd,a.intersectionWith=id,a.invert=bg,a.invertBy=xg,a.invokeMap=ah,a.iteratee=Zo,a.keyBy=sh,a.keys=qt,a.keysIn=ln,a.map=Ri,a.mapKeys=Tg,a.mapValues=kg,a.matches=y_,a.matchesProperty=w_,a.memoize=Di,a.merge=Ag,a.mergeWith=vu,a.method=b_,a.methodOf=x_,a.mixin=Qo,a.negate=Ni,a.nthArg=T_,a.omit=Sg,a.omitBy=Cg,a.once=Eh,a.orderBy=uh,a.over=k_,a.overArgs=Th,a.overEvery=A_,a.overSome=S_,a.partial=Go,a.partialRight=su,a.partition=lh,a.pick=Og,a.pickBy=pu,a.property=Tu,a.propertyOf=C_,a.pull=ud,a.pullAll=js,a.pullAllBy=ld,a.pullAllWith=cd,a.pullAt=fd,a.range=O_,a.rangeRight=M_,a.rearg=kh,a.reject=dh,a.remove=dd,a.rest=Ah,a.reverse=$o,a.sampleSize=gh,a.set=Ig,a.setWith=Fg,a.shuffle=_h,a.slice=hd,a.sortBy=mh,a.sortedUniq=wd,a.sortedUniqBy=bd,a.split=t_,a.spread=Sh,a.tail=xd,a.take=Ed,a.takeRight=Td,a.takeRightWhile=kd,a.takeWhile=Ad,a.tap=Bd,a.throttle=Ch,a.thru=Pi,a.toArray=du,a.toPairs=mu,a.toPairsIn=yu,a.toPath=L_,a.toPlainObject=gu,a.transform=Pg,a.unary=Oh,a.union=Sd,a.unionBy=Cd,a.unionWith=Od,a.uniq=Md,a.uniqBy=Id,a.uniqWith=Fd,a.unset=Rg,a.unzip=Ho,a.unzipWith=Xs,a.update=Lg,a.updateWith=Dg,a.values=Lr,a.valuesIn=Ng,a.without=Pd,a.words=xu,a.wrap=Mh,a.xor=Rd,a.xorBy=Ld,a.xorWith=Dd,a.zip=Nd,a.zipObject=Wd,a.zipObjectDeep=zd,a.zipWith=Ud,a.entries=mu,a.entriesIn=yu,a.extend=_u,a.extendWith=Ui,Qo(a,a),a.add=N_,a.attempt=Eu,a.camelCase=Bg,a.capitalize=wu,a.ceil=W_,a.clamp=Wg,a.clone=Fh,a.cloneDeep=Rh,a.cloneDeepWith=Lh,a.cloneWith=Ph,a.conformsTo=Dh,a.deburr=bu,a.defaultTo=v_,a.divide=z_,a.endsWith=$g,a.eq=In,a.escape=Hg,a.escapeRegExp=qg,a.every=Xd,a.find=Qd,a.findIndex=Js,a.findKey=dg,a.findLast=eh,a.findLastIndex=Ks,a.findLastKey=hg,a.floor=U_,a.forEach=Qs,a.forEachRight=eu,a.forIn=gg,a.forInRight=_g,a.forOwn=vg,a.forOwnRight=pg,a.get=Vo,a.gt=Nh,a.gte=Wh,a.has=wg,a.hasIn=Yo,a.head=Ys,a.identity=cn,a.includes=oh,a.indexOf=ed,a.inRange=zg,a.invoke=Eg,a.isArguments=mr,a.isArray=nt,a.isArrayBuffer=zh,a.isArrayLike=un,a.isArrayLikeObject=Dt,a.isBoolean=Uh,a.isBuffer=rr,a.isDate=Bh,a.isElement=$h,a.isEmpty=Hh,a.isEqual=qh,a.isEqualWith=Gh,a.isError=Jo,a.isFinite=Jh,a.isFunction=Hn,a.isInteger=uu,a.isLength=Wi,a.isMap=lu,a.isMatch=Kh,a.isMatchWith=Vh,a.isNaN=Yh,a.isNative=jh,a.isNil=Zh,a.isNull=Xh,a.isNumber=cu,a.isObject=It,a.isObjectLike=Rt,a.isPlainObject=Zr,a.isRegExp=Ko,a.isSafeInteger=Qh,a.isSet=fu,a.isString=zi,a.isSymbol=_n,a.isTypedArray=Rr,a.isUndefined=eg,a.isWeakMap=tg,a.isWeakSet=ng,a.join=od,a.kebabCase=Gg,a.last=kn,a.lastIndexOf=ad,a.lowerCase=Jg,a.lowerFirst=Kg,a.lt=rg,a.lte=ig,a.max=B_,a.maxBy=$_,a.mean=H_,a.meanBy=q_,a.min=G_,a.minBy=J_,a.stubArray=ta,a.stubFalse=na,a.stubObject=I_,a.stubString=F_,a.stubTrue=P_,a.multiply=K_,a.nth=sd,a.noConflict=E_,a.noop=ea,a.now=Li,a.pad=Vg,a.padEnd=Yg,a.padStart=jg,a.parseInt=Xg,a.random=Ug,a.reduce=ch,a.reduceRight=fh,a.repeat=Zg,a.replace=Qg,a.result=Mg,a.round=V_,a.runInContext=b,a.sample=hh,a.size=vh,a.snakeCase=e_,a.some=ph,a.sortedIndex=gd,a.sortedIndexBy=_d,a.sortedIndexOf=vd,a.sortedLastIndex=pd,a.sortedLastIndexBy=md,a.sortedLastIndexOf=yd,a.startCase=n_,a.startsWith=r_,a.subtract=Y_,a.sum=j_,a.sumBy=X_,a.template=i_,a.times=R_,a.toFinite=qn,a.toInteger=it,a.toLength=hu,a.toLower=o_,a.toNumber=An,a.toSafeInteger=og,a.toString=Et,a.toUpper=a_,a.trim=s_,a.trimEnd=u_,a.trimStart=l_,a.truncate=c_,a.unescape=f_,a.uniqueId=D_,a.upperCase=d_,a.upperFirst=jo,a.each=Qs,a.eachRight=eu,a.first=Ys,Qo(a,function(){var e={};return Pn(a,function(t,n){Tt.call(a.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),a.VERSION=v,wn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){a[e].placeholder=a}),wn(["drop","take"],function(e,t){ht.prototype[e]=function(n){n=n===i?1:$t(it(n),0);var r=this.__filtered__&&!t?new ht(this):this.clone();return r.__filtered__?r.__takeCount__=Yt(n,r.__takeCount__):r.__views__.push({size:Yt(n,re),type:e+(r.__dir__<0?"Right":"")}),r},ht.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),wn(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==Y||n==I;ht.prototype[e]=function(o){var u=this.clone();return u.__iteratees__.push({iteratee:We(o,3),type:n}),u.__filtered__=u.__filtered__||r,u}}),wn(["head","last"],function(e,t){var n="take"+(t?"Right":"");ht.prototype[e]=function(){return this[n](1).value()[0]}}),wn(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");ht.prototype[e]=function(){return this.__filtered__?new ht(this):this[n](1)}}),ht.prototype.compact=function(){return this.filter(cn)},ht.prototype.find=function(e){return this.filter(e).head()},ht.prototype.findLast=function(e){return this.reverse().find(e)},ht.prototype.invokeMap=ut(function(e,t){return typeof e=="function"?new ht(this):this.map(function(n){return Jr(n,e,t)})}),ht.prototype.reject=function(e){return this.filter(Ni(We(e)))},ht.prototype.slice=function(e,t){e=it(e);var n=this;return n.__filtered__&&(e>0||t<0)?new ht(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(t=it(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},ht.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ht.prototype.toArray=function(){return this.take(re)},Pn(ht.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=a[r?"take"+(t=="last"?"Right":""):t],u=r||/^find/.test(t);o&&(a.prototype[t]=function(){var d=this.__wrapped__,p=r?[1]:arguments,k=d instanceof ht,Z=p[0],te=k||nt(d),se=function(dt){var gt=o.apply(a,jn([dt],p));return r&&we?gt[0]:gt};te&&n&&typeof Z=="function"&&Z.length!=1&&(k=te=!1);var we=this.__chain__,Oe=!!this.__actions__.length,Ue=u&&!we,st=k&&!Oe;if(!u&&te){d=st?d:new ht(this);var Be=e.apply(d,p);return Be.__actions__.push({func:Pi,args:[se],thisArg:i}),new xn(Be,we)}return Ue&&st?e.apply(this,p):(Be=this.thru(se),Ue?r?Be.value()[0]:Be.value():Be)})}),wn(["pop","push","shift","sort","splice","unshift"],function(e){var t=oi[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);a.prototype[e]=function(){var o=arguments;if(r&&!this.__chain__){var u=this.value();return t.apply(nt(u)?u:[],o)}return this[n](function(d){return t.apply(nt(d)?d:[],o)})}}),Pn(ht.prototype,function(e,t){var n=a[t];if(n){var r=n.name+"";Tt.call(Or,r)||(Or[r]=[]),Or[r].push({name:t,func:n})}}),Or[Ai(i,ee).name]=[{name:"wrapper",func:i}],ht.prototype.clone=cc,ht.prototype.reverse=fc,ht.prototype.value=dc,a.prototype.at=$d,a.prototype.chain=Hd,a.prototype.commit=qd,a.prototype.next=Gd,a.prototype.plant=Kd,a.prototype.reverse=Vd,a.prototype.toJSON=a.prototype.valueOf=a.prototype.value=Yd,a.prototype.first=a.prototype.head,zr&&(a.prototype[zr]=Jd),a},Ar=Hl();cr?((cr.exports=Ar)._=Ar,Xi._=Ar):Jt._=Ar}).call(Qr)})($i,$i.exports);var xv=$i.exports;const Ev=iv(xv),Tv={props:{value:{type:Number,default:null},text:{type:String,default:""},allowNil:{type:Boolean}},computed:{isNA(){return!(this.allowNil||Ev.isFinite(this.value))}}};function kv(y,s,i,v,h,l){return $e(),Ve("span",{class:on(["value-text",{underline:l.isNA}])},Kn(i.text),3)}const Gu=sr(Tv,[["render",kv]]),Av=["colspan","title"],Sv={key:0},Cv=O("path",{"data-v-ae951afa":"",d:"M5.79 15.013H3.778V7.806H.813L4.808.398l4.004 7.408H5.791v7.207z",fill:"currentColor"},null,-1),Ov=[Cv],Mv={components:{cell_content:Gu},props:{value:{type:Number,default:null},tooltip:{type:null,default:null},visible:{type:Boolean,default:!0},colored:{type:Boolean,default:!0},highlighted:{type:Boolean,default:!1},arrow:{type:Boolean,default:!1},formatter:{type:Function,required:!0},align:{type:String,validator:function(y){return["left","center","right"].includes(y)},default:"right"},span:{type:Number,default:1}},computed:{effective_value(){return this.value},font_color(){return this.colored?this.value>0?"green":this.value<0?"red":"":"black"},show_arrow(){return this.arrow&&this.value!=0},formatted_value(){return this.formatter(this.value)}}},Nr=Object.assign(Mv,{__name:"td_value",setup(y){return(s,i)=>($e(),Ve("td",{colspan:y.span,class:"td-value",title:y.tooltip},[y.visible&&y.value?($e(),Ve("div",Sv,[O("div",{class:on(["nowrap","flex-container",y.align])},[J(Gu,{class:on([s.font_color,{highlighted:y.highlighted},{textColor:s.font_color}]),value:s.effective_value,text:s.formatted_value},null,8,["class","value","text"]),s.show_arrow?($e(),Ve("svg",{key:0,viewBox:"0 0 9 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:on(["arrow-icon",[s.font_color]])},Ov,2)):Ot("",!0)],2)])):Ot("",!0)],8,Av))}}),Iv={props:{market:{type:String,default:""},symbol:{type:String,default:""},name:{type:String,default:""}},methods:{default_logo_path(y){y.target.src="https://portfoliotech.github.io/investify/static/img/default_logo.png"}},computed:{company_symbol(){return this.symbol=="REALCASH"?"CASH":this.symbol},company_name(){return this.symbol=="REALCASH"?"CASH BALANCE":this.name},logo_path(){return this.symbol=="REALCASH"?"https://portfoliotech.github.io/investify/static/img/cash.png":"https://data.wealthica.com/api/securities/"+this.market.substr(0,2)+":"+this.symbol+"/logo"}}},Fv=["title"],Pv={class:"company-data-wraper"},Rv={class:""},Lv=["src"],Dv={class:"company-data"},Nv={class:"company-symbol"},Wv={class:"company-name"};function zv(y,s,i,v,h,l){return $e(),Ve("td",{class:"company-cell",title:l.company_name},[O("div",Pv,[O("div",Rv,[O("img",{src:l.logo_path,onError:s[0]||(s[0]=(...C)=>l.default_logo_path&&l.default_logo_path(...C)),alt:"company_symbol",class:"logo"},null,40,Lv)]),O("div",Dv,[O("div",Nv,Kn(l.company_symbol),1),O("div",Wv,Kn(l.company_name),1)])])],8,Fv)}const Hi=sr(Iv,[["render",zv]]),Uv={props:{institution:{type:String,default:""},name:{type:String,default:""},number:{type:String,default:""},type:{type:String,default:""},currency:{type:String,default:""},show_expand:{type:Boolean,default:!0},expanded:{type:Boolean,default:!0}},emits:["toggle"],methods:{toggle(){this.$emit("toggle")}},computed:{institution_icon(){if(this.institution=="--")switch(this.currency){case"cad":return"https://portfoliotech.github.io/investify/static/img/cad.png";case"usd":return"https://portfoliotech.github.io/investify/static/img/usd.png";default:return"https://portfoliotech.github.io/investify/static/expanded.png"}else return"https://app.wealthica.com/images/institutions/"+this.institution+".png"}}},Bv={class:"account-cell",colspan:"5"},$v={class:"account-data-wraper"},Hv={class:"account-identifier"},qv=["src"],Gv={class:"account-name"},Jv={key:0,class:"toggle-arrow"},Kv={class:"account-details"},Vv={class:"account-number"},Yv={class:"account-type"};function jv(y,s,i,v,h,l){return $e(),Ve("td",Bv,[O("div",$v,[O("div",Hv,[O("div",null,[O("img",{src:l.institution_icon,class:"institution-icon"},null,8,qv)]),O("div",Gv,Kn(i.name),1),i.show_expand?($e(),Ve("div",Jv,[O("img",{src:"https://app.wealthica.com/img/arrow_down.f6ca09b2.svg",width:"13",height:"8",class:on({expand:i.expanded}),onClick:s[0]||(s[0]=ev((...C)=>l.toggle&&l.toggle(...C),["stop"]))},null,2)])):Ot("",!0)]),O("div",Kv,[O("div",Vv,Kn(i.number),1),O("div",Yv,Kn(i.type),1)])])])}const qi=sr(Uv,[["render",jv]]),or={number:new Intl.NumberFormat("en-US"),money:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),price:new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}),percent:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2}),xrate:new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}),long_date:new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),long_datetime:new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1})},rn={number(y){return or.number.format(y)},money(y){return or.money.format(y)},money_plus(y){return(y>0?"+":"")+or.money.format(y)},price(y){return or.price.format(y)},percent(y){return or.percent.format(y)},long_date(y){let s=new Date(y);return isNaN(s.getTime())?"Invalid":or.long_date.format(s)},long_datetime(y){let s=new Date(y);return isNaN(s.getTime())?"Invalid":or.long_datetime.format(s)},xrate_cad(y){return`1 USD = ${or.xrate.format(y)} CAD`},tip_daily_change(y,s){return rn.money_plus(y)+" on "+rn.long_datetime(s)},tip_xrate(y,s){return y==="usd"?`1 USD = ${rn.xrate_cad(s)} CAD`:null}},Xv={components:{td_value:Nr}},Ae=Object.assign(Xv,{__name:"td_money",setup(y){return(s,i)=>($e(),Bi(Nr,{formatter:Ht(rn).money,class:"justify-right"},null,8,["formatter"]))}}),Zv={components:{td_value:Nr}},vt=Object.assign(Zv,{__name:"td_percent",setup(y){return(s,i)=>($e(),Bi(Nr,{formatter:Ht(rn).percent,class:"justify-right"},null,8,["formatter"]))}}),Qv={key:0,id:"portfolio"},ep={class:"portfolio"},tp={id:"tr_accounts_header_1"},np=O("th",{colspan:"5"},null,-1),rp=O("th",{colspan:"7"},null,-1),ip=O("tr",{id:"tr_accounts_header_2",class:"show-separator-line"},[O("th",{colspan:"5",class:"justify-left"},"Accounts"),O("th",null,"Gain $"),O("th",null,"Gain %"),O("th",null,"Gain $"),O("th",null,"Gain %"),O("th",{colspan:"2"},"CAD"),O("th",{colspan:"2"},"USD"),O("th",{colspan:"2"},"Total CAD"),O("th",null,"Portfolio")],-1),op={key:0,class:"spacer"},ap={key:1,id:"holdings_header_1",class:"spacer"},sp=O("th",null,null,-1),up=O("th",null,null,-1),lp=O("th",null,null,-1),cp=O("th",null,null,-1),fp={key:2,id:"holdings_header_2",class:"show-separator-line"},dp=O("th",{class:"justify-left"},"Company",-1),hp=O("th",null,null,-1),gp=O("th",{class:"justify-center"},"Qty",-1),_p=O("th",null,"Price",-1),vp=O("th",null,"Value",-1),pp=O("th",null,"Gain $",-1),mp=O("th",null,"Gain %",-1),yp=O("th",null,"Gain $",-1),wp=O("th",null,"Gain %",-1),bp=O("th",null,"low",-1),xp=O("th",null,"high",-1),Ep=O("th",null,"Price",-1),Tp=O("th",null,"Value",-1),kp=O("th",null,"Price",-1),Ap=O("th",null,"Value",-1),Sp=O("th",null,"Weigth",-1),Cp=[dp,hp,gp,_p,vp,pp,mp,yp,wp,bp,xp,Ep,Tp,kp,Ap,Sp],Op={id:"holdings",class:"holdings"},Mp=O("td",{class:"fill-space"},null,-1),Ip={id:"cash",class:"holdings"},Fp=O("td",{class:"fill-space"},null,-1),Pp=O("td",{colspan:"10"},null,-1),Rp=O("td",null,null,-1),Lp={key:5,id:"holdings_totals",class:"show-total-line"},Dp=O("td",{colspan:"4",class:"justify-left"},"Total",-1),Np=O("td",null,null,-1),Wp=O("td",null,null,-1),zp=O("td",null,null,-1),Up=O("td",null,null,-1),Bp={key:1,id:"accounts_footer_spacing",class:"accounts-footer"},$p=O("td",{colspan:"16"},null,-1),Hp=[$p],qp={id:"portfolio_totals",class:"show-total-line"},Gp=O("td",{colspan:"5",class:"justify-left"},"Total",-1),Jp={id:"footer"},Kp=O("div",{style:{height:"20px"}},null,-1),Vp={style:{display:"flex","justify-content":"space-between"}},Yp=["title"],jp={inject:["data_store","state"],data(){return{accounts:null,totals:null,holdings:null,x_usd:null}},created(){this.load_data()},methods:{load_data(){this.state.loading=!0,this.data_store.load(Gt.x_usd).then(()=>{this.x_usd=this.data_store[Gt.x_usd]}),Promise.all([this.data_store.load(Gt.accounts),this.data_store.load(Gt.holdings),this.data_store.load(Gt.totals)]).then(()=>{this.accounts=this.data_store[Gt.accounts],this.holdings=this.data_store[Gt.holdings],this.totals=this.data_store[Gt.totals],this.state.loading=!1})},refresh_all(){this.state.loading=!0,this.data_store.clear_data(Object.keys(Gt)),this.load_data()},refresh_stock_prices(){this.state.loading=!0,this.data_store.refresh_holdings_stock_prices().then(()=>{this.state.loading=!1})}},computed:{currency_info(){if(this.x_usd){let y=this.x_usd.id.toUpperCase(),s=(1/this.x_usd.rate).toFixed(4),i=this.x_usd.rate.toFixed(4);return`1 ${y} = ${s} CAD, 1 CAD = ${i} ${y}`}else return"undefined"},currency_date(){return this.x_usd?rn.long_datetime(this.x_usd.date):"undefined"}}},Ou=Object.assign(jp,{__name:"portfolio",setup(y){return(s,i)=>($e(),Ve(Sn,null,[s.accounts&&s.accounts.length?($e(),Ve("div",Qv,[O("table",ep,[O("thead",null,[O("tr",tp,[np,J(Xt,{group_name:"Daily CAD"}),J(Xt,{group_name:"Overall CAD"}),rp]),ip]),s.accounts?($e(!0),Ve(Sn,{key:0},ar(s.accounts,v=>($e(),Ve("tbody",{key:v.account_number},[O("tr",{id:"accounts",class:on(["accounts",[{expanded:v.expanded}]])},[J(qi,{institution:v.institution.type,name:v.name,number:v.number,type:v.type,show_expand:!v.no_holdings,expanded:v.expanded,onToggle:h=>v.expanded=!v.expanded},null,8,["institution","name","number","type","show_expand","expanded","onToggle"]),J(Ae,{value:s.totals[v.number].gain_daily_amount,highlighted:!0},null,8,["value"]),J(vt,{value:s.totals[v.number].gain_daily_percent,arrow:!0},null,8,["value"]),J(Ae,{value:s.totals[v.number].gain_overall_amount,highlighted:!0},null,8,["value"]),J(vt,{value:s.totals[v.number].gain_overall_percent,arrow:!0},null,8,["value"]),J(Ae,{span:2,value:s.totals[v.number].market_value_CAD,colored:!1},null,8,["value"]),J(Ae,{span:2,value:s.totals[v.number].market_value_USD,colored:!1},null,8,["value"]),J(Ae,{span:2,value:s.totals[v.number].market_total_CAD},null,8,["value"]),J(vt,{value:s.totals[v.number].weight,colored:!1},null,8,["value"])],2),v.expanded&&v.subaccounts&&v.subaccounts.length?($e(!0),Ve(Sn,{key:0},ar(v.subaccounts,h=>($e(),Ve(Sn,{key:h.id},[O("tr",{id:"subaccounts",class:on(["subaccounts",[{expanded:h.expanded}]])},[J(qi,{institution:"--",name:h.name,currency:h.currency,expanded:h.expanded,onToggle:l=>h.expanded=!h.expanded},null,8,["name","currency","expanded","onToggle"]),J(Ae,{value:s.totals[v.number][h.id].gain_daily_amount,highlighted:!0,visible:!h.expanded},null,8,["value","visible"]),J(vt,{value:s.totals[v.number][h.id].gain_daily_percent,arrow:!0,visible:!h.expanded},null,8,["value","visible"]),J(Ae,{value:s.totals[v.number][h.id].gain_overall_amount,highlighted:!0,visible:!h.expanded},null,8,["value","visible"]),J(vt,{value:s.totals[v.number][h.id].gain_overall_percent,arrow:!0,visible:!h.expanded},null,8,["value","visible"]),J(Ae,{span:2,value:s.totals[v.number][h.id].market_value_CAD,colored:!1,visible:!h.expanded},null,8,["value","visible"]),J(Ae,{span:2,value:s.totals[v.number][h.id].market_value_USD,colored:!1,visible:!h.expanded},null,8,["value","visible"]),J(Ae,{span:2,value:s.totals[v.number][h.id].market_total_CAD,visible:!h.expanded},null,8,["value","visible"]),J(vt,{value:s.totals[v.number][h.id].weight_account,colored:!1,visible:!h.expanded},null,8,["value","visible"])],2),h.expanded?($e(),Ve("tr",op)):Ot("",!0),h.expanded?($e(),Ve("tr",ap,[sp,up,lp,J(Xt,{group_name:"Book"}),J(Xt,{group_name:"Daily"}),J(Xt,{group_name:"Overall"}),J(Xt,{group_name:"52 weeks"}),J(Xt,{group_name:"Market"}),J(Xt,{group_name:"Market CAD"}),cp])):Ot("",!0),h.expanded?($e(),Ve("tr",fp,Cp)):Ot("",!0),h.expanded?($e(!0),Ve(Sn,{key:3},ar(s.holdings.filter(l=>l.subaccount_id==h.id&&!l.cash),l=>($e(),Ve("tr",Op,[J(Hi,{market:l.market,symbol:l.symbol,name:l.name},null,8,["market","symbol","name"]),Mp,J(Nr,{value:l.quantity,formatter:Ht(rn).number,align:"center",colored:!1},null,8,["value","formatter"]),J(Ae,{value:l.values.book_price,colored:!1,tooltip:Ht(rn).price(l.values.book_price)},null,8,["value","tooltip"]),J(Ae,{value:l.values.book_value,colored:!1},null,8,["value"]),J(Ae,{value:l.values.gain_daily_amount,highlighted:!0,tooltip:Ht(rn).tip_daily_change(l.values.daily_change,l.values.market_date)},null,8,["value","tooltip"]),J(vt,{value:l.values.gain_daily_percent,arrow:!0,tooltip:Ht(rn).tip_daily_change(l.values.daily_change,l.values.market_date)},null,8,["value","tooltip"]),J(Ae,{value:l.values.gain_overall_amount,highlighted:!0},null,8,["value"]),J(vt,{value:l.values.gain_overall_percent,arrow:!0},null,8,["value"]),J(Ae,{value:l.history.low.value,colored:!1,tooltip:Ht(rn).long_date(l.history.low.date)},null,8,["value","tooltip"]),J(Ae,{value:l.history.high.value,colored:!1,tooltip:Ht(rn).long_date(l.history.high.date)},null,8,["value","tooltip"]),J(Ae,{value:l.values.market_price,colored:!1,tooltip:Ht(rn).long_datetime(l.values.market_date)},null,8,["value","tooltip"]),J(Ae,{value:l.values.market_value,colored:!1},null,8,["value"]),J(Ae,{value:l.values.market_price_CAD,tooltip:Ht(rn).tip_xrate(l.currency,l.xrate)},null,8,["value","tooltip"]),J(Ae,{value:l.values.market_value_CAD,tooltip:Ht(rn).tip_xrate(l.currency,l.xrate)},null,8,["value","tooltip"]),J(vt,{value:l.values.weight_account,colored:!1},null,8,["value"])]))),256)):Ot("",!0),h.expanded?($e(!0),Ve(Sn,{key:4},ar(s.holdings.filter(l=>l.subaccount_id==h.id&&l.cash),l=>($e(),Ve("tr",Ip,[J(Hi,{market:l.market,symbol:l.symbol,name:l.name},null,8,["market","symbol","name"]),Fp,Pp,J(Ae,{value:l.values.market_value,colored:!1},null,8,["value"]),Rp,J(Ae,{value:l.values.market_value_CAD},null,8,["value"]),J(vt,{value:l.values.weight_account,colored:!1},null,8,["value"])]))),256)):Ot("",!0),h.expanded?($e(),Ve("tr",Lp,[Dp,J(Ae,{value:s.totals[v.number][h.id].book_value,colored:!1},null,8,["value"]),J(Ae,{value:s.totals[v.number][h.id].gain_daily_amount,highlighted:!0},null,8,["value"]),J(vt,{value:s.totals[v.number][h.id].gain_daily_percent,arrow:!0},null,8,["value"]),J(Ae,{value:s.totals[v.number][h.id].gain_overall_amount,highlighted:!0},null,8,["value"]),J(vt,{value:s.totals[v.number][h.id].gain_overall_percent,arrow:!0},null,8,["value"]),Np,Wp,zp,J(Ae,{value:s.totals[v.number][h.id].market_value,colored:!1},null,8,["value"]),Up,J(Ae,{value:s.totals[v.number][h.id].market_total_CAD},null,8,["value"]),J(vt,{value:s.totals[v.number][h.id].weight_account,colored:!1},null,8,["value"])])):Ot("",!0)],64))),128)):Ot("",!0),v.expanded?($e(),Ve("tr",Bp,Hp)):Ot("",!0)]))),128)):Ot("",!0),O("tfoot",null,[O("tr",qp,[Gp,J(Ae,{value:s.totals.all.gain_daily_amount,highlighted:!0},null,8,["value"]),J(vt,{value:s.totals.all.gain_daily_percent,arrow:!0},null,8,["value"]),J(Ae,{value:s.totals.all.gain_overall_amount,highlighted:!0},null,8,["value"]),J(vt,{value:s.totals.all.gain_overall_percent,arrow:!0},null,8,["value"]),J(Ae,{span:2,value:s.totals.all.market_value_CAD,colored:!1},null,8,["value"]),J(Ae,{span:2,value:s.totals.all.market_value_USD,colored:!1},null,8,["value"]),J(Ae,{span:2,value:s.totals.all.market_total_CAD},null,8,["value"]),J(vt,{value:s.totals.all.weight,colored:!1},null,8,["value"])])])])])):Ot("",!0),O("div",Jp,[Kp,O("div",Vp,[O("div",null,[s.x_usd?($e(),Ve("div",{key:0,class:"x-rate-info",title:s.currency_date},Kn(s.currency_info),9,Yp)):Ot("",!0)]),O("div",null,[O("button",{onClick:i[0]||(i[0]=(...v)=>s.refresh_all&&s.refresh_all(...v))},"Refresh All"),tv("  "),O("button",{onClick:i[1]||(i[1]=(...v)=>s.refresh_stock_prices&&s.refresh_stock_prices(...v))},"Refresh Prices")])])])],64))}}),Ju={dev:!0,prod:!1,log_all:!1},wr={portfolio_user:"user",portfolio_currencies:"currencies",portfolio_institutions:"institutions",portfolio_positions:"positions",portfolio_holdings:"holdings",portfolio_streams:"streams",portfolio_wallet:"wallet"},Mu={portfolio:[{id:wr.portfolio_user,enabled:!1},{id:wr.portfolio_currencies,enabled:!1},{id:wr.portfolio_institutions,enabled:!1},{id:wr.portfolio_positions,enabled:!1},{id:wr.portfolio_holdings,enabled:!1},{id:wr.portfolio_streams,enabled:!1}],wallet:{id:wr.portfolio_wallet,enabled:!0}};function Xp(y){return Wu()&&Ju.prod}function br(y,s){if(y==0)return"";switch(s){case"number":return new Intl.NumberFormat("en-US").format(y);case"money":return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(y);case"money+":return(y>0?"+":"")+new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(y);case"price":return new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}).format(y);case"percent":return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2}).format(y);case"x_rate_CAD":return"1 USD = "+new Intl.NumberFormat("en-US",{minimumFractionDigits:4,maximumFractionDigits:4}).format(y)+" CAD";case"long_date":let i=new Date(y);return isNaN(i.getTime())?"Invalid":new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(i);case"long_date_hour":let v=new Date(y);return new Intl.DateTimeFormat("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).format(v);default:return"Invalid"}}function Iu(y){return br(y,"long_date")}function Zp(y){return br(y,"long_date_hour")}function Fu(y,s){return br(y,"money+")+" on "+br(s,"long_date_hour")}function Pu(y,s){return y=="usd"?br(s,"x_rate_CAD"):null}function Qp(y){return br(y,"price")}const em={key:0,id:"wallet"},tm={class:"wallet"},nm={id:"tr_accounts_header_1"},rm=O("th",{colspan:"5"},null,-1),im=O("th",{colspan:"7"},null,-1),om=O("tr",{id:"tr_accounts_header_2",class:"show-separator-line"},[O("th",{colspan:"5",class:"justify-left"},"Accounts"),O("th",null,"Gain $"),O("th",null,"Gain %"),O("th",null,"Gain $"),O("th",null,"Gain %"),O("th",{colspan:"2"},"CAD"),O("th",{colspan:"2"},"USD"),O("th",{colspan:"2"},"Total CAD"),O("th",null,"Portfolio")],-1),am={key:0,class:"spacer"},sm={key:1,id:"holdings_header_1",class:"spacer"},um=O("th",null,null,-1),lm=O("th",null,null,-1),cm=O("th",null,null,-1),fm=O("th",null,null,-1),dm={key:2,id:"holdings_header_2",class:"show-separator-line"},hm=O("th",{class:"justify-left"},"Company",-1),gm=O("th",null,null,-1),_m=O("th",{class:"justify-center"},"Qty",-1),vm=O("th",null,"Price",-1),pm=O("th",null,"Value",-1),mm=O("th",null,"Gain $",-1),ym=O("th",null,"Gain %",-1),wm=O("th",null,"Gain $",-1),bm=O("th",null,"Gain %",-1),xm=O("th",null,"low",-1),Em=O("th",null,"high",-1),Tm=O("th",null,"Price",-1),km=O("th",null,"Value",-1),Am=O("th",null,"Price",-1),Sm=O("th",null,"Value",-1),Cm=O("th",null,"Weigth",-1),Om=[hm,gm,_m,vm,pm,mm,ym,wm,bm,xm,Em,Tm,km,Am,Sm,Cm],Mm={id:"holdings",class:"holdings"},Im=O("td",{class:"fill-space"},null,-1),Fm={id:"cash",class:"holdings"},Pm=O("td",{class:"fill-space"},null,-1),Rm=O("td",{colspan:"10"},null,-1),Lm=O("td",null,null,-1),Dm={key:5,id:"holdings_totals",class:"show-total-line"},Nm=O("td",{colspan:"4",class:"justify-left"},"Total",-1),Wm=O("td",null,null,-1),zm=O("td",null,null,-1),Um=O("td",null,null,-1),Bm=O("td",null,null,-1),$m={key:1,id:"accounts_footer_spacing",class:"accounts-footer"},Hm=O("td",{colspan:"16"},null,-1),qm=[Hm],Gm={id:"wallet_totals",class:"show-total-line"},Jm=O("td",{colspan:"5",class:"justify-left"},"Total",-1),Km={id:"footer"},Vm=O("div",{style:{height:"20px"}},null,-1),Ym={style:{display:"flex","justify-content":"space-between"}},jm=["title"],Xm={inject:["data_store"],data(){return{data:{user:[],currencies:[],institutions:[],positions:[],holdings:[],streams:[]},wallet:{user:[],xcurrency:null,accounts:[],values:{daily_gain_amount:0,daily_gain_percent:0,period_gain_amount:0,period_gain_percent:0,overall_gain_amount:0,overall_gain_percent:0,market_value_CAD:0,market_value_USD:0,market_value_totalCAD:0,weight:0}}}},created(){this.fetch_data().then(()=>{this.extract_data()})},methods:{fetch_data(){return Promise.all([this.fetch_user(),this.fetch_currencies(),this.fetch_institutions(),this.fetch_positions()])},fetch_user(){return this.data_store.wealthica.addon.api.getUser().then(y=>{this.data.user=y}).catch(y=>{throw console.error("Error fetching user:",y),y})},fetch_currencies(){return this.data_store.wealthica.addon.request({method:"GET",endpoint:"currencies"}).then(y=>{this.data.currencies=y}).catch(y=>{throw console.error("Error fetching currencies:",y),y})},fetch_institutions(){return this.data_store.wealthica.addon.api.getInstitutions(this.get_query_from_options(this.data_store.wealthica.addon.options)).then(y=>{this.data.institutions=y}).catch(y=>{throw console.error("Error fetching institutions:",y),y})},fetch_positions(){return this.data_store.wealthica.addon.api.getPositions(this.get_query_from_options(this.data_store.wealthica.addon.options)).then(y=>{this.data.positions=y}).catch(y=>{throw console.error("Error fetching positions:",y),y})},fetch_historical_data(y){try{return this.data_store.wealthica.addon.request({method:"GET",endpoint:`securities/${y}/history`})}catch(s){console.error("Error fetching position historical data:",s)}},fetch_stock_prices(y){const s="https://data.wealthica.com/api/streams",i={user:this.wallet.user.email,symbols:y};return fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then(v=>v.json()).catch(v=>{console.log("Error fetching stock pices:",v)})},get_query_from_options(y){return{from:y.dateRangeFilter&&y.dateRangeFilter[0],to:y.dateRangeFilter&&y.dateRangeFilter[1],groups:y.groupsFilter,institutions:y.institutionsFilter,investments:y.investmentsFilter==="all"?null:y.investmentsFilter}},extract_data(){this.extract_user(),this.extract_xcurrency(),this.extract_holdings().then(()=>{this.extract_accounts(),this.refresh_wallet()})},extract_user(){this.wallet.user=this.data.user},extract_xcurrency(){let y=this.data.currencies.find(s=>s._id==="usd");this.wallet.xcurrency=y?{id:y._id,rate:y.exchange_rate,date:y.update_date}:null},extract_holdings(){const y=[];return this.data.positions.forEach(s=>{s.investments.forEach(i=>{const v=this.fetch_historical_data(s.security._id).then(h=>{this.data.holdings.push({account_number:i.investment.split(":")[0],subaccount_id:i.investment,market:i.currency.substring(0,2).toUpperCase(),symbol:s.security.symbol,symbol_mrkt:i.currency.substring(0,2).toUpperCase()+":"+s.security.symbol,name:s.security.name,currency:i.currency,x_rate:i.currency==="usd"?1/this.wallet.xcurrency.rate:1,quantity:i.quantity,cash:s.security.symbol=="REALCASH",history:h,values:{low_price:s.security.low_price,low_date:s.security.low_date,high_price:s.security.high_price,high_date:s.security.high_date,book_price:i.book_value/i.quantity,book_value:i.book_value,daily_change:0,daily_date:s.security.last_date,daily_gain_amount:0,daily_gain_percent:0,period_gain_amount:0,period_gain_percent:0,overall_gain_amount:i.quantity*s.security.last_price-i.book_value,overall_gain_percent:(i.quantity*s.security.last_price-i.book_value)/i.book_value,close_price:s.security.last_price,close_date:s.security.last_date,market_price:s.security.last_price,market_date:s.security.last_date,market_value:i.quantity*s.security.last_price,market_price_CAD:s.security.last_price*(i.currency==="usd"?1/this.wallet.xcurrency.rate:1),market_value_CAD:i.quantity*s.security.last_price*(i.currency==="usd"?1/this.wallet.xcurrency.rate:1)}})});y.push(v)})}),Promise.all(y)},extract_accounts(){this.data.institutions.forEach(y=>{const s=new Map;y.investments.forEach(i=>{const v=this.get_account_number(i);if(!i.ignored&&!Bu(v)){let h=s.get(v);h==null&&(h={institution:{name:y.name,type:y.type},number:v,name:i.name,type:Uu(i.type),order:$u(v),no_holdings:Hu(v),expanded:!1,subaccounts:[],values:{close_amount:0,daily_gain_amount:0,period_gain_amount:0,overall_gain_amount:0,market_value:0,market_value_CAD:0,market_value_USD:0,market_value_totalCAD:0,subaccounts_weights:0,account_weights:0}}),h.no_holdings&&(h.values.market_value_CAD=i.currency!="usd"?i.currency_value:0,h.values.market_value_USD=i.currency=="usd"?i.currency_value:0,h.values.market_value_totalCAD=i.value),h.subaccounts.push({id:i._id,name:i.name,currency:i.currency,expanded:!0,holdings:this.data.holdings.filter(l=>l.subaccount_id===i._id),values:{book_value:0,daily_gain_amount:0,daily_gain_percent:0,period_gain_amoumt:0,period_gain_percent:0,overall_gain_amount:0,overall_gain_percent:0,market_value_CAD:0,market_value_USD:0,market_value_totalCAD:0,holding_weights:0,weight:0}}),s.set(v,h)}}),this.wallet.accounts.push(...Array.from(s.values()))}),this.wallet.accounts.sort((y,s)=>y.order-s.order)},refresh_wallet(){this.update_stock_prices().then(()=>{this.calc_holdings_weigths(),this.calc_subaccounts_totals(),this.calc_accounts_totals(),this.calc_accounts_weigths(),this.calc_wallet_totals(),this.log_data()})},update_stock_prices(){return new Promise((y,s)=>{let i=this.wallet.accounts.flatMap(v=>v.subaccounts.flatMap(h=>h.holdings.map(l=>l.symbol_mrkt)));i&&i.length>0?this.fetch_stock_prices(i).then(v=>{this.data.streams=v;let h=Object.fromEntries(this.data.streams.securities.map(l=>[`${l.market}:${l.symbol.split(":")[1]}`,l]));this.wallet.accounts.forEach(l=>l.subaccounts.forEach(C=>C.holdings.forEach(N=>{let j=h[N.symbol_mrkt];j&&(N.values.close_price=j.price-j.change,N.values.close_amount=N.quantity*(j.price-j.change),N.values.daily_change=j.change,N.values.daily_date=j.update_date,N.values.daily_gain_amount=N.quantity*j.change,N.values.daily_gain_percent=N.values.close_price/(N.values.close_price-j.change)-1,N.values.period_gain_amount=0,N.values.period_gain_percent=0,N.values.overall_gain_amount=N.quantity*j.price-N.values.book_value,N.values.overall_gain_percent=(N.quantity*j.price-N.values.book_value)/N.values.book_value,N.values.market_price=j.price,N.values.market_value=N.quantity*j.price,N.values.market_date=j.quote_date,N.values.market_price_CAD=j.price*(N.currency==="usd"?1/this.wallet.xcurrency.rate:1),N.values.market_value_CAD=N.quantity*j.price*(N.currency==="usd"?1/this.wallet.xcurrency.rate:1))}))),y()}).catch(v=>{console.log("Error updating stock prices:",v),s(v)}):(console.log("Warning: no stocks to update."),y())})},calc_holdings_weigths(){this.wallet.accounts.forEach(y=>{let s=y.subaccounts.flatMap(i=>i.holdings).reduce((i,v)=>i+v.values.market_value,0);y.subaccounts.forEach(i=>{i.holdings.forEach(v=>{v.values.weight=v.values.market_value/s}),i.holdings.sort((v,h)=>h.values.weight-v.values.weight)})})},calc_subaccounts_totals(){this.wallet.accounts.forEach(y=>{y.subaccounts.forEach(s=>{let i=s.holdings.reduce((v,h)=>(h.symbol!="REALCASH"&&(v.book_value+=h.values.book_value,v.close_amount+=h.values.close_amount,v.daily_gain_amount+=h.values.daily_gain_amount,v.period_gain_amount+=h.values.period_gain_amount,v.overall_gain_amount+=h.values.overall_gain_amount),v.market_value+=h.values.market_value,v.market_value_CAD+=s.currency!="usd"?h.values.market_value:0,v.market_value_USD+=s.currency=="usd"?h.values.market_value:0,v.market_value_totalCAD+=h.values.market_value_CAD,v.holding_weights+=h.values.weight,v.weight+=h.values.weight,v),{book_value:0,close_amount:0,daily_gain_amount:0,period_gain_amount:0,overall_gain_amount:0,market_value:0,market_value_CAD:0,market_value_USD:0,market_value_totalCAD:0,holding_weights:0,weight:0});i.daily_gain_percent=i.market_value/(i.market_value-i.daily_gain_amount)-1,i.overall_gain_percent=i.market_value/(i.market_value-i.overall_gain_amount)-1,Object.assign(s.values,i)})})},calc_subaccouts_weigths(){this.wallet.accounts.forEach(y=>{let s=y.subaccounts.reduce((i,v)=>i+v.values.market_value_totalCAD,0);y.subaccounts.forEach(i=>{i.values.weight=i.values.market_value_totalCAD/s})})},calc_accounts_totals(){this.wallet.accounts.forEach(y=>{if(!y.no_holdings){let s=y.subaccounts.reduce((i,v)=>(i.book_value+=v.values.book_value,i.close_amount+=v.values.close_amount,i.daily_gain_amount+=v.values.daily_gain_amount,i.period_gain_amount+=v.values.period_gain_amount,i.overall_gain_amount+=v.values.overall_gain_amount,i.market_value+=v.values.market_value,i.market_value_CAD+=v.currency!="usd"?v.values.market_value:0,i.market_value_USD+=v.currency=="usd"?v.values.market_value:0,i.market_value_totalCAD+=v.values.market_value_totalCAD,i.subaccounts_weights+=v.values.weight,i),{book_value:0,close_amount:0,daily_gain_amount:0,period_gain_amount:0,overall_gain_amount:0,market_value:0,market_value_CAD:0,market_value_USD:0,market_value_totalCAD:0,subaccounts_weights:0});s.daily_gain_percent=s.market_value/(s.market_value-s.daily_gain_amount)-1,s.overall_gain_percent=s.market_value/(s.market_value-s.overall_gain_amount)-1,Object.assign(y.values,s)}})},calc_accounts_weigths(){let y=this.wallet.accounts.reduce((s,i)=>s+i.values.market_value_totalCAD,0);this.wallet.accounts.forEach(s=>{s.values.weight=s.values.market_value_totalCAD/y})},calc_wallet_totals(){let y=this.wallet.accounts.reduce((s,i)=>(s.book_value+=i.values.book_value,s.close_amount+=i.values.close_amount,s.daily_gain_amount+=i.values.daily_gain_amount,s.period_gain_amount+=i.values.period_gain_amount,s.overall_gain_amount+=i.values.overall_gain_amount,s.market_value+=i.values.market_value,s.market_value_CAD+=i.values.market_value_CAD,s.market_value_USD+=i.values.market_value_USD,s.market_value_totalCAD+=i.values.market_value_totalCAD,s.account_weights+=i.values.weight,s),{book_value:0,close_amount:0,daily_gain_amount:0,period_gain_amount:0,overall_gain_amount:0,market_value:0,market_value_CAD:0,market_value_USD:0,market_value_totalCAD:0,account_weights:0});y.daily_gain_percent=y.market_value/(y.market_value-y.daily_gain_amount)-1,y.overall_gain_percent=y.market_value/(y.market_value-y.overall_gain_amount)-1,Object.assign(this.wallet.values,y)},get_account_number(y){return y.account_number?y.account_number:y.id},log_data(){Xp()&&(Mu.portfolio.forEach(y=>{(y.enabled||Ju.log_all)&&console.log(y.id,this.data[y.id])}),console.log(Mu.wallet.id,this.wallet))}},computed:{xcurrency_info(){if(this.wallet.xcurrency){let y=this.wallet.xcurrency.id.toUpperCase(),s=(1/this.wallet.xcurrency.rate).toFixed(4),i=this.wallet.xcurrency.rate.toFixed(4);return`1 ${y} = ${s} CAD, 1 CAD = ${i} ${y}`}else return"undefined"},xcurrency_date(){return this.wallet.xcurrency?br(this.wallet.xcurrency.date,"long_date_hour"):"undefined"}}},Ru=Object.assign(Xm,{__name:"portfolio_old",setup(y){return(s,i)=>($e(),Ve(Sn,null,[s.wallet.accounts&&s.wallet.accounts.length?($e(),Ve("div",em,[O("table",tm,[O("thead",null,[O("tr",nm,[rm,J(Xt,{group_name:"Daily CAD"}),J(Xt,{group_name:"Overall CAD"}),im]),om]),($e(!0),Ve(Sn,null,ar(s.wallet.accounts,v=>($e(),Ve("tbody",{key:v.account_number},[O("tr",{id:"accounts",class:on(["accounts",[{expanded:v.expanded}]])},[J(qi,{institution:v.institution.type,name:v.name,number:v.number,type:v.type,show_expand:!v.no_holdings,expanded:v.expanded,onToggle:h=>v.expanded=!v.expanded},null,8,["institution","name","number","type","show_expand","expanded","onToggle"]),J(Ae,{value:v.values.daily_gain_amount,highlighted:!0},null,8,["value"]),J(vt,{value:v.values.daily_gain_percent,arrow:!0},null,8,["value"]),J(Ae,{value:v.values.overall_gain_amount,highlighted:!0},null,8,["value"]),J(vt,{value:v.values.overall_gain_percent,arrow:!0},null,8,["value"]),J(Ae,{span:2,value:v.values.market_value_CAD,colored:!1},null,8,["value"]),J(Ae,{span:2,value:v.values.market_value_USD,colored:!1},null,8,["value"]),J(Ae,{span:2,value:v.values.market_value_totalCAD},null,8,["value"]),J(vt,{value:v.values.weight,colored:!1},null,8,["value"])],2),v.expanded&&v.subaccounts&&v.subaccounts.length?($e(!0),Ve(Sn,{key:0},ar(v.subaccounts,h=>($e(),Ve(Sn,{key:h.id},[O("tr",{id:"subaccounts",class:on(["subaccounts",[{expanded:h.expanded}]])},[J(qi,{institution:"--",name:h.name,currency:h.currency,expanded:h.expanded,onToggle:l=>h.expanded=!h.expanded},null,8,["name","currency","expanded","onToggle"]),J(Ae,{value:h.values.daily_gain_amount,highlighted:!0,visible:!h.expanded},null,8,["value","visible"]),J(vt,{value:h.values.daily_gain_percent,arrow:!0,visible:!h.expanded},null,8,["value","visible"]),J(Ae,{value:h.values.overall_gain_amount,highlighted:!0,visible:!h.expanded},null,8,["value","visible"]),J(vt,{value:h.values.overall_gain_percent,arrow:!0,visible:!h.expanded},null,8,["value","visible"]),J(Ae,{span:2,value:h.values.market_value_CAD,colored:!1,visible:!h.expanded},null,8,["value","visible"]),J(Ae,{span:2,value:h.values.market_value_USD,colored:!1,visible:!h.expanded},null,8,["value","visible"]),J(Ae,{span:2,value:h.values.market_value_totalCAD,visible:!h.expanded},null,8,["value","visible"]),J(vt,{value:h.values.weight,colored:!1,visible:!h.expanded},null,8,["value","visible"])],2),h.expanded?($e(),Ve("tr",am)):Ot("",!0),h.expanded?($e(),Ve("tr",sm,[um,lm,cm,J(Xt,{group_name:"Book"}),J(Xt,{group_name:"Daily"}),J(Xt,{group_name:"Overall"}),J(Xt,{group_name:"52 weeks"}),J(Xt,{group_name:"Market"}),J(Xt,{group_name:"Market CAD"}),fm])):Ot("",!0),h.expanded?($e(),Ve("tr",dm,Om)):Ot("",!0),h.expanded?($e(!0),Ve(Sn,{key:3},ar(h.holdings.filter(l=>!l.cash),l=>($e(),Ve("tr",Mm,[J(Hi,{market:l.market,symbol:l.symbol,name:l.name},null,8,["market","symbol","name"]),Im,J(Nr,{value:l.quantity,align:"center",colored:!1},null,8,["value"]),J(Ae,{value:l.values.book_price,colored:!1,tooltip:Ht(Qp)(l.values.book_price)},null,8,["value","tooltip"]),J(Ae,{value:l.values.book_value,colored:!1},null,8,["value"]),J(Ae,{value:l.values.daily_gain_amount,highlighted:!0,tooltip:Ht(Fu)(l.values.daily_change,l.values.market_date)},null,8,["value","tooltip"]),J(vt,{value:l.values.daily_gain_percent,arrow:!0,tooltip:Ht(Fu)(l.values.daily_change,l.values.market_date)},null,8,["value","tooltip"]),J(Ae,{value:l.values.overall_gain_amount,highlighted:!0},null,8,["value"]),J(vt,{value:l.values.overall_gain_percent,arrow:!0},null,8,["value"]),J(Ae,{value:l.history.low.value,colored:!1,tooltip:Ht(Iu)(l.history.low.date)},null,8,["value","tooltip"]),J(Ae,{value:l.history.high.value,colored:!1,tooltip:Ht(Iu)(l.history.high.date)},null,8,["value","tooltip"]),J(Ae,{value:l.values.market_price,colored:!1,tooltip:Ht(Zp)(l.values.market_date)},null,8,["value","tooltip"]),J(Ae,{value:l.values.market_value,colored:!1},null,8,["value"]),J(Ae,{value:l.values.market_price_CAD,tooltip:Ht(Pu)(l.currency,l.x_rate)},null,8,["value","tooltip"]),J(Ae,{value:l.values.market_value_CAD,tooltip:Ht(Pu)(l.currency,l.x_rate)},null,8,["value","tooltip"]),J(vt,{value:l.values.weight,colored:!1},null,8,["value"])]))),256)):Ot("",!0),h.expanded?($e(!0),Ve(Sn,{key:4},ar(h.holdings.filter(l=>l.cash),l=>($e(),Ve("tr",Fm,[J(Hi,{market:l.market,symbol:l.symbol,name:l.name},null,8,["market","symbol","name"]),Pm,Rm,J(Ae,{value:l.values.market_value,colored:!1},null,8,["value"]),Lm,J(Ae,{value:l.values.market_value_CAD},null,8,["value"]),J(vt,{value:l.values.weight,colored:!1},null,8,["value"])]))),256)):Ot("",!0),h.expanded?($e(),Ve("tr",Dm,[Nm,J(Ae,{value:h.values.book_value,colored:!1},null,8,["value"]),J(Ae,{value:h.values.daily_gain_amount,highlighted:!0},null,8,["value"]),J(vt,{value:h.values.daily_gain_percent,arrow:!0},null,8,["value"]),J(Ae,{value:h.values.overall_gain_amount,highlighted:!0},null,8,["value"]),J(vt,{value:h.values.overall_gain_percent,arrow:!0},null,8,["value"]),Wm,zm,Um,J(Ae,{value:h.values.market_value,colored:!1},null,8,["value"]),Bm,J(Ae,{value:h.values.market_value_totalCAD},null,8,["value"]),J(vt,{value:h.values.holding_weights,colored:!1},null,8,["value"])])):Ot("",!0)],64))),128)):Ot("",!0),v.expanded?($e(),Ve("tr",$m,qm)):Ot("",!0)]))),128)),O("tfoot",null,[O("tr",Gm,[Jm,J(Ae,{value:s.wallet.values.daily_gain_amount,highlighted:!0},null,8,["value"]),J(vt,{value:s.wallet.values.daily_gain_percent,arrow:!0},null,8,["value"]),J(Ae,{value:s.wallet.values.overall_gain_amount,highlighted:!0},null,8,["value"]),J(vt,{value:s.wallet.values.overall_gain_percent,arrow:!0},null,8,["value"]),J(Ae,{span:2,value:s.wallet.values.market_value_CAD,colored:!1},null,8,["value"]),J(Ae,{span:2,value:s.wallet.values.market_value_USD,colored:!1},null,8,["value"]),J(Ae,{span:2,value:s.wallet.values.market_value_totalCAD},null,8,["value"]),J(vt,{value:s.wallet.values.account_weights,colored:!1},null,8,["value"])])])])])):Ot("",!0),O("div",Km,[Vm,O("div",Ym,[s.wallet.xcurrency?($e(),Ve("div",{key:0,class:"x-rate-info",title:s.xcurrency_date},Kn(s.xcurrency_info),9,jm)):Ot("",!0),O("button",{onClick:i[0]||(i[0]=(...v)=>s.refresh_wallet&&s.refresh_wallet(...v))},"Refresh")])])],64))}}),Zm={name:"tab_performance"},Qm={class:"tab-container"},ey=O("div",{class:"tab-logo-container"},[O("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-performance-icon.png",alt:"Under Construction",class:"tab-logo-centered"})],-1),ty=[ey];function ny(y,s,i,v,h,l){return $e(),Ve("div",Qm,ty)}const Lu=sr(Zm,[["render",ny]]),ry={name:"tab_wealth"},iy={class:"tab-container"},oy=O("div",{class:"tab-logo-container"},[O("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-wealth-icon.png",alt:"Under Construction",class:"tab-logo-centered"})],-1),ay=[oy];function sy(y,s,i,v,h,l){return $e(),Ve("div",iy,ay)}const Du=sr(ry,[["render",sy]]),uy={name:"tab_transactions"},ly={class:"tab-container"},cy=O("div",{class:"tab-logo-container"},[O("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-transactions-icon.png",alt:"Under Construction",class:"tab-logo-centered"})],-1),fy=[cy];function dy(y,s,i,v,h,l){return $e(),Ve("div",ly,fy)}const Nu=sr(uy,[["render",dy]]),hy={class:"tabs-container"},gy={class:"tabs"},_y=O("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-dashboard-icon.png",alt:"",class:"tab-img"},null,-1),vy=O("span",null,"Dashboard",-1),py=[_y,vy],my=O("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-portfolio-icon.png",alt:"",class:"tab-img"},null,-1),yy=O("span",null,"Portfolio",-1),wy=[my,yy],by=O("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-portfolio-icon.png",alt:"",class:"tab-img"},null,-1),xy=O("span",null,"Portfolio (old)",-1),Ey=[by,xy],Ty=O("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-performance-icon.png",alt:"",class:"tab-img"},null,-1),ky=O("span",null,"Performance",-1),Ay=[Ty,ky],Sy=O("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-wealth-icon.png",alt:"",class:"tab-img"},null,-1),Cy=O("span",null,"Wealth",-1),Oy=[Sy,Cy],My=O("img",{src:"https://portfoliotech.github.io/investify/static/img/tab-transactions-icon.png",alt:"",class:"tab-img"},null,-1),Iy=O("span",null,"Transactions",-1),Fy=[My,Iy],Py={class:"state"},Ry={key:0,src:"https://portfoliotech.github.io/investify/static/img/loading.gif",alt:"Loading...",class:"loading-gif"},Ly=O("div",{class:"top-space"},null,-1),Dy={name:"App",components:{Dashboard:Cu,Portfolio:Ou,Portfolio_old:Ru,Performance:Lu,Wealth:Du,Transactions:Nu},data(){return{state:{loading:!0},active_tab:"Portfolio",tabs:{Dashboard:Dr(Cu),Portfolio:Dr(Ou),Portfolio_old:Dr(Ru),Performance:Dr(Lu),Wealth:Dr(Du),Transactions:Dr(Nu)}}},provide(){return{data_store:new fv,state:this.state}},computed:{get_active_tab(){return this.tabs[this.active_tab]}}},zy=Object.assign(Dy,{setup(y){return(s,i)=>($e(),Ve("div",null,[O("div",hy,[O("div",gy,[O("div",{onClick:i[0]||(i[0]=v=>s.active_tab="Dashboard"),class:on(["tab",{"tab-active":s.active_tab==="Dashboard"}])},py,2),O("div",{onClick:i[1]||(i[1]=v=>s.active_tab="Portfolio"),class:on(["tab",{"tab-active":s.active_tab==="Portfolio"}])},wy,2),O("div",{onClick:i[2]||(i[2]=v=>s.active_tab="Portfolio_old"),class:on(["tab",{"tab-active":s.active_tab==="Portfolio_old"}])},Ey,2),O("div",{onClick:i[3]||(i[3]=v=>s.active_tab="Performance"),class:on(["tab",{"tab-active":s.active_tab==="Performance"}])},Ay,2),O("div",{onClick:i[4]||(i[4]=v=>s.active_tab="Wealth"),class:on(["tab",{"tab-active":s.active_tab==="Wealth"}])},Oy,2),O("div",{onClick:i[5]||(i[5]=v=>s.active_tab="Transactions"),class:on(["tab",{"tab-active":s.active_tab==="Transactions"}])},Fy,2)]),O("div",Py,[s.state.loading?($e(),Ve("img",Ry)):Ot("",!0)])]),Ly,O("div",null,[($e(),Bi(rv,null,[($e(),Bi(nv(s.get_active_tab)))],1024))])]))}});export{zy as default};
